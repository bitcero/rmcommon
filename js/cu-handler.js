!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,(function t(e,n){"use strict";var o={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",helpButton:"<a href='%s' class='help-button' target='_blank'>?</a>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},i={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",id:"",helpButton:!1,helpUrl:"#"},s={};function r(t){var e=f[i.locale];return e?e[t]:f.en[t]}function a(t,n,o){t.stopPropagation(),t.preventDefault(),e.isFunction(o)&&!1===o.call(n,t)||n.modal("hide")}function c(t,n){var o=0;e.each(t,(function(t,e){n(t,e,o++)}))}function l(t,n,o){return e.extend(!0,{},t,function(t,e){var n=t.length,o={};if(n<1||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(o[e[0]]=t[0],o[e[1]]=t[1]):o=t[0],o}(n,o))}function p(t,e,n,o){return d(l({className:"bootbox-"+t,buttons:u.apply(null,e)},o,n),e)}function u(){for(var t={},e=0,n=arguments.length;e<n;e++){var o=arguments[e],i=o.toLowerCase(),s=o.toUpperCase();t[i]={label:r(s)}}return t}function d(t,e){var o={};return c(e,(function(t,e){o[e]=!0})),c(t.buttons,(function(t){if(o[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")})),t}s.alert=function(){var t;if((t=p("alert",["ok"],["message","callback"],arguments)).callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},s.dialog(t)},s.confirm=function(){var t;if((t=p("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return s.dialog(t)},s.prompt=function(){var t,i,r,a,p,f,h;if(a=e(o.form),i={className:"bootbox-prompt",buttons:u("cancel","confirm"),value:"",inputType:"text"},f=(t=d(l(i,arguments,["title","callback"]),["cancel","confirm"])).show===n||t.show,t.message=a,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=p.val();break;case"checkbox":var o=p.find("input:checked");n=[],c(o,(function(t,o){n.push(e(o).val())}))}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!o.inputs[t.inputType])throw new Error("invalid prompt type");switch(p=e(o.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":p.val(t.value);break;case"select":var m={};if(h=t.inputOptions||[],!e.isArray(h))throw new Error("Please pass an array of input options");if(!h.length)throw new Error("prompt with select requires options");c(h,(function(t,o){var i=p;if(o.value===n||o.text===n)throw new Error("given options in wrong format");o.group&&(m[o.group]||(m[o.group]=e("<optgroup/>").attr("label",o.group)),i=m[o.group]),i.append("<option value='"+o.value+"'>"+o.text+"</option>")})),c(m,(function(t,e){p.append(e)})),p.val(t.value);break;case"checkbox":var b=e.isArray(t.value)?t.value:[t.value];if(!(h=t.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!h[0].value||!h[0].text)throw new Error("given options in wrong format");p=e("<div/>"),c(h,(function(n,i){var s=e(o.inputs[t.inputType]);s.find("input").attr("value",i.value),s.find("label").append(i.text),c(b,(function(t,e){e===i.value&&s.find("input").prop("checked",!0)})),p.append(s)}))}return t.placeholder&&p.attr("placeholder",t.placeholder),t.pattern&&p.attr("pattern",t.pattern),t.maxlength&&p.attr("maxlength",t.maxlength),a.append(p),a.on("submit",(function(t){t.preventDefault(),t.stopPropagation(),r.find(".btn-primary").click()})),(r=s.dialog(t)).off("shown.bs.modal"),r.on("shown.bs.modal",(function(){p.focus()})),!0===f&&r.modal("show"),r},s.dialog=function(t){t=function(t){var n,o;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=e.extend({},i,t)).buttons||(t.buttons={}),n=t.buttons,o=function(t){var e,n=0;for(e in t)n++;return n}(n),c(n,(function(t,i,s){if(e.isFunction(i)&&(i=n[t]={callback:i}),"object"!==e.type(i))throw new Error("button with key "+t+" must be an object");i.label||(i.label=t),i.className||(i.className=o<=2&&s===o-1?"btn-primary":"btn-default")})),t}(t);var s=e(o.dialog),r=s.find(".modal-dialog"),l=s.find(".modal-body"),p=t.buttons,u="",d={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(c(p,(function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",d[t]=e.callback})),l.find(".bootbox-body").html(t.message),t.id&&s.attr("id",t.id),!0===t.animate&&s.addClass("fade"),t.owner&&s.attr("data-owner",t.owner),t.className&&s.addClass(t.className),t.width&&(t.size="small"==t.width?"bsmall":t.width),t.size&&r.addClass(t.size),t.color!=n&&""!=t.color&&r.addClass("modal-"+t.color),t.title&&l.before(o.header),t.solid&&s.addClass("modal-solid"),t.helpButton){var f=e(o.helpButton.replace("%s",t.helpUrl));t.title?s.find(".modal-header").prepend(f):f.css("margin-top","-10px").prependTo(l)}if(t.closeButton){var h=e(o.closeButton);t.title?s.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(l)}return t.title&&(t.icon?s.find(".modal-title").html('<i class="'+t.icon+'"></i> '+t.title):s.find(".modal-title").html(t.title)),u.length&&(l.after(o.footer),s.find(".modal-footer").html(u)),s.on("hidden.bs.modal",(function(t){t.target===this&&s.remove()})),s.on("shown.bs.modal",(function(){s.find(".btn-primary:first").focus()})),"static"!==t.backdrop&&s.on("click.dismiss.bs.modal",(function(t){s.children(".modal-backdrop").length&&(t.currentTarget=s.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&s.trigger("escape.close.bb")})),""!=t.id&&s.attr("id",t.id),s.on("escape.close.bb",(function(t){d.onEscape&&a(t,s,d.onEscape)})),s.on("click",".modal-footer button",(function(t){var n=e(this).data("bb-handler");a(t,s,d[n])})),s.on("click",".bootbox-close-button",(function(t){a(t,s,d.onEscape)})),s.on("keyup",(function(t){27===t.which&&s.trigger("escape.close.bb")})),e(t.container).append(s),s.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&s.modal("show"),s},s.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(i,t)},s.hideAll=function(){return e(".bootbox").modal("hide"),s};var f={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return s.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],(function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")})),f[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},s},s.removeLocale=function(t){return delete f[t],s},s.setLocale=function(t){return s.setDefaults("locale",t)},s.init=function(n){return t(n||e)},s})),function(t){t.fn.cuSpinner=function(e){var n=t.extend({icon:"svg-rmcommon-spinner-06",type:"spin",hide:"cu-icon",class:"",steps:12,speed:3},e);n.type="spin"!=n.type&&"pulse"!=n.type?"spin":n.type;"pulse"==n.type?n.steps:n.speed;return this.each((function(){var e=t(this),o=cuHandler.getIcon(n.icon);o||(o=cuHandler.getIcon("svg-rmcommon-spinner-06"));var i=t(this).find(".cu-spinner");if(i.length>0)return t(i).remove(),t(this).find(".cu-spinner-hide").removeClass("cu-spinner-hide").show(),!0;var s=t("<span />",{class:"cu-icon cu-spinner"+(""!=n.class?" "+n.class:"")});return s.load(o,(function(){var o=t(e).find("."+n.hide);o.length>0?(o.addClass("cu-spinner-hide").hide(),t(o[0]).after(s)):t(e).prepend(s)})),!0}))}}(jQuery),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define("pnotify",["jquery"],t):t(jQuery)}((function(t){var e,n,o={dir1:"down",dir2:"left",push:"bottom",spacing1:5,spacing2:5,context:t("body")},i=t(window),s=function(){n=t("body"),PNotify.prototype.options.stack.context=n,(i=t(window)).bind("resize",(function(){e&&clearTimeout(e),e=setTimeout((function(){PNotify.positionAll(!0)}),10)}))};return PNotify=function(t){this.parseOptions(t),this.init()},t.extend(PNotify.prototype,{version:"2.1.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:o},modules:{},runModules:function(t,e){var n;for(var o in this.modules)n="object"==typeof e&&o in e?e[o]:e,"function"==typeof this.modules[o][t]&&this.modules[o][t](this,"object"==typeof this.options[o]?this.options[o]:{},n)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var e=this;if(this.modules={},t.extend(!0,this.modules,PNotify.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=PNotify.styling[this.options.styling],this.elem=t("<div />",{class:"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive",mouseenter:function(t){if(e.options.mouse_reset&&"out"===e.animating){if(!e.timerHide)return;e.cancelRemove()}e.options.hide&&e.options.mouse_reset&&e.cancelRemove()},mouseleave:function(t){e.options.hide&&e.options.mouse_reset&&"out"!==e.animating&&e.queueRemove(),PNotify.positionAll()}}),this.container=t("<div />",{class:"alert "+this.options.type,role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon)if("string"==typeof this.options.icon){var n=t("<div />",{class:"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,n),n.prependTo(this.container)}else t("<div />",{class:"ui-pnotify-icon"}).append(t("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.title_container=t("<h4 />",{class:"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=t("<div />",{class:"ui-pnotify-text"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?PNotify.notices=t.merge([this],PNotify.notices):PNotify.notices=t.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(e){var n=this.options;if(this.parseOptions(n,e),this.options.cornerclass!==n.cornerclass&&this.container.removeClass("ui-corner-all "+n.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==n.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(n.addclass):this.options.addclass!==n.addclass&&this.elem.removeClass(n.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==n.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===n.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==n.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===n.text&&this.text_container.slideDown(200)),this.options.type!==n.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type),(this.options.icon!==n.icon||!0===this.options.icon&&this.options.type!==n.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon))if("string"==typeof this.options.icon){var o=t("<div />",{class:"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,o),o.prependTo(this.container)}else t("<div />",{class:"ui-pnotify-icon"}).append(t("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.options.min_height!==n.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==n.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?n.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",n),this},open:function(){this.state="opening",this.runModules("beforeOpen");var t=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:n),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn((function(){t.queuePosition(!0),t.options.hide&&t.queueRemove(),t.state="open",t.runModules("afterOpen")})),this},remove:function(e){this.state="closing",this.timerHide=!!e,this.runModules("beforeClose");var n=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut((function(){if(n.state="closed",n.runModules("afterClose"),n.queuePosition(!0),n.options.remove&&n.elem.detach(),n.runModules("beforeDestroy"),n.options.destroy&&null!==PNotify.notices){var e=t.inArray(n,PNotify.notices);-1!==e&&PNotify.notices.splice(e,1)}n.runModules("afterDestroy")})),this},get:function(){return this.elem},parseOptions:function(e,n){this.options=t.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;for(var o,i=[e,n],s=0;s<i.length&&void 0!==(o=i[s]);s++)if("object"!=typeof o)this.options.text=o;else for(var r in o)this.modules[r]?t.extend(!0,this.options[r],o[r]):this.options[r]=o[r]},animateIn:function(t){var e;this.animating="in","none"===(e=void 0!==this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation)?(this.elem.show(),t()):"show"===e?this.elem.show(this.options.animate_speed,t):"fade"===e?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,t):"slide"===e?this.elem.slideDown(this.options.animate_speed,t):"function"==typeof e?e("in",t,this.elem):this.elem.show(e,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==e&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(t){var e;this.animating="out","none"===(e=void 0!==this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation)?(this.elem.hide(),t()):"show"===e?this.elem.hide(this.options.animate_speed,t):"fade"===e?this.elem.fadeOut(this.options.animate_speed,t):"slide"===e?this.elem.slideUp(this.options.animate_speed,t):"function"==typeof e?e("out",t,this.elem):this.elem.hide(e,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==e&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(t){var e=this.options.stack,o=this.elem;if(o.parent().hasClass("ui-effects-wrapper")&&(o=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),void 0===e.context&&(e.context=n),e){"number"!=typeof e.nextpos1&&(e.nextpos1=e.firstpos1),"number"!=typeof e.nextpos2&&(e.nextpos2=e.firstpos2),"number"!=typeof e.addpos2&&(e.addpos2=0);var s="none"===o.css("display");if(!s||t){var r,a,c,l,p={};switch(e.dir1){case"down":c="top";break;case"up":c="bottom";break;case"left":c="right";break;case"right":c="left"}switch(r=parseInt(o.css(c).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(r)&&(r=0),void 0!==e.firstpos1||s||(e.firstpos1=r,e.nextpos1=e.firstpos1),e.dir2){case"down":l="top";break;case"up":l="bottom";break;case"left":l="right";break;case"right":l="left"}if(a=parseInt(o.css(l).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(a)&&(a=0),void 0!==e.firstpos2||s||(e.firstpos2=a,e.nextpos2=e.firstpos2),("down"===e.dir1&&e.nextpos1+o.height()>(e.context.is(n)?i.height():e.context.prop("scrollHeight"))||"up"===e.dir1&&e.nextpos1+o.height()>(e.context.is(n)?i.height():e.context.prop("scrollHeight"))||"left"===e.dir1&&e.nextpos1+o.width()>(e.context.is(n)?i.width():e.context.prop("scrollWidth"))||"right"===e.dir1&&e.nextpos1+o.width()>(e.context.is(n)?i.width():e.context.prop("scrollWidth")))&&(e.nextpos1=e.firstpos1,e.nextpos2+=e.addpos2+(void 0===e.spacing2?25:e.spacing2),e.addpos2=0),e.animation&&e.nextpos2<a)switch(e.dir2){case"down":p.top=e.nextpos2+"px";break;case"up":p.bottom=e.nextpos2+"px";break;case"left":p.right=e.nextpos2+"px";break;case"right":p.left=e.nextpos2+"px"}else"number"==typeof e.nextpos2&&o.css(l,e.nextpos2+"px");switch(e.dir2){case"down":case"up":o.outerHeight(!0)>e.addpos2&&(e.addpos2=o.height());break;case"left":case"right":o.outerWidth(!0)>e.addpos2&&(e.addpos2=o.width())}if("number"==typeof e.nextpos1)if(e.animation&&(r>e.nextpos1||p.top||p.bottom||p.right||p.left))switch(e.dir1){case"down":p.top=e.nextpos1+"px";break;case"up":p.bottom=e.nextpos1+"px";break;case"left":p.right=e.nextpos1+"px";break;case"right":p.left=e.nextpos1+"px"}else o.css(c,e.nextpos1+"px");switch((p.top||p.bottom||p.right||p.left)&&o.animate(p,{duration:this.options.position_animate_speed,queue:!1}),e.dir1){case"down":case"up":e.nextpos1+=o.height()+(void 0===e.spacing1?5:e.spacing1);break;case"left":case"right":e.nextpos1+=o.width()+(void 0===e.spacing1?5:e.spacing1)}}return this}},queuePosition:function(t,n){return e&&clearTimeout(e),n||(n=10),e=setTimeout((function(){PNotify.positionAll(t)}),n),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var t=this;return this.cancelRemove(),this.timer=window.setTimeout((function(){t.remove(!0)}),isNaN(this.options.delay)?0:this.options.delay),this}}),t.extend(PNotify,{notices:[],removeAll:function(){t.each(PNotify.notices,(function(){this.remove&&this.remove(!1)}))},positionAll:function(n){if(e&&clearTimeout(e),e=null,PNotify.notices&&PNotify.notices.length)t.each(PNotify.notices,(function(){var t=this.options.stack;t&&(t.nextpos1=t.firstpos1,t.nextpos2=t.firstpos2,t.addpos2=0,t.animation=n)})),t.each(PNotify.notices,(function(){this.position()}));else{var o=PNotify.prototype.options.stack;o&&(delete o.nextpos1,delete o.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=t.extend({},PNotify.styling.bootstrap3),t.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?s():t(s),PNotify})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],t):t(jQuery,PNotify)}((function(t,e){e.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick"}},e.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(e,n){var o=this;this.myOptions=n,e.elem.on({mouseenter:function(t){!o.myOptions.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!o.myOptions.show_on_nonblock||o.sticker.trigger("pnotify_icon").css("visibility","visible"),!o.myOptions.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!o.myOptions.show_on_nonblock||o.closer.css("visibility","visible")},mouseleave:function(t){o.myOptions.sticker_hover&&o.sticker.css("visibility","hidden"),o.myOptions.closer_hover&&o.closer.css("visibility","hidden")}}),this.sticker=t("<div />",{class:"ui-pnotify-sticker",css:{cursor:"pointer",visibility:n.sticker_hover?"hidden":"visible"},click:function(){e.options.hide=!e.options.hide,e.options.hide?e.queueRemove():e.cancelRemove(),t(this).trigger("pnotify_icon")}}).bind("pnotify_icon",(function(){t(this).children().removeClass(e.styles.pin_up+" "+e.styles.pin_down).addClass(e.options.hide?e.styles.pin_up:e.styles.pin_down),t(this).children().load(cuHandler.url("/modules/rmcommon/icons/"+(e.options.hide?"pause.svg":"play.svg")))})).append(t("<span />",{class:e.styles.pin_up,title:n.labels.stick}).load(cuHandler.url("/modules/rmcommon/icons/pause.svg"))).prependTo(e.container),(!n.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!n.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=t("<div />",{class:"ui-pnotify-closer",css:{cursor:"pointer",visibility:n.closer_hover?"hidden":"visible"},click:function(){e.remove(!1),o.sticker.css("visibility","hidden"),o.closer.css("visibility","hidden")}}).append(t("<span />",{class:e.styles.closer,title:n.labels.close}).load(cuHandler.url("/modules/rmcommon/icons/close.svg"))).prependTo(e.container),(!n.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!n.show_on_nonblock)&&this.closer.css("display","none")},update:function(t,e){this.myOptions=e,!e.closer||t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock?this.closer.css("display","none"):e.closer&&this.closer.css("display","block"),!e.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock?this.sticker.css("display","none"):e.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify_icon"),e.sticker_hover?this.sticker.css("visibility","hidden"):t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock||this.sticker.css("visibility","visible"),e.closer_hover?this.closer.css("visibility","hidden"):t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock||this.closer.css("visibility","visible")}},t.extend(e.styling.brighttheme,{closer:"cu-icon",pin_up:"cu-icon",pin_down:"cu-icon"}),t.extend(e.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),t.extend(e.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),t.extend(e.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),t.extend(e.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],t):t(jQuery,PNotify)}((function(t,e){var n=e.prototype.init,o=e.prototype.open,i=e.prototype.remove;e.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),n.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},e.prototype.open=function(){var t;this.options.before_open&&(t=this.options.before_open(this)),!1!==t&&(o.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},e.prototype.remove=function(t){var e;this.options.before_close&&(e=this.options.before_close(this,t)),!1!==e&&(i.apply(this,arguments),this.options.after_close&&this.options.after_close(this,t))}})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],t):t(jQuery,PNotify)}((function(t,e){e.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(t,e){t.remove(),t.get().trigger("pnotify.confirm",[t,e])}},{text:"Cancel",addClass:"",click:function(t){t.remove(),t.get().trigger("pnotify.cancel",t)}}]},e.prototype.modules.confirm={container:null,prompt:null,init:function(e,n){this.container=t('<div style="margin-top:5px;clear:both;" />').css("text-align",n.align).appendTo(e.container),n.confirm||n.prompt?this.makeDialog(e,n):this.container.hide()},update:function(t,e){e.confirm?(this.makeDialog(t,e),this.container.show()):this.container.hide().empty()},afterOpen:function(t,e){e.prompt&&this.prompt.focus()},makeDialog:function(e,n){var o,i,s=!1,r=this;for(var a in this.container.empty(),n.prompt&&(this.prompt=t("<"+(n.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass(e.styles.input+" "+n.prompt_class).val(n.prompt_default).appendTo(this.container)),n.buttons)o=n.buttons[a],s?this.container.append(" "):s=!0,i=t('<button type="button" />').addClass(e.styles.btn+" "+o.addClass).text(o.text).appendTo(this.container).on("click",function(t){return function(){"function"==typeof t.click&&t.click(e,n.prompt?r.prompt.val():null)}}(o)),n.prompt&&!n.prompt_multi_line&&o.promptTrigger&&this.prompt.keypress(function(t){return function(e){13==e.keyCode&&t.click()}}(i)),e.styles.text&&i.wrapInner('<span class="'+e.styles.text+'"></span>'),e.styles.btnhover&&i.hover(function(t){return function(){t.addClass(e.styles.btnhover)}}(i),function(t){return function(){t.removeClass(e.styles.btnhover)}}(i)),e.styles.btnactive&&i.on("mousedown",function(t){return function(){t.addClass(e.styles.btnactive)}}(i)).on("mouseup",function(t){return function(){t.removeClass(e.styles.btnactive)}}(i)),e.styles.btnfocus&&i.on("focus",function(t){return function(){t.addClass(e.styles.btnfocus)}}(i)).on("blur",function(t){return function(){t.removeClass(e.styles.btnfocus)}}(i))}},t.extend(e.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"}),t.extend(e.styling.bootstrap2,{btn:"btn",input:""}),t.extend(e.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),t.extend(e.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],t):t(jQuery,PNotify)}((function(t,e){var n,o=function(t,e){return(o="Notification"in window?function(t,e){return new Notification(t,e)}:"mozNotification"in navigator?function(t,e){return navigator.mozNotification.createNotification(t,e.body,e.icon).show()}:"webkitNotifications"in window?function(t,e){return window.webkitNotifications.createNotification(e.icon,t,e.body)}:function(t,e){return null})(t,e)};e.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null},e.prototype.modules.desktop={tag:null,icon:null,genNotice:function(t,e){null===e.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+t.options.type+".png":!1===e.icon?this.icon=null:this.icon=e.icon,null!==this.tag&&null===e.tag||(this.tag=null===e.tag?"PNotify-"+Math.round(1e6*Math.random()):e.tag),t.desktop=o(t.options.title,{icon:this.icon,body:t.options.text,tag:this.tag}),!("close"in t.desktop)&&"cancel"in t.desktop&&(t.desktop.close=function(){t.desktop.cancel()}),t.desktop.onclick=function(){t.elem.trigger("click")},t.desktop.onclose=function(){"closing"!==t.state&&"closed"!==t.state&&t.remove()}},init:function(t,o){o.desktop&&(0===(n=e.desktop.checkPermission())?this.genNotice(t,o):o.fallback||(t.options.auto_display=!1))},update:function(t,e,o){0!==n&&e.fallback||!e.desktop||this.genNotice(t,e)},beforeOpen:function(t,e){0!==n&&e.fallback||!e.desktop||t.elem.css({left:"-10000px",display:"none"})},afterOpen:function(t,e){0!==n&&e.fallback||!e.desktop||(t.elem.css({left:"-10000px",display:"none"}),"show"in t.desktop&&t.desktop.show())},beforeClose:function(t,e){0!==n&&e.fallback||!e.desktop||t.elem.css({left:"-10000px",display:"none"})},afterClose:function(t,e){0!==n&&e.fallback||!e.desktop||(t.elem.css({left:"-10000px",display:"none"}),"close"in t.desktop&&t.desktop.close())}},e.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},n=e.desktop.checkPermission()})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],t):t(jQuery,PNotify)}((function(t,e){var n,o=/^on/,i=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,s=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,r=/^(scroll|resize|(un)?load|abort|error)$/,a=function(e,n){var a;if(e=e.toLowerCase(),document.createEvent&&this.dispatchEvent){if((e=e.replace(o,"")).match(i)?(t(this).offset(),(a=document.createEvent("MouseEvents")).initMouseEvent(e,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)):e.match(s)?(a=document.createEvent("UIEvents")).initUIEvent(e,n.bubbles,n.cancelable,n.view,n.detail):e.match(r)&&(a=document.createEvent("HTMLEvents")).initEvent(e,n.bubbles,n.cancelable),!a)return;this.dispatchEvent(a)}else e.match(o)||(e="on"+e),a=document.createEventObject(n),this.fireEvent(e,a)},c=function(e,o,i){e.elem.css("display","none");var s=document.elementFromPoint(o.clientX,o.clientY);e.elem.css("display","block");var r=t(s),c=r.css("cursor");"auto"===c&&"A"===s.tagName&&(c="pointer"),e.elem.css("cursor","auto"!==c?c:"default"),n&&n.get(0)==s||(n&&(a.call(n.get(0),"mouseleave",o.originalEvent),a.call(n.get(0),"mouseout",o.originalEvent)),a.call(s,"mouseenter",o.originalEvent),a.call(s,"mouseover",o.originalEvent)),a.call(s,i,o.originalEvent),n=r};e.prototype.options.nonblock={nonblock:!1,nonblock_opacity:.2},e.prototype.modules.nonblock={myOptions:null,init:function(t,e){var o=this;this.myOptions=e,t.elem.on({mouseenter:function(e){o.myOptions.nonblock&&e.stopPropagation(),o.myOptions.nonblock&&t.elem.stop().animate({opacity:o.myOptions.nonblock_opacity},"fast")},mouseleave:function(e){o.myOptions.nonblock&&e.stopPropagation(),n=null,t.elem.css("cursor","auto"),o.myOptions.nonblock&&"out"!==t.animating&&t.elem.stop().animate({opacity:t.options.opacity},"fast")},mouseover:function(t){o.myOptions.nonblock&&t.stopPropagation()},mouseout:function(t){o.myOptions.nonblock&&t.stopPropagation()},mousemove:function(e){o.myOptions.nonblock&&(e.stopPropagation(),c(t,e,"onmousemove"))},mousedown:function(e){o.myOptions.nonblock&&(e.stopPropagation(),e.preventDefault(),c(t,e,"onmousedown"))},mouseup:function(e){o.myOptions.nonblock&&(e.stopPropagation(),e.preventDefault(),c(t,e,"onmouseup"))},click:function(e){o.myOptions.nonblock&&(e.stopPropagation(),c(t,e,"onclick"))},dblclick:function(e){o.myOptions.nonblock&&(e.stopPropagation(),c(t,e,"ondblclick"))}})},update:function(t,e){this.myOptions=e}}})),function(t,e){var n=e.jQuery;"object"==typeof exports?module.exports=n?t(e,n):function(n){if(n&&!n.fn)throw"Provide jQuery or null";return t(e,n)}:"function"==typeof define&&define.amd?define((function(){return t(e)})):t(e,!1)}((function(t,e){"use strict";function n(t,e){return function(){var n,o=this,i=o.base;return o.base=t,n=e.apply(o,arguments),o.base=i,n}}function o(t,e){return F(e)&&((e=n(t?t._d?t:n(r,t):r,e))._d=1),e}function i(t,e){for(var n in e.props)dt.test(n)&&(t[n]=o(t[n],e.props[n]))}function s(t){return t}function r(){return""}function a(t){this.name=(e.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function c(t,e){for(var n in e)t[n]=e[n];return t}function l(){var t=this.get("item");return t?t.index:void 0}function p(){return this.index}function u(t,e,n,o,i,s,r,a){var c,p,u,d=this,f="array"===e;d.content=a,d.views=f?[]:{},d.parent=n,d.type=e||"top",d.data=o,d.tmpl=i,u=d._={key:0,useKey:f?0:1,id:""+ht++,onRender:r,bnds:{}},d.linked=!!r,n?(c=n.views,(p=n._).useKey?(c[u.key="_"+p.useKey++]=d,d.index=wt,d.getIndex=l):c.length===(u.key=d.index=s)?c.push(d):c.splice(s,0,d),d.ctx=t||n.ctx):d.ctx=t}function d(t,n){return e.isFunction(t)?t.call(n):t}function f(t){var e,n=[],o=t.length;for(e=0;o>e;e++)n.push(t[e].unmap());return n}function h(t,n){var o,i=V._wm||{},s=c({tmpls:[],links:{},bnds:[],_is:"template",render:g},n);return s.markup=t,n.htmlTag||(o=pt.exec(t),s.htmlTag=o?o[1].toLowerCase():""),(o=i[s.htmlTag])&&o!==i.div&&(s.markup=e.trim(s.markup)),s}function m(t,e){var n=t+"s";L[n]=function o(i,s,r){var a,c,l,p;if(i&&typeof i===vt&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===t&&i.getters||i.extend)){for(l in i)o(l,i[l],s);return s||L}return void 0===s&&(s=i,i=void 0),i&&""+i!==i&&(r=s,s=i,i=void 0),p=r?"viewModel"===t?r:r[n]=r[n]||{}:o,c=e.compile,null===s?i&&delete p[i]:(s=c?c.call(p,i,s,r,0):s,i&&(p[i]=s)),c&&s&&(s._is=t),s&&(a=Q.onStore[t])&&a(i,s,c),s}}function b(t){J[t]=function(e){return arguments.length?(z[t]=e,J):z[t]}}function v(t){function e(e,n){this.tgt=t.getTgt(e,n)}return F(t)&&(t={getTgt:t}),t.baseMap&&(t=c(c({},t.baseMap),t)),t.map=function(t,n){return new e(t,n)},t}function g(t,e,n,o,i,s){var r,a,c,l,p,u,d,f,h=o,m="";if(!0===e?(n=e,e=void 0):typeof e!==vt&&(e=void 0),(c=this.tag)?(p=this,l=(h=h||p.view).getTmpl(c.template||p.tmpl),arguments.length||(t=h)):l=this,l){if(!h&&t&&"view"===t._is&&(h=t),h&&t===h&&(t=h.data),u=!h,et=et||u,h||((e=e||{}).root=t),!et||V.useViews||l.useViews||h&&h!==I)m=y(l,t,e,n,h,i,s,c);else{if(h?(d=h.data,f=h.index,h.index=wt):((h=I).data=t,h.ctx=e),H(t)&&!n)for(r=0,a=t.length;a>r;r++)h.index=r,h.data=t[r],m+=l.fn(t[r],h,Q);else h.data=t,m+=l.fn(t,h,Q);h.data=d,h.index=f}u&&(et=void 0)}return m}function y(t,e,n,o,i,s,r,a){function l(t){(k=c({},n))[w]=t}var p,d,f,h,m,b,v,g,y,w,k,_,C="";if(a&&(y=a.tagName,_=a.tagCtx,n=n?j(n,a.ctx):a.ctx,t===i.content?v=t!==i.ctx._wrp?i.ctx._wrp:void 0:t!==_.content?t===a.template?(v=_.tmpl,n._wrp=_.content):v=_.content||i.content:v=i.content,!1===_.props.link&&((n=n||{}).link=!1),(w=_.props.itemVar)&&("~"!==w.charAt(0)&&x("Use itemVar='~myItem'"),w=w.slice(1))),i&&(r=r||i._.onRender,n=j(n,i.ctx)),!0===s&&(b=!0,s=0),r&&(n&&!1===n.link||a&&a._.noVws)&&(r=void 0),g=r,!0===r&&(g=void 0,r=i._.onRender),n=t.helpers?j(t.helpers,n):n,k=n,H(e)&&!o)for(f=b?i:void 0!==s&&i||new u(n,"array",i,e,t,s,r),i&&i._.useKey&&(f._.bnd=!a||a._.bnd&&a),w&&(f.it=w),w=f.it,p=0,d=e.length;d>p;p++)w&&l(e[p]),h=new u(k,"item",f,e[p],t,(s||0)+p,r,v),m=t.fn(e[p],h,Q),C+=f._.onRender?f._.onRender(m,h):m;else w&&l(e),f=b?i:new u(k,y||"data",i,e,t,s,r,v),a&&!a.flow&&(f.tag=a),C+=t.fn(e,f,Q);return g?g(C,f):C}function w(t){throw new Q.Err(t)}function x(t){w("Syntax error\n"+t)}function k(t,e,n,o,i){function s(e){(e-=h)&&b.push(t.substr(h,e).replace(st,"\\n"))}function r(e,n){e&&(e+="}}",x((n?"{{"+n+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+t))}var a,c,l,p,u,d=z.allowCode||e&&e.allowCode||!0===J.allowCode,f=[],h=0,m=[],b=f,v=[,,f];if(d&&(e.allowCode=d),n&&(void 0!==o&&(t=t.slice(0,-o.length-2)+Y),t=W+t+Y),r(m[0]&&m[0][2].pop()[0]),t.replace(P,(function(a,c,u,f,g,y,w,k,_,$,O,j){(w&&c||_&&!u||k&&":"===k.slice(-1)||$)&&x(a),y&&(g=":",f=bt);var A=(c||n)&&[[]],E="",T="",R="",K="",P="",M="",I="",L="",q=!(_=_||n&&!i)&&!g;u=u||(k=k||"#data",g),s(j),h=j+a.length,w?d&&b.push(["*","\n"+k.replace(/^:/,"ret+= ").replace(rt,"$1")+";\n"]):u?("else"===u&&(lt.test(k)&&x('for "{{else if expr}}" use "{{else expr}}"'),A=v[7]&&[[]],v[8]=t.substring(v[8],j),v=m.pop(),b=v[2],q=!0),k&&N(k.replace(st," "),A,e).replace(ct,(function(t,e,n,o,i,s,r,a){return o="'"+i+"':",r?(T+=s+",",K+="'"+a+"',"):n?(R+=o+s+",",M+=o+"'"+a+"',"):e?I+=s:("trigger"===i&&(L+=s),E+=o+s+",",P+=o+"'"+a+"',",p=p||dt.test(i)),""})).slice(0,-1),A&&A[0]&&A.pop(),l=[u,f||!!o||p||"",q&&[],C(K||(":"===u?"'#data',":""),P,M),C(T||(":"===u?"data,":""),E,R),I,L,A||0],b.push(l),q&&(m.push(v),(v=l)[8]=h)):O&&(r(O!==v[0]&&"else"!==v[0]&&O,v[0]),v[8]=t.substring(v[8],j),v=m.pop()),r(!v&&O),b=v[2]})),s(t.length),(h=f[f.length-1])&&r(""+h!==h&&+h[8]===h[8]&&h[0]),n){for(c=O(f,t,n),u=[],a=f.length;a--;)u.unshift(f[a][7]);_(c,u)}else c=O(f,e);return c}function _(t,e){var n,o,i=0,s=e.length;for(t.deps=[];s>i;i++)for(n in o=e[i])"_jsvto"!==n&&o[n].length&&(t.deps=t.deps.concat(o[n]));t.paths=o}function C(t,e,n){return[t.slice(0,-1),e.slice(0,-1),n.slice(0,-1)]}function $(t,e){return"\n\t"+(e?e+":{":"")+"args:["+t[0]+"]"+(t[1]||!e?",\n\tprops:{"+t[1]+"}":"")+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function N(t,e,n){var o,i,s,r,a,c=e&&e[0],l={bd:c},p={0:l},u=0,d=n?n.links:c&&(c.links=c.links||{}),f=0,h={},m={},b=(t+(n?" ":"")).replace(it,(function(b,v,g,y,w,_,C,$,N,O,j,A,E,T,R,K,P,M,I,L){(y=c&&y)&&!$&&(w=y+w),_=_||"",g=g||v||A,w=w||N;var q,F,H,U,S,B=")";if("["===(O=O||P||"")&&(O="[j._sq(",B=")]"),!C||a||r){if(c&&K&&!a&&!r&&(!o||s||i)&&(q=m[f-1],L.length-1>I-(q||0))){if(q=L.slice(q,I+b.length),!0!==F)if(H=i||p[f-1].bd,(U=H[H.length-1])&&U.prm){for(;U.sb&&U.sb.prm;)U=U.sb;S=U.sb={path:U.sb,bnd:U.bnd}}else H.push(S={path:H.pop()});(F=d[K=X+":"+q+" onerror=''"+Z])||(d[K]=!0,d[K]=F=k(K,n,!0)),!0!==F&&S&&(S._jsv=F,S.prm=l.bd,S.bnd=S.bnd||S.path&&S.path.indexOf("^")>=0)}return a?(a=!E)?b:A+'"':r?(r=!T)?b:A+'"':(g?(m[f]=I++,l=p[++f]={bd:[]},g):"")+(M?f?"":(u=L.slice(u,I),(o?(o=s=i=!1,"\b"):"\b,")+u+(u=I+b.length,c&&e.push(l.bd=[]),"\b")):$?(f&&x(t),c&&e.pop(),o=w,s=y,u=I+b.length,y&&(c=l.bd=e[o]=[]),w+":"):w?w.split("^").join(".").replace(ot,(function(t,n,s,r,a,p,u,d){var h="."===s;if(s&&(w=w.slice(n.length),/^\.?constructor$/.test(d||w)&&x(t),h||(t=(r?'view.hlp("'+r+'")':a?"view":"data")+(d?(p?"."+p:r||a?"":"."+s)+(u||""):(d=r?"":a?p||"":s,"")),t=n+("view.data"===(t+=d?"."+d:"").slice(0,9)?t.slice(5):t)),c)){if(H="linkTo"===o?i=e._jsvto=e._jsvto||[]:l.bd,U=h&&H[H.length-1]){if(U._jsv){for(;U.sb;)U=U.sb;U.bnd&&(w="^"+w.slice(1)),U.sb=w,U.bnd=U.bnd||"^"===w.charAt(0)}}else H.push(w);m[f]=I+(h?1:0)}return t}))+(O?(l=p[++f]={bd:[]},h[f]=B,O):_):_||(R?(R=h[f]||R,h[f]=!1,l=p[--f],R+(O?(l=p[++f],h[f]=B,O):"")):j?(h[f]||x(t),","):v?"":(a=E,r=T,'"')))}x(t)}));return!f&&b||x(t)}function O(t,e,n){var o,i,s,r,a,c,l,p,u,d,f,m,b,v,g,y,w,k,C,N,j,A,E,T,R,K,P,M,I,L=0,q=V.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,F="",H={},U=t.length;for(""+e===e?(w=n?'data-link="'+e.replace(st," ").slice(1,-1)+'"':e,e=0):(w=e.tmplName||"unnamed",e.allowCode&&(H.allowCode=!0),e.debug&&(H.debug=!0),d=e.bnds,y=e.tmpls),o=0;U>o;o++)if(""+(i=t[o])===i)F+='\n+"'+i+'"';else if("*"===(s=i[0]))F+=";\n"+i[1]+"\nret=ret";else{if(r=i[1],N=!n&&i[2],a=$(i[3],"params")+"},"+$(m=i[4]),P=i[5],I=i[6],j=i[8]&&i[8].replace(rt,"$1"),(T="else"===s)?f&&f.push(i[7]):(L=0,d&&(f=i[7])&&(f=[f],L=d.push(1))),q=q||m[1]||m[2]||f||/view.(?!index)/.test(m[0]),(R=":"===s)?r&&(s=r===bt?">":r+s):(N&&((k=h(j,H)).tmplName=w+"/"+s,k.useViews=k.useViews||q,O(N,k),q=k.useViews,y.push(k)),T||(C=s,q=q||s&&(!D[s]||!D[s].flow),E=F,F=""),A=(A=t[o+1])&&"else"===A[0]),M=P?";\ntry{\nret+=":"\n+",b="",v="",R&&(f||I||r&&r!==bt)){if((K=new Function("data,view,j,u"," // "+w+" "+L+" "+s+"\nreturn {"+a+"};"))._er=P,K._tag=s,n)return K;_(K,f),u=!0,b=(g='c("'+r+'",view,')+L+",",v=")"}if(F+=R?(n?(P?"try{\n":"")+"return ":M)+(u?(u=void 0,q=p=!0,g+(f?(d[L-1]=K,L):"{"+a+"}")+")"):">"===s?(l=!0,"h("+m[0]+")"):(!0,"((v="+m[0]+")!=null?v:"+(n?"null)":'"")'))):(c=!0,"\n{view:view,tmpl:"+(N?y.length:"0")+","+a+"},"),C&&!A){if(F="["+F.slice(0,-1)+"]",g='t("'+C+'",view,this,',n||f){if((F=new Function("data,view,j,u"," // "+w+" "+L+" "+C+"\nreturn "+F+";"))._er=P,F._tag=C,f&&_(d[L-1]=F,f),n)return F;b=g+L+",undefined,",v=")"}F=E+M+g+(L||F)+")",f=0,C=0}P&&(q=!0,F+=";\n}catch(e){ret"+(n?"urn ":"+=")+b+"j._err(e,view,"+P+")"+v+";}"+(n?"":"ret=ret"))}F="// "+w+"\nvar v"+(c?",t=j._tag":"")+(p?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?";\n":',ret=""\n')+(H.debug?"debugger;":"")+F+(n?"\n":";\nreturn ret;"),!1!==z.debugMode&&(F="try {\n"+F+"\n}catch(e){\nreturn j._err(e, view);\n}");try{F=new Function("data,view,j,u",F)}catch(t){x("Compiled template code:\n\n"+F+'\n: "'+t.message+'"')}return e&&(e.fn=F,e.useViews=!!q),F}function j(t,e){return t&&t!==e?e?c(c({},e),t):t:e&&c({},e)}function A(t){return mt[t]||(mt[t]="&#"+t.charCodeAt(0)+";")}function E(t,n,o){var i=this.jquery&&(this[0]||w('Unknown template: "'+this.selector+'"')),s=i.getAttribute(gt);return g.call(s?e.data(i)[yt]:U(i),t,n,o)}function T(t){return null!=t?ut.test(t)&&(""+t).replace(ft,A)||t:""}var R=!1===e;e=e&&e.fn?e:t.jQuery;var K,P,M,I,L,q,F,H,U,S,B,D,Q,z,V,J,W,X,Z,Y,G,tt,et,nt="v0.9.78",ot=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,it=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,st=/[ \t]*(\r\n|\n|\r)/g,rt=/\\(['"])/g,at=/['"\\]/g,ct=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,lt=/^if\s/,pt=/<(\w+)[>\s]/,ut=/[\x00`><\"'&=]/,dt=/^on[A-Z]|^convert(Back)?$/,ft=/[\x00`><"'&=]/g,ht=0,mt={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},bt="html",vt="object",gt="data-jsv-tmpl",yt="jsvTmpl",wt="For #index in nested block use #getIndex().",xt={},kt=t.jsrender,_t=kt&&e&&!e.render,Ct={template:{compile:function t(n,o,i,s){function r(o){var r,c;if(""+o===o||o.nodeType>0&&(a=o)){if(!a)if(/^\.\/[^\\:*?"<>]*$/.test(o))(c=U[n=n||o])?o=c:a=document.getElementById(o);else if(e.fn&&!M.test(o))try{a=e(document).find(o)[0]}catch(t){}a&&(s?o=a.innerHTML:((r=a.getAttribute(gt))?r!==yt?(o=U[r],delete U[r]):e.fn&&(o=e.data(a)[yt]):o=t(n=n||(e.fn?yt:o),a.innerHTML,i,s),o.tmplName=n=n||r,n!==yt&&(U[n]=o),a.setAttribute(gt,n),e.fn&&e.data(a,yt,o))),a=void 0}else o.fn||(o=void 0);return o}var a,l,p=o=o||"";return 0===s&&(s=void 0,p=r(p)),(s=s||(o.markup?o:{})).tmplName=n,i&&(s._parentTmpl=i),!p&&o.markup&&(p=r(o.markup))&&p.fn&&(p=p.markup),void 0!==p?(p.fn||o.fn?p.fn&&(l=p):(o=h(p,s),k(p.replace(at,"\\$&"),o)),l||(function(t){var e,n,o,i,s,r;for(e in Ct)if((s=Ct[e].compile)&&(n=t[e+"s"]))for(o in n)(i=n[o]=s(o,n[o],t,0))._is=e,i&&(r=Q.onStore[e])&&r(o,i,s)}(s),l=c((function(){return o.render.apply(o,arguments)}),o)),n&&!i&&n!==yt&&(xt[n]=l),l):void 0}},tag:{compile:function(t,e,n){function i(){this._={inline:!0,unlinked:!0},this.tagName=t}var s,r,a,l=new Q._tg;if(F(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),r=e.baseTag)for(a in e.flow=!!e.flow,e.baseTag=r=""+r===r?n&&n.tags[r]||D[r]:r,l=c(l,r),e)l[a]=o(r[a],e[a]);else l=c(l,e);return void 0!==(s=l.template)&&(l.template=""+s===s?U[s]||U(s):s),!1!==l.init&&((i.prototype=l).constructor=l._ctr=i),n&&(l._parentTmpl=n),l}},viewModel:{compile:function(t,n){function o(t){l.apply(this,t)}function i(){return new o(arguments)}function s(t,e){var n,o,i,s,r,a=u.length;for(n=0;a>n;n++)o=void 0,(s=u[n])+""!==s&&(s=(o=s).getter),void 0===(r=t[s])&&o&&void 0!==(i=o.defaultVal)&&(r=d(i,t)),e(r,o&&p[o.type],s)}function r(t){t=t+""===t?JSON.parse(t):t;var n,o,r,a,c,l,p,u,d,f,h=this;if(e.isArray(h)){for(u={},f=[],r=t.length,a=h.length,n=0;r>n;n++){for(d=t[n],p=!1,o=0;a>o&&!p;o++)u[o]||(l=h[o],m&&(u[o]=p=m+""===m?d[m]&&(x[m]?l[m]():l[m])===d[m]:m(l,d)));p?(l.merge(d),f.push(l)):f.push(i.map(d))}w?w(h).refresh(f,!0):h.splice.apply(h,[0,h.length].concat(f))}else for(c in s(t,(function(t,e,n){e?h[n]().merge(t):h[n](t)})),t)c===q||x[c]||(h[c]=t[c])}function a(){var t,n,o,i,s,r,a=this;if(e.isArray(a))return f(a);for(t={},i=u.length,o=0;i>o;o++)s=void 0,(n=u[o])+""!==n&&(n=(s=n).getter),r=a[n](),t[n]=s&&r&&p[s.type]?e.isArray(r)?f(r):r.unmap():r;for(n in a)"_is"===n||x[n]||n===q||"_"===n.charAt(0)&&x[n.slice(1)]||e.isFunction(a[n])||(t[n]=a[n]);return t}var c,l,p=this,u=n.getters,h=n.extend,m=n.id,b=e.extend({_is:t||"unnamed",unmap:a,merge:r},h),v="",g="",y=u?u.length:0,w=e.observable,x={};for(o.prototype=b,c=0;y>c;c++)!function(t){t=t.getter||t,x[t]=c+1;var e="_"+t;v+=(v?",":"")+t,g+="this."+e+" = "+t+";\n",b[t]=b[t]||function(n){return arguments.length?void(w?w(this).setProperty(t,n):this[e]=n):this[e]},w&&(b[t].set=b[t].set||function(t){this[e]=t})}(u[c]);return(l=new Function(v,g.slice(0,-1))).prototype=b,b.constructor=l,i.map=function(n){var o,i,c,l=n=n+""===n?JSON.parse(n):n,p=[];if(e.isArray(n)){for(i=(n=n||[]).length,o=0;i>o;o++)p.push(this.map(n[o]));return p._is=t,p.unmap=a,p.merge=r,p}if(n)for(c in s(n,(function(t,e){e&&(t=e.map(t)),p.push(t)})),l=this.apply(this,p),n)c===q||x[c]||(l[c]=n[c]);return l},i.getters=u,i.extend=h,i.id=m,i}},helper:{},converter:{}};if(L={jsviews:nt,sub:{View:u,Err:a,tmplFn:k,parse:N,extend:c,extendCtx:j,syntaxErr:x,onStore:{},addSetting:b,settings:{allowCode:!1},advSet:r,_ths:i,_tg:function(){},_cnvt:function(t,e,n,o){var s,r,a="number"==typeof n&&e.tmpl.bnds[n-1],l=e.linkCtx;return void 0!==o?n=o={props:{},args:[o]}:a&&(n=a(e.data,e,Q)),r=n.args[0],(t||a)&&((s=l&&l.tag)||(s=c(new Q._tg,{_:{inline:!l,bnd:a,unlinked:!0},tagName:":",cvt:t,flow:!0,tagCtx:n}),l&&(l.tag=s,s.linkCtx=l),n.ctx=j(n.ctx,(l?l.view:e).ctx)),s._er=o&&r,i(s,n),n.view=e,s.ctx=n.ctx||s.ctx||{},n.ctx=void 0,r=s.cvtArgs("true"!==t&&t)[0],r=a&&e._.onRender?e._.onRender(r,e,s):r),null!=r?r:""},_tag:function(t,e,n,o,s,r){var a,c,l,p,u,d,f,h,m,b,v,y,x,k,_,C,$,N="",O=(e=e||I).linkCtx||0,A=e.ctx,E=n||e.tmpl,T="number"==typeof o&&e.tmpl.bnds[o-1];for("tag"===t._is?(t=(a=t).tagName,o=a.tagCtxs,a.template):(c=e.getRsc("tags",t)||w("Unknown tag: {{"+t+"}} ")).template,void 0!==r?(N+=r,o=r=[{props:{},args:[]}]):T&&(o=T(e.data,e,Q)),f=o.length,d=0;f>d;d++)m=o[d],(!O||!O.tag||d&&!O.tag._.inline||a._er)&&((v=E.tmpls&&m.tmpl)&&(v=m.content=E.tmpls[v-1]),m.index=d,m.tmpl=v,m.render=g,m.view=e,m.ctx=j(m.ctx,A)),(n=m.props.tmpl)&&(m.tmpl=e.getTmpl(n)),a||(y=!!(a=new c._ctr).init,a.parent=u=A&&A.tag,a.tagCtxs=o,$=a.dataMap,O&&(a._.inline=!1,O.tag=a,a.linkCtx=O),(a._.bnd=T||O.fn)?a._.arrVws={}:a.dataBoundOnly&&w("{^{"+t+"}} tag must be data-bound")),o=a.tagCtxs,$=a.dataMap,m.tag=a,$&&o&&(m.map=o[d].map),a.flow||(b=m.ctx=m.ctx||{},l=a.parents=b.parentTags=A&&j(b.parentTags,A.parentTags)||{},u&&(l[u.tagName]=u),l[a.tagName]=b.tag=a);if(!(a._er=r)){for(i(a,o[0]),a.rendering={},d=0;f>d;d++)C=(m=a.tagCtx=o[d]).props,_=a.cvtArgs(),(x=C.dataMap||$)&&(_.length||C.dataMap)&&((k=m.map)&&k.src===_[0]&&!s||(k&&k.src&&k.unmap(),k=m.map=x.map(_[0],C,void 0,!a._.bnd)),_=[k.tgt]),a.ctx=m.ctx,d||(y&&(a.template,a.init(m,O,a.ctx),y=void 0),O&&(O.attr=a.attr=O.attr||a.attr),p=a.attr,a._.noVws=p&&p!==bt),h=void 0,a.render&&(h=a.render.apply(a,_)),_.length||(_=[e]),void 0===h&&(h=m.render(_[0],!0)||(s?void 0:"")),N=N?N+(h||""):h;a.rendering=void 0}return a.tagCtx=o[0],a.ctx=a.tagCtx.ctx,a._.noVws&&a._.inline&&(N="text"===p?S.html(N):""),T&&e._.onRender?e._.onRender(N,e,a):N},_er:w,_err:function(t,e,n){var o=void 0!==n?F(n)?n.call(e.data,t,e):n||"":"{Error: "+t.message+"}";return z.onError&&void 0!==(n=z.onError.call(e.data,t,n&&o,e))&&(o=n),e&&!e.linkCtx?S.html(o):o},_html:T,_sq:function(t){return"constructor"===t&&x(""),t}},settings:{delimiters:function(t,e,n){return t?(z.delimiters=[t,e,G=n?n.charAt(0):G],W=t.charAt(0),X=t.charAt(1),Z=e.charAt(0),Y=e.charAt(1),t="\\"+W+"(\\"+G+")?\\"+X,e="\\"+Z+"\\"+Y,P="(?:(\\w+(?=[\\/\\s\\"+Z+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+Z+"]|\\"+Z+"(?!\\"+Y+"))*?)",Q.rTag="(?:"+P+")",P=new RegExp("(?:"+t+P+"(\\/)?|\\"+W+"(\\"+G+")?\\"+X+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),M=new RegExp("<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),J):z.delimiters},advanced:function(t){return t?(c(V,t),Q.advSet(),J):V}},map:v},(a.prototype=new Error).constructor=a,l.depends=function(){return[this.get("item"),"index"]},p.depends="index",u.prototype={get:function(t,e){e||!0===t||(e=t,t=void 0);var n,o,i,s,r=this,a=!e||"root"===e;if(t){if(!(s=e&&r.type===e&&r))if(n=r.views,r._.useKey){for(o in n)if(s=e?n[o].get(t,e):n[o])break}else for(o=0,i=n.length;!s&&i>o;o++)s=e?n[o].get(t,e):n[o]}else if(a)for(;r.parent;)s=r,r=r.parent;else for(;r&&!s;)s=r.type===e?r:void 0,r=r.parent;return s},getIndex:p,getRsc:function(t,e){for(var n,o,i=this;void 0===n&&i;)n=(o=i.tmpl&&i.tmpl[t])&&o[e],i=i.parent;return n||L[t][e]},getTmpl:function(t){return t&&(t.fn?t:this.getRsc("templates",t)||U(t))},hlp:function(e){var n,o=this,i=o.linkCtx,s=(o.ctx||{})[e];return void 0===s&&i&&i.ctx&&(s=i.ctx[e]),void 0===s&&(s=B[e]),s&&F(s)&&!s._wrp&&((n=function(){return s.apply(this&&this!==t?this:o,arguments)})._wrp=o,c(n,s)),n||s},_is:"view"},Q=L.sub,J=L.settings,!(kt||e&&e.render)){for(K in Ct)m(K,Ct[K]);for(tt in S=L.converters,B=L.helpers,D=L.tags,Q._tg.prototype={baseApply:function(t){return this.base.apply(this,t)},cvtArgs:function(t){var e=this,n=e.tagCtx,o=n.view,i=n.args;return t=(t=t||e.convert)&&(""+t===t?o.getRsc("converters",t)||w("Unknown converter: '"+t+"'"):t),i=i.length||n.index?t?i.slice():i:[o.data],t&&(t.depends&&(e.depends=Q.getDeps(e.depends,e,t.depends,t)),i[0]=t.apply(e,i)),i}},I=Q.topView=new u,e?(e.fn.render=E,q=e.expando,e.observable&&(c(Q,e.views.sub),L.map=e.views.map)):(e={},R&&(t.jsrender=e),e.renderFile=e.__express=e.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},e.isFunction=function(t){return"function"==typeof t},e.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},Q._jq=function(t){t!==e&&(c(t,e),(e=t).fn.render=E,delete e.jsrender,q=e.expando)},e.jsrender=nt),(z=Q.settings).allowCode=!1,F=e.isFunction,H=e.isArray,e.render=xt,e.views=L,e.templates=U=L.templates,z)b(tt);(J.debugMode=function(t){return void 0===t?z.debugMode:(z.debugMode=t,z.onError=t+""===t?new Function("","return '"+t+"';"):F(t)?t:void 0,J)})(!1),V=z.advanced={useViews:!1,_jsv:!1},D({if:{render:function(t){var e=this,n=e.tagCtx,o=e.rendering.done||!t&&(arguments.length||!n.index)?"":(e.rendering.done=!0,e.selected=n.index,n.render(n.view,!0));return o},flow:!0},for:{render:function(t){var e,n=!arguments.length,o=this,i=o.tagCtx,s="",r=0;return o.rendering.done||(void 0!==(e=n?i.view.data:t)&&(s+=i.render(e,n),r+=H(e)?e.length:1),(o.rendering.done=r)&&(o.selected=i.index)),s},flow:!0},props:{baseTag:"for",dataMap:v((function(t){var e,n,o=[];if(typeof t===vt)for(e in t)n=t[e],e===q||F(n)||o.push({key:e,prop:n});return o})),flow:!0},include:{flow:!0},"*":{render:s,flow:!0},":*":{render:s,flow:!0},dbg:B.dbg=S.dbg=function(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(t){}return this.base?this.baseApply(arguments):t}}),S({html:T,attr:T,url:function(t){return null!=t?encodeURI(""+t):null===t?t:""}})}return z=Q.settings,J.delimiters("{{","}}","^"),_t&&kt.views.sub._jq(e),e||kt}),window);var cuHandler={ismobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),currentResponse:!1,checkEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},loadRemoteDialog:function(launcher){var url=null!=$(launcher).attr("href")&&"#"!=$(launcher).attr("href")?$(launcher).attr("href"):$(launcher).data("url"),handler=$(launcher).data("handler"),window_id=$(launcher).data("window-id"),params={CUTOKEN_REQUEST:$("#cu-token").val()};return 0==params||(cuHandler.showLoader(),$.get(url,params,(function(response){return!!cuHandler.retrieveAjax(response)&&(null==handler&&""!=handler?(cuHandler.closeLoader(),cuHandler.modal.dialog({message:response.content,title:response.message,icon:null!=response.icon?response.icon:"",width:null!=response.width?response.width:"",id:null!=response.id?response.id:window_id,animate:!1,color:null!=response.color?response.color:"",closeButton:null==response.closeButton||response.closeButton,helpButton:null!=response.helpButton&&response.helpButton,helpUrl:null!=response.helpUrl?response.helpUrl:"#",solid:null!=response.solid})):(cuHandler.closeLoader(),eval(handler+"(response, launcher);")),$(".cu-data-table").each((function(){cuHandler.createDataTable($(this))})),cuHandler.checkAjaxAction(response),!1)}),"json")),!1},submitAjaxForm:function(t){if(!$(t).valid())return!1;cuHandler.showLoader();var e=t.serialize();e+="&CUTOKEN_REQUEST="+$("#cu-token").val();var n=t.attr("action");return"post"==t.attr("method")?$.post(n,e,cuHandler.retrieveAjax,"json"):$.get(n,e,cuHandler.retrieveAjax,"json"),!1},requestAjax:function(t,e){return $(t).cuSpinner({icon:"svg-rmcommon-spinner-14"}),null!=e&&(null!=e.url&&(null==e.parameters&&(e.parameters={}),e.parameters.CUTOKEN_REQUEST=$("#cu-token").val(),void(null==e.method||"post"==e.method?$.post(e.url,e.parameters,cuHandler.retrieveAjax,"json"):$.get(e.url,e.parameters,cuHandler.retrieveAjax,"json"))))},isDisabled:function(t){return!(!$(t).hasClass("disabled")&&null==$(t).attr("disabled"))},retrieveAjax:function(t,e){return e=null==e||e,this.currentResponse=t,"error"==t.type&&(null!=t.modal_message?bootbox.alert({message:t.message}):null!=t.notify&&null!=t.message?(cuHandler.notify({title:null==t.notify.title?"":t.notify.title,type:null==t.notify.type?"alert-info":t.notify.type,icon:null==t.notify.icon?"svg-rmcommon-info-solid":t.notify.icon,text:null==t.notify.text?t.message:t.notify.text}),t.notify=void 0):e&&alert(t.message)),null!=t.token&&""!=t.token&&$("#cu-token").val(t.token),cuHandler.closeLoader(),cuHandler.checkAjaxAction(t),"error"!=t.type},checkAjaxAction:function(data){null!=data.showMessage&&alert(data.message),null!=data.notify&&null!=data.message&&this.notify({title:null==data.notify.title?null:data.notify.title,type:null==data.notify.type?"alert-info":data.notify.type,icon:null==data.notify.icon?"svg-rmcommon-info-solid":data.notify.icon,text:null==data.notify.text?data.message:data.notify.text}),null!=data.closeWindow&&$(data.closeWindow).modal("hide"),null!=data.runHandler&&eval(data.runHandler+"(data)"),null!=data.goto&&(window.location.href=data.goto),null!=data.function&&eval(data.function),null!=data.openDialog&&cuHandler.modal.dialog({message:data.content,title:data.message,icon:null!=data.icon?data.icon:"",width:null!=data.width?data.width:"",owner:null!=data.owner?data.owner:"",id:null!=data.windowId?data.windowId:"",animate:!1,closeButton:null==data.closeButton||data.closeButton,helpButton:null!=data.helpButton&&data.helpButton,helpUrl:null!=data.helpUrl?data.helpUrl:"#",color:null!=data.color?data.color:"",solid:null!=data.solid}),null!=data.dynamicTable&&$(data.dynamicTable.table).dynamicTable(data.dynamicTable.action,{}),null==data.reload||window.location.reload(!0)},showLoader:function(){$(".cu-window-loader").remove(),$(".cu-window-blocker").remove();var t='<div class="cu-window-blocker"></div>';t+='<div class="cu-window-loader"><div class="loader-container text-center"><button class="close" type="button">&times;</button><span><span class="cu-icon cu-spinner" style="animation: cu-spin 1s infinite steps(10)"><svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">\n    <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">\n      <animateTransform \n         attributeName="transform" \n         attributeType="XML" \n         type="rotate"\n         dur="1s" \n         from="0 50 50"\n         to="360 50 50" \n         repeatCount="indefinite" />\n  </path>\n</svg></span> '+cuLanguage.inProgress+"</span></div></div>",$("body").append(t),$("div.cu-window-blocker").show(),$("div.cu-window-loader").addClass("active")},closeLoader:function(t){$(".cu-window-loader").fadeOut(1,(function(){$(".cu-window-blocker").fadeOut(0,(function(){$(".cu-window-loader").remove(),$(".cu-window-blocker").remove()}))}))},getURI:function(t,e,n,o,i){return this.getControllerURI(t,e,n,o,i)},getControllerURI:function(module,controller,action,zone,params){var url=xoUrl;if(null!=cu_modules[module]&&null!=controller&&""!=controller)url+="backend"==zone?"/admin":"",url+=cu_modules[module]+"/"+controller+"/"+action+"/";else{if(url+="/modules/"+module,url+="backend"==zone?"/admin":"",""==controller||null==controller)return url;url+="/index.php/"+controller+"/"+action+"/"}if(null==params)return url;var query="";for(key in params)query+=(""==query?"?":"&")+key+"="+eval("params."+key);return url+query},url:function(t,e){var n=window.location.protocol+"//"+window.location.host;""!=window.location.port&&(n+=":"+window.location.port);var o=xoUrl.replace(n,"");return null==t?xoUrl:1==arguments.length||1!=e?xoUrl+t:o+t},createDataTable:function(t){if(!t.hasClass("dataTable")){var e=$(t).data("exclude");null!=e&&e.toString().split(",");$(t).dataTable({bProcessing:!0,bServerSide:!0,sAjaxSource:$(t).data("source"),bPaginate:!0})}},runAction:function(e){var action=$(e).data("action");switch(action){case"load-remote-dialog":case"load-module-dialog":cuHandler.loadRemoteDialog(e);break;case"goto":var url=$(e).data("url");null==url&&(url=$(e).attr("href"));var retriever=$(e).data("retriever");null!=retriever&&(url+=eval(retriever+"(e)")),null!=url&&""!=url&&(window.location.href=url);break;case"ajax":var url=""!=$(e).attr("href")?$(e).attr("href"):$(e).data("url");cuHandler.requestAjax(e,{url:url});case"register":this.registerForm({item:$(e).data("item"),type:$(e).data("type")});break;default:if(""==action)return;var parts=action.split(".");if(parts.length<1)return;if(1==parts.length){if(null==window[parts[0]])return;return void window[parts[0]]()}if(2==parts.length){if(null==window[parts[0]][parts[1]])return;window[parts[0]][parts[1]]()}if(3==parts.length){if(null==window[parts[0]][parts[1]][parts[2]])return;window[parts[0]][parts[1]][parts[2]]()}}},enableCommands:function(id_activator,type){var commands=$("*[data-activator='"+id_activator+"']"),total=$("#"+id_activator+" :"+type+":checked").length;$(commands).each((function(index){var required=null!=$(this).data("oncount")?$(this).data("oncount"):" >= 1";eval("total "+required)?$(this).enable():$(this).disable()}))},registerForm:function(t){if(null==t)return this.notify({type:"alert-danger",icon:"svg-rmcommon-error",text:cuLanguage.dataInvalid}),!1;if(null==t.item)return this.notify({type:"alert-danger",icon:"svg-rmcommon-error",text:cuLanguage.noItemRegister}),!1;if(null==t.type)return this.notify({type:"alert-danger",icon:"svg-rmcommon-error",text:cuLanguage.noTypeRegister}),!1;t={CUTOKEN_REQUEST:$("#cu-token").val(),action:"form",dir:t.item,type:t.type};$.post(xoUrl+"/modules/rmcommon/ajax/register.php",t,(function(t){return 0!=cuHandler.retrieveAjax(t)&&(null!=t.form&&($("body").addClass("registering").append(t.form),void $("#rmc-register-overlay").fadeIn(300,(function(){$("#rmc-register-form").fadeIn(250)}))))}),"json")},sendRegistration:function(){var t=$("#rmc-register-form"),e=t.find("#register-email").val(),n=t.find("#register-api").val(),o=t.find("#register-key").val(),i=t.find("#register-type").val(),s=t.find("#register-item").val(),r=!1;if(null!=e&&""!=e&&0!=this.checkEmail(e)||(t.find("#register-email").parent().addClass("error"),r=!0),null!=n&&""!=n||(t.find("#register-api").parent().addClass("error"),r=!0),null!=o&&""!=o||(t.find("#register-key").parent().addClass("error"),r=!0),r)cuHandler.notify({text:cuLanguage.thereAreErrors,icon:"svg-rmcommon-error",type:"alert-danger"});else{var a={CUTOKEN_REQUEST:$("#cu-token").val(),action:"register",api:n,email:e,key:o,dir:s,type:i};$.post(xoUrl+"/modules/rmcommon/ajax/register.php",a,(function(t){if(0==cuHandler.retrieveAjax(t))return null!=t.code&&"reactivate"==t.code&&cuHandler.showReactivation(t),!1;$("#rmc-register-form .form-group").fadeOut(250,(function(){$(this).remove()})),setTimeout((function(){$("#rmc-register-form").append(t.activation)}),300)}),"json")}},showReactivation:function(t){if($("#rmc-register-form").fadeOut(250,(function(){$(this).remove()})),null==t.form||""==t.form)return cuHandler.notify({text:cuLanguage.invalidResponse,type:"alert-warning",icon:"svg-rmcommon-alert"}),!1;$("body").append(t.form),$("#rmc-reactivate-form").fadeIn(300)},sendReactivation:function(){var t=$("#rmc-reactivate-form"),e=t.find("#reactivate-email").val(),n=t.find("#reactivate-api").val(),o=t.find("#reactivate-key").val(),i=t.find("#reactivate-type").val(),s=t.find("#reactivate-item").val(),r=t.find("#reactivate-license").val(),a=!1;if(null!=o&&""!=o||(t.find("#reactivate-key").parent().addClass("error"),a=!0),a)cuHandler.notify({text:cuLanguage.thereAreErrors,icon:"svg-rmcommon-error",type:"alert-danger"});else{var c={CUTOKEN_REQUEST:$("#cu-token").val(),action:"reactivate",api:n,email:e,key:o,license:r,dir:s,type:i};$.post(xoUrl+"/modules/rmcommon/ajax/register.php",c,(function(t){if(0==cuHandler.retrieveAjax(t))return!1;$("#rmc-reactivate-form .form-group, #rmc-reactivate-form .help-block").fadeOut(250,(function(){$(this).remove()})),setTimeout((function(){$("#rmc-reactivate-form").append(t.activation)}),300)}),"json")}},getIcon:function(t){var e,n="svg-"==t.slice(0,4),o=!1;if(n||(n=".svg"==t.slice(-4))&&(o=!0),e=null!=t.match(/^(http:\/\/|ftp:\/\/|https:\/\/\|\/\/)/i),n&&!o){var i=t.split("-");if(i.length<3)return this.url("modules/rmcommon/icons/noicon.svg");var s=t.slice(5+i[1].length),r=this.url("modules/rmcommon/icons/"+s+".svg");return null==iconsProviders?r:iconsProviders.hasOwnProperty(i[1])?iconsProviders[i[1]]+"/"+s+".svg":r}if(o&&!e)return this.url(t);var a=t.slice(-4);return[".jpg",".gif",".png","jpeg"].indexOf(a)||e?t:'<span class="'+t+'"></span>'},loadIcon:function(t,e,n){if(arguments.length<1)return!1;n=2==arguments.length||1!=arguments.length&&n;var o=this.getIcon(t),i=".svg"==o.slice(-4),s="<span"==o.slice(0,5);if(n)var r=e.find(".cu-icon");else r=$("<span />",{class:"cu-icon"});if((null==r||r.length<=0)&&(n=!1,r=$("<span />",{class:"cu-icon"})),i)r.html("").load(o);else if(s)r.html("").append(o);else{var a=$("<img>").attr("src",o);r.html("").append(a)}return!n&&arguments.length>1&&$(e).append(r),r},modal:bootbox,notify:function(t){return new PNotify(t)},imagesManager:function(t){var e='<div id="blocker-'+t.idContainer+'" class="mgr_blocker"></div><div id="window-'+t.idContainer+'" class="imgmgr_container">';e+='<div class="window-title cu-titlebar"><button type="button" class="close">&times;</button>'+t.title+"</div>",e+='<iframe src="'+xoUrl+"/modules/rmcommon/include/tiny-images.php?type="+t.type+"&amp;idcontainer="+t.idContainer+"&amp;editor="+t.idContainer+"&amp;target="+t.target+"&amp;&amp;multi="+t.multiple+'" name="image"></iframe>',e+="</div>",$("body").append(e),$("#blocker-"+t.idContainer).fadeIn("fast",(function(){$("body").css("overflow","hidden"),$("#window-"+t.idContainer).fadeIn("fast",(function(){}))})),$("#blocker-"+t.idContainer+", #window-"+t.idContainer+" .window-title .close").click((function(){$("#window-"+t.idContainer).fadeOut("fast",(function(){$("#blocker-"+t.idContainer).fadeOut("fast",(function(){$("body").css("overflow","auto"),$("#window-"+t.idContainer).remove(),$("#blocker-"+t.idContainer).remove()}))}))}))},template:function(t,e){return $.templates(t).render(e)}};Number.prototype.formatMoney=function(t,e,n){var o=this,i=(t=isNaN(t=Math.abs(t))?2:t,e=null==e?".":e,n=null==n?",":n,o<0?"-":""),s=parseInt(o=Math.abs(+o||0).toFixed(t))+"",r=(r=s.length)>3?r%3:0;return i+(r?s.substr(0,r)+n:"")+s.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?e+Math.abs(o-s).toFixed(t).slice(2):"")},jQuery.fn.enable=function(){this.each((function(){jQuery(this).removeAttr("disabled"),jQuery(this).removeClass("disabled")}))},jQuery.fn.disable=function(){this.each((function(){jQuery(this).prop("disabled",!0),jQuery(this).addClass("disabled")}))},$(document).ready((function(){var t="";if($("body").on("click","#rmc-register-form > .close, #rmc-reactivate-form > .close",(function(){$("#rmc-register-form, #rmc-reactivate-form").fadeOut(250,(function(){$("#rmc-register-overlay").fadeOut(300,(function(){$("#rmc-register-form, #rmc-reactivate-form").remove(),$("#rmc-register-overlay").remove()}))}))})),$("body").on("click","#rmc-register-form button.btn",(function(){cuHandler.sendRegistration()})),$("body").on("click","#rmc-reactivate-form button.btn",(function(){cuHandler.sendReactivation()})),$("body").on("keyup","#rmc-register-form .form-group.error .form-control",(function(t){if(13!=t.which){if("email"==$(this).attr("name"))return void(cuHandler.checkEmail($(this).val())&&$(this).parent().removeClass("error"));if(""!=$(this).val())return void $(this).parent().removeClass("error")}})),$("body").on("click","*[data-action]",(function(t){return $(this).is(":disabled")||$(this).attr("disabled")||$(this).hasClass("disabled")?($(t).stopPropagation(),!1):(cuHandler.runAction($(this)),!1)})),$("body").on("submit",'form[data-type="ajax"]',(function(){return cuHandler.submitAjaxForm($(this)),!1})),$("body").on("submit",'form[data-type="no-submit"]',(function(){return!1})),$("body").on("click",".cu-window-loader .close",(function(){cuHandler.closeLoader()})),$(".cu-data-table").each((function(){cuHandler.createDataTable($(this))})),$("*[data-rel='tooltip']").tooltip(),$("body").on("change",".activator-container :checkbox[data-switch], .activator-container :radio[data-switch]",(function(){event.stopPropagation();var t=$(this).parents(".activator-container").attr("id");cuHandler.enableCommands(t,$(this).attr("type")),"radio"==$(this).attr("type")&&$(this).parents(".activator-container").find(".tr-checked").removeClass("tr-checked"),$(this).is(":checked")?$(this).parents("tr").addClass("tr-checked"):$(this).parents("tr").removeClass("tr-checked")})),$("body").on("change",":checkbox[data-checkbox]",(function(){var t=$(this).data("checkbox");if(null!=t){$(":checkbox[data-oncheck='"+t+"']").prop("checked",$(this).prop("checked")).change();var e=$(this).parents(".activator-container");e.length>0&&cuHandler.enableCommands(e.attr("id"),"checkbox")}})),$("body").on("change",":checkbox[data-oncheck]",(function(){var t=$(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']").length,e=$(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']:checked"),n=$(":checkbox[data-checkbox='"+$(this).data("oncheck")+"']");e.length<t&&null==$(n).attr("data-oncheck")?$(n).prop("checked",!1):e.length>=t&&$(n).prop("checked",!0)})),1==$("*[data-news='load']").length||$("*[data-boxes='load']").length>0){var e=$("*[data-news='load']");if(e.length<=0&&(e=$("*[data-boxes='load']")),e.length<=0)return!1;var n=e.data("module"),o=$(e.data("target"));null!=o&&o.html('<div class="text-success"><span class="fa fa-spinner fa-pulse"></span> '+cuLanguage.downloadNews+"</div>");var s=$("*[data-boxes='load']"),r=$("html").attr("lang");r=null==r?"en":r;var a={module:n,CU_TOKEN:$("#cu-token").val(),lang:r};$.get(xoUrl+"/modules/rmcommon/ajax/module-info.php",a,(function(t){if("error"!=t.type){if(null!=t.news&&null!=o){for(news=$("<ul>").addClass("cu-ajax-news list-unstyled"),i=0;i<t.news.length;i++){var e="<li><small>"+t.news[i].date+'</small><h5><a href="'+t.news[i].link+'" target="_blank">'+t.news[i].title+"</a></h5>";e+='<p class="help-block">'+t.news[i].content+"</p></li>",news.append(e)}o.html("").append(news),news.fadeIn("fast",(function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")}))}if(null!=t.boxes&&null!=s)for(i=0;i<t.boxes.length;i++){if(null==t.boxes[i].size||t.boxes[i].size<=0)var n=1;else n=t.boxes[i].size;var r=$('<div data-dashboard="item">').addClass("size-"+n).css("display","none");if(r.append('<div class="cu-box '+t.boxes[i].class+'"><div class="box-header"><span class="fa fa-caret-up box-handler"></span><h3 class="box-title">'+t.boxes[i].title+'</h3></div><div class="box-content">'+t.boxes[i].content+"</div></div>"),null!=t.boxes[i].container){var a=$(t.boxes[i].container);a.length>0&&$(a).each((function(){var e=r.clone();"top"==t.boxes[i].position?$(this).prepend(e):$(this).append(e),e.fadeIn("fast",(function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")}))}))}}}else o.html('<div class="text-danger"><span class="fa fa-exclamation-triangle"></span> '+cuLanguage.downloadNewsError+"</div>")}),"json")}$("body").on("click",".ed-container .full-screen",(function(){$(this).parents(".ed-container").addClass("full-screen-edit"),$(this).removeClass("full-screen").addClass("normal-screen"),t=$(this).parents(".ed-container").find(".txtarea-container").attr("style"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",""),$("body").css("overflow","hidden")})),$("body").on("click",".ed-container .normal-screen",(function(){$(this).parents(".ed-container").removeClass("full-screen-edit"),$(this).addClass("full-screen").removeClass("normal-screen"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",t),t="",$("body").css("overflow","visible")})),$(".cu-notifications form .notification-item").change((function(){var t=$(this).data("event"),e=$(this).is(":checked")?1:0,n=$(this),o={event:t,status:e,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",o,(function(t){"error"!=t.type?$(n).parent().parent().animate({backgroundColor:"#ffff99"},500,"linear",(function(){$(this).animate({backgroundColor:"transparent"},500,"linear")})):alert(t.message)}),"json")})),$(" #cu-notifications .cancel-subscription").click((function(){var t=$(this).data("info"),e=$(this),n={event:t,status:0,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",n,(function(t){"error"!=t.type?$(e).parent().parent().slideUp(250,(function(){$(this).remove()})):alert(t.message)}),"json")}))}));