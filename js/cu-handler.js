!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function e(l,p){"use strict";function u(t,e,n){t.stopPropagation(),t.preventDefault(),l.isFunction(n)&&!1===n.call(e,t)||e.modal("hide")}function d(t,n){var o=0;l.each(t,function(t,e){n(t,e,o++)})}function f(t,e,n){return l.extend(!0,{},t,function(t,e){var n=t.length,o={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(o[e[0]]=t[0],o[e[1]]=t[1]):o=t[0],o}(e,n))}function n(t,e,n,o){return m(f({className:"bootbox-"+t,buttons:h.apply(null,e)},o,n),e)}function h(){for(var t,e,n={},o=0,i=arguments.length;o<i;o++){var s=arguments[o],r=s.toLowerCase(),a=s.toUpperCase();n[r]={label:(t=a,void 0,e=c[v.locale],e?e[t]:c.en[t])}}return n}function m(t,e){var n={};return d(e,function(t,e){n[e]=!0}),d(t.buttons,function(t){if(n[t]===p)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var b={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",helpButton:"<a href='%s' class='help-button' target='_blank'>?</a>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},v={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",id:"",helpButton:!1,helpUrl:"#"},g={alert:function(){var t;if((t=n("alert",["ok"],["message","callback"],arguments)).callback&&!l.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!l.isFunction(t.callback)||t.callback.call(this)},g.dialog(t)},confirm:function(){var t;if((t=n("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!l.isFunction(t.callback))throw new Error("confirm requires a callback");return g.dialog(t)},prompt:function(){var e,t,n,o,i,s,r;if(o=l(b.form),t={className:"bootbox-prompt",buttons:h("cancel","confirm"),value:"",inputType:"text"},s=(e=m(f(t,arguments,["title","callback"]),["cancel","confirm"])).show===p||e.show,e.message=o,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=i.val();break;case"checkbox":var t=i.find("input:checked");n=[],d(t,function(t,e){n.push(l(e).val())})}return e.callback.call(this,n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!l.isFunction(e.callback))throw new Error("prompt requires a callback");if(!b.inputs[e.inputType])throw new Error("invalid prompt type");switch(i=l(b.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(e.value);break;case"select":var a={};if(r=e.inputOptions||[],!l.isArray(r))throw new Error("Please pass an array of input options");if(!r.length)throw new Error("prompt with select requires options");d(r,function(t,e){var n=i;if(e.value===p||e.text===p)throw new Error("given options in wrong format");e.group&&(a[e.group]||(a[e.group]=l("<optgroup/>").attr("label",e.group)),n=a[e.group]),n.append("<option value='"+e.value+"'>"+e.text+"</option>")}),d(a,function(t,e){i.append(e)}),i.val(e.value);break;case"checkbox":var c=l.isArray(e.value)?e.value:[e.value];if(!(r=e.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!r[0].value||!r[0].text)throw new Error("given options in wrong format");i=l("<div/>"),d(r,function(t,n){var o=l(b.inputs[e.inputType]);o.find("input").attr("value",n.value),o.find("label").append(n.text),d(c,function(t,e){e===n.value&&o.find("input").prop("checked",!0)}),i.append(o)})}return e.placeholder&&i.attr("placeholder",e.placeholder),e.pattern&&i.attr("pattern",e.pattern),e.maxlength&&i.attr("maxlength",e.maxlength),o.append(i),o.on("submit",function(t){t.preventDefault(),t.stopPropagation(),n.find(".btn-primary").click()}),(n=g.dialog(e)).off("shown.bs.modal"),n.on("shown.bs.modal",function(){i.focus()}),!0===s&&n.modal("show"),n}};g.dialog=function(t){t=function(t){var o,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=l.extend({},v,t)).buttons||(t.buttons={}),o=t.buttons,i=function(t){var e,n=0;for(e in t)n++;return n}(o),d(o,function(t,e,n){if(l.isFunction(e)&&(e=o[t]={callback:e}),"object"!==l.type(e))throw new Error("button with key "+t+" must be an object");e.label||(e.label=t),e.className||(e.className=i<=2&&n===i-1?"btn-primary":"btn-default")}),t}(t);var n=l(b.dialog),e=n.find(".modal-dialog"),o=n.find(".modal-body"),i=t.buttons,s="",r={onEscape:t.onEscape};if(l.fn.modal===p)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(d(i,function(t,e){s+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",r[t]=e.callback}),o.find(".bootbox-body").html(t.message),t.id&&n.attr("id",t.id),!0===t.animate&&n.addClass("fade"),t.owner&&n.attr("data-owner",t.owner),t.className&&n.addClass(t.className),t.width&&(t.size="small"==t.width?"bsmall":t.width),t.size&&e.addClass(t.size),t.color!=p&&""!=t.color&&e.addClass("modal-"+t.color),t.title&&o.before(b.header),t.solid&&n.addClass("modal-solid"),t.helpButton){var a=l(b.helpButton.replace("%s",t.helpUrl));t.title?n.find(".modal-header").prepend(a):a.css("margin-top","-10px").prependTo(o)}if(t.closeButton){var c=l(b.closeButton);t.title?n.find(".modal-header").append(c):c.css("margin-top","-10px").prependTo(o)}return t.title&&(t.icon?n.find(".modal-title").html('<i class="'+t.icon+'"></i> '+t.title):n.find(".modal-title").html(t.title)),s.length&&(o.after(b.footer),n.find(".modal-footer").html(s)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&n.on("click.dismiss.bs.modal",function(t){n.children(".modal-backdrop").length&&(t.currentTarget=n.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&n.trigger("escape.close.bb")}),""!=t.id&&n.attr("id",t.id),n.on("escape.close.bb",function(t){r.onEscape&&u(t,n,r.onEscape)}),n.on("click",".modal-footer button",function(t){var e=l(this).data("bb-handler");u(t,n,r[e])}),n.on("click",".bootbox-close-button",function(t){u(t,n,r.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),l(t.container).append(n),n.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&n.modal("show"),n},g.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],l.extend(v,t)},g.hideAll=function(){return l(".bootbox").modal("hide"),g};var c={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return g.addLocale=function(t,n){return l.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),c[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},g},g.removeLocale=function(t){return delete c[t],g},g.setLocale=function(t){return g.setDefaults("locale",t)},g.init=function(t){return e(t||l)},g}),function(s){s.fn.cuSpinner=function(t){var i=s.extend({icon:"svg-rmcommon-spinner-06",type:"spin",hide:"cu-icon",class:"",steps:12,speed:3},t);i.type="spin"!=i.type&&"pulse"!=i.type?"spin":i.type;"pulse"==i.type?i.steps:i.speed;return this.each(function(){var e=s(this),t=cuHandler.getIcon(i.icon);t||(t=cuHandler.getIcon("svg-rmcommon-spinner-06"));var n=s(this).find(".cu-spinner");if(0<n.length)return s(n).remove(),s(this).find(".cu-spinner-hide").removeClass("cu-spinner-hide").show(),!0;var o=s("<span />",{class:"cu-icon cu-spinner"+(""!=i.class?" "+i.class:"")});return o.load(t,function(){var t=s(e).find("."+i.hide);0<t.length?(t.addClass("cu-spinner-hide").hide(),s(t[0]).after(o)):s(e).prepend(o)}),!0})}}(jQuery),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define("pnotify",["jquery"],t):t(jQuery)}(function(r){var n,l,t={dir1:"down",dir2:"left",push:"bottom",spacing1:5,spacing2:5,context:r("body")},p=r(window),e=function(){l=r("body"),PNotify.prototype.options.stack.context=l,(p=r(window)).bind("resize",function(){n&&clearTimeout(n),n=setTimeout(function(){PNotify.positionAll(!0)},10)})};return PNotify=function(t){this.parseOptions(t),this.init()},r.extend(PNotify.prototype,{version:"2.1.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:t},modules:{},runModules:function(t,e){var n;for(var o in this.modules)n="object"==typeof e&&o in e?e[o]:e,"function"==typeof this.modules[o][t]&&this.modules[o][t](this,"object"==typeof this.options[o]?this.options[o]:{},n)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var e=this;if(this.modules={},r.extend(!0,this.modules,PNotify.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=PNotify.styling[this.options.styling],this.elem=r("<div />",{class:"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive",mouseenter:function(t){if(e.options.mouse_reset&&"out"===e.animating){if(!e.timerHide)return;e.cancelRemove()}e.options.hide&&e.options.mouse_reset&&e.cancelRemove()},mouseleave:function(t){e.options.hide&&e.options.mouse_reset&&"out"!==e.animating&&e.queueRemove(),PNotify.positionAll()}}),this.container=r("<div />",{class:"alert "+this.options.type,role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon)if("string"==typeof this.options.icon){var t=r("<div />",{class:"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,t),t.prependTo(this.container)}else r("<div />",{class:"ui-pnotify-icon"}).append(r("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.title_container=r("<h4 />",{class:"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=r("<div />",{class:"ui-pnotify-text"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?PNotify.notices=r.merge([this],PNotify.notices):PNotify.notices=r.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(t){var e=this.options;if(this.parseOptions(e,t),this.options.cornerclass!==e.cornerclass&&this.container.removeClass("ui-corner-all "+e.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==e.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(e.addclass):this.options.addclass!==e.addclass&&this.elem.removeClass(e.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==e.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===e.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==e.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===e.text&&this.text_container.slideDown(200)),this.options.type!==e.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type),(this.options.icon!==e.icon||!0===this.options.icon&&this.options.type!==e.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon))if("string"==typeof this.options.icon){var n=r("<div />",{class:"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,n),n.prependTo(this.container)}else r("<div />",{class:"ui-pnotify-icon"}).append(r("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.options.min_height!==e.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==e.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?e.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",e),this},open:function(){this.state="opening",this.runModules("beforeOpen");var t=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:l),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn(function(){t.queuePosition(!0),t.options.hide&&t.queueRemove(),t.state="open",t.runModules("afterOpen")}),this},remove:function(t){this.state="closing",this.timerHide=!!t,this.runModules("beforeClose");var e=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(e.state="closed",e.runModules("afterClose"),e.queuePosition(!0),e.options.remove&&e.elem.detach(),e.runModules("beforeDestroy"),e.options.destroy&&null!==PNotify.notices){var t=r.inArray(e,PNotify.notices);-1!==t&&PNotify.notices.splice(t,1)}e.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,e){this.options=r.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;for(var n,o=[t,e],i=0;i<o.length&&void 0!==(n=o[i]);i++)if("object"!=typeof n)this.options.text=n;else for(var s in n)this.modules[s]?r.extend(!0,this.options[s],n[s]):this.options[s]=n[s]},animateIn:function(t){var e;this.animating="in","none"===(e=void 0!==this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation)?(this.elem.show(),t()):"show"===e?this.elem.show(this.options.animate_speed,t):"fade"===e?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,t):"slide"===e?this.elem.slideDown(this.options.animate_speed,t):"function"==typeof e?e("in",t,this.elem):this.elem.show(e,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==e&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(t){var e;this.animating="out","none"===(e=void 0!==this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation)?(this.elem.hide(),t()):"show"===e?this.elem.hide(this.options.animate_speed,t):"fade"===e?this.elem.fadeOut(this.options.animate_speed,t):"slide"===e?this.elem.slideUp(this.options.animate_speed,t):"function"==typeof e?e("out",t,this.elem):this.elem.hide(e,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,t),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==e&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(t){var e=this.options.stack,n=this.elem;if(n.parent().hasClass("ui-effects-wrapper")&&(n=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),void 0===e.context&&(e.context=l),e){"number"!=typeof e.nextpos1&&(e.nextpos1=e.firstpos1),"number"!=typeof e.nextpos2&&(e.nextpos2=e.firstpos2),"number"!=typeof e.addpos2&&(e.addpos2=0);var o="none"===n.css("display");if(!o||t){var i,s,r,a,c={};switch(e.dir1){case"down":r="top";break;case"up":r="bottom";break;case"left":r="right";break;case"right":r="left"}switch(i=parseInt(n.css(r).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(i)&&(i=0),void 0!==e.firstpos1||o||(e.firstpos1=i,e.nextpos1=e.firstpos1),e.dir2){case"down":a="top";break;case"up":a="bottom";break;case"left":a="right";break;case"right":a="left"}if(s=parseInt(n.css(a).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(s)&&(s=0),void 0!==e.firstpos2||o||(e.firstpos2=s,e.nextpos2=e.firstpos2),("down"===e.dir1&&e.nextpos1+n.height()>(e.context.is(l)?p.height():e.context.prop("scrollHeight"))||"up"===e.dir1&&e.nextpos1+n.height()>(e.context.is(l)?p.height():e.context.prop("scrollHeight"))||"left"===e.dir1&&e.nextpos1+n.width()>(e.context.is(l)?p.width():e.context.prop("scrollWidth"))||"right"===e.dir1&&e.nextpos1+n.width()>(e.context.is(l)?p.width():e.context.prop("scrollWidth")))&&(e.nextpos1=e.firstpos1,e.nextpos2+=e.addpos2+(void 0===e.spacing2?25:e.spacing2),e.addpos2=0),e.animation&&e.nextpos2<s)switch(e.dir2){case"down":c.top=e.nextpos2+"px";break;case"up":c.bottom=e.nextpos2+"px";break;case"left":c.right=e.nextpos2+"px";break;case"right":c.left=e.nextpos2+"px"}else"number"==typeof e.nextpos2&&n.css(a,e.nextpos2+"px");switch(e.dir2){case"down":case"up":n.outerHeight(!0)>e.addpos2&&(e.addpos2=n.height());break;case"left":case"right":n.outerWidth(!0)>e.addpos2&&(e.addpos2=n.width())}if("number"==typeof e.nextpos1)if(e.animation&&(i>e.nextpos1||c.top||c.bottom||c.right||c.left))switch(e.dir1){case"down":c.top=e.nextpos1+"px";break;case"up":c.bottom=e.nextpos1+"px";break;case"left":c.right=e.nextpos1+"px";break;case"right":c.left=e.nextpos1+"px"}else n.css(r,e.nextpos1+"px");switch((c.top||c.bottom||c.right||c.left)&&n.animate(c,{duration:this.options.position_animate_speed,queue:!1}),e.dir1){case"down":case"up":e.nextpos1+=n.height()+(void 0===e.spacing1?5:e.spacing1);break;case"left":case"right":e.nextpos1+=n.width()+(void 0===e.spacing1?5:e.spacing1)}}return this}},queuePosition:function(t,e){return n&&clearTimeout(n),e||(e=10),n=setTimeout(function(){PNotify.positionAll(t)},e),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var t=this;return this.cancelRemove(),this.timer=window.setTimeout(function(){t.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),r.extend(PNotify,{notices:[],removeAll:function(){r.each(PNotify.notices,function(){this.remove&&this.remove(!1)})},positionAll:function(e){if(n&&clearTimeout(n),n=null,PNotify.notices&&PNotify.notices.length)r.each(PNotify.notices,function(){var t=this.options.stack;t&&(t.nextpos1=t.firstpos1,t.nextpos2=t.firstpos2,t.addpos2=0,t.animation=e)}),r.each(PNotify.notices,function(){this.position()});else{var t=PNotify.prototype.options.stack;t&&(delete t.nextpos1,delete t.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=r.extend({},PNotify.styling.bootstrap3),r.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?e():r(e),PNotify}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(o,t){t.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick"}},t.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(e,t){var n=this;this.myOptions=t,e.elem.on({mouseenter:function(t){!n.myOptions.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!n.myOptions.show_on_nonblock||n.sticker.trigger("pnotify_icon").css("visibility","visible"),!n.myOptions.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!n.myOptions.show_on_nonblock||n.closer.css("visibility","visible")},mouseleave:function(t){n.myOptions.sticker_hover&&n.sticker.css("visibility","hidden"),n.myOptions.closer_hover&&n.closer.css("visibility","hidden")}}),this.sticker=o("<div />",{class:"ui-pnotify-sticker",css:{cursor:"pointer",visibility:t.sticker_hover?"hidden":"visible"},click:function(){e.options.hide=!e.options.hide,e.options.hide?e.queueRemove():e.cancelRemove(),o(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){o(this).children().removeClass(e.styles.pin_up+" "+e.styles.pin_down).addClass(e.options.hide?e.styles.pin_up:e.styles.pin_down),o(this).children().load(cuHandler.url("/modules/rmcommon/icons/"+(e.options.hide?"pause.svg":"play.svg")))}).append(o("<span />",{class:e.styles.pin_up,title:t.labels.stick}).load(cuHandler.url("/modules/rmcommon/icons/pause.svg"))).prependTo(e.container),(!t.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=o("<div />",{class:"ui-pnotify-closer",css:{cursor:"pointer",visibility:t.closer_hover?"hidden":"visible"},click:function(){e.remove(!1),n.sticker.css("visibility","hidden"),n.closer.css("visibility","hidden")}}).append(o("<span />",{class:e.styles.closer,title:t.labels.close}).load(cuHandler.url("/modules/rmcommon/icons/close.svg"))).prependTo(e.container),(!t.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!t.show_on_nonblock)&&this.closer.css("display","none")},update:function(t,e){!(this.myOptions=e).closer||t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock?this.closer.css("display","none"):e.closer&&this.closer.css("display","block"),!e.sticker||t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock?this.sticker.css("display","none"):e.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify_icon"),e.sticker_hover?this.sticker.css("visibility","hidden"):t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock||this.sticker.css("visibility","visible"),e.closer_hover?this.closer.css("visibility","hidden"):t.options.nonblock&&t.options.nonblock.nonblock&&!e.show_on_nonblock||this.closer.css("visibility","visible")}},o.extend(t.styling.brighttheme,{closer:"cu-icon",pin_up:"cu-icon",pin_down:"cu-icon"}),o.extend(t.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),o.extend(t.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),o.extend(t.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),o.extend(t.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,e){var n=e.prototype.init,o=e.prototype.open,i=e.prototype.remove;e.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),n.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},e.prototype.open=function(){var t;this.options.before_open&&(t=this.options.before_open(this)),!1!==t&&(o.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},e.prototype.remove=function(t){var e;this.options.before_close&&(e=this.options.before_close(this,t)),!1!==e&&(i.apply(this,arguments),this.options.after_close&&this.options.after_close(this,t))}}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(a,t){t.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(t,e){t.remove(),t.get().trigger("pnotify.confirm",[t,e])}},{text:"Cancel",addClass:"",click:function(t){t.remove(),t.get().trigger("pnotify.cancel",t)}}]},t.prototype.modules.confirm={container:null,prompt:null,init:function(t,e){this.container=a('<div style="margin-top:5px;clear:both;" />').css("text-align",e.align).appendTo(t.container),e.confirm||e.prompt?this.makeDialog(t,e):this.container.hide()},update:function(t,e){e.confirm?(this.makeDialog(t,e),this.container.show()):this.container.hide().empty()},afterOpen:function(t,e){e.prompt&&this.prompt.focus()},makeDialog:function(e,n){var t,o,i=!1,s=this;for(var r in this.container.empty(),n.prompt&&(this.prompt=a("<"+(n.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass(e.styles.input+" "+n.prompt_class).val(n.prompt_default).appendTo(this.container)),n.buttons)t=n.buttons[r],i?this.container.append(" "):i=!0,o=a('<button type="button" />').addClass(e.styles.btn+" "+t.addClass).text(t.text).appendTo(this.container).on("click",function(t){return function(){"function"==typeof t.click&&t.click(e,n.prompt?s.prompt.val():null)}}(t)),n.prompt&&!n.prompt_multi_line&&t.promptTrigger&&this.prompt.keypress(function(e){return function(t){13==t.keyCode&&e.click()}}(o)),e.styles.text&&o.wrapInner('<span class="'+e.styles.text+'"></span>'),e.styles.btnhover&&o.hover(function(t){return function(){t.addClass(e.styles.btnhover)}}(o),function(t){return function(){t.removeClass(e.styles.btnhover)}}(o)),e.styles.btnactive&&o.on("mousedown",function(t){return function(){t.addClass(e.styles.btnactive)}}(o)).on("mouseup",function(t){return function(){t.removeClass(e.styles.btnactive)}}(o)),e.styles.btnfocus&&o.on("focus",function(t){return function(){t.addClass(e.styles.btnfocus)}}(o)).on("blur",function(t){return function(){t.removeClass(e.styles.btnfocus)}}(o))}},a.extend(t.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"}),a.extend(t.styling.bootstrap2,{btn:"btn",input:""}),a.extend(t.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),a.extend(t.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(t,n){var o,i=function(t,e){return(i="Notification"in window?function(t,e){return new Notification(t,e)}:"mozNotification"in navigator?function(t,e){return navigator.mozNotification.createNotification(t,e.body,e.icon).show()}:"webkitNotifications"in window?function(t,e){return window.webkitNotifications.createNotification(e.icon,t,e.body)}:function(t,e){return null})(t,e)};n.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null},n.prototype.modules.desktop={tag:null,icon:null,genNotice:function(t,e){null===e.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+t.options.type+".png":!1===e.icon?this.icon=null:this.icon=e.icon,null!==this.tag&&null===e.tag||(this.tag=null===e.tag?"PNotify-"+Math.round(1e6*Math.random()):e.tag),t.desktop=i(t.options.title,{icon:this.icon,body:t.options.text,tag:this.tag}),!("close"in t.desktop)&&"cancel"in t.desktop&&(t.desktop.close=function(){t.desktop.cancel()}),t.desktop.onclick=function(){t.elem.trigger("click")},t.desktop.onclose=function(){"closing"!==t.state&&"closed"!==t.state&&t.remove()}},init:function(t,e){e.desktop&&(0===(o=n.desktop.checkPermission())?this.genNotice(t,e):e.fallback||(t.options.auto_display=!1))},update:function(t,e,n){0!==o&&e.fallback||!e.desktop||this.genNotice(t,e)},beforeOpen:function(t,e){0!==o&&e.fallback||!e.desktop||t.elem.css({left:"-10000px",display:"none"})},afterOpen:function(t,e){0!==o&&e.fallback||!e.desktop||(t.elem.css({left:"-10000px",display:"none"}),"show"in t.desktop&&t.desktop.show())},beforeClose:function(t,e){0!==o&&e.fallback||!e.desktop||t.elem.css({left:"-10000px",display:"none"})},afterClose:function(t,e){0!==o&&e.fallback||!e.desktop||(t.elem.css({left:"-10000px",display:"none"}),"close"in t.desktop&&t.desktop.close())}},n.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},o=n.desktop.checkPermission()}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],t):t(jQuery,PNotify)}(function(r,t){var a,o=/^on/,i=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,s=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,c=/^(scroll|resize|(un)?load|abort|error)$/,l=function(t,e){var n;if(t=t.toLowerCase(),document.createEvent&&this.dispatchEvent){if((t=t.replace(o,"")).match(i)?(r(this).offset(),(n=document.createEvent("MouseEvents")).initMouseEvent(t,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)):t.match(s)?(n=document.createEvent("UIEvents")).initUIEvent(t,e.bubbles,e.cancelable,e.view,e.detail):t.match(c)&&(n=document.createEvent("HTMLEvents")).initEvent(t,e.bubbles,e.cancelable),!n)return;this.dispatchEvent(n)}else t.match(o)||(t="on"+t),n=document.createEventObject(e),this.fireEvent(t,n)},p=function(t,e,n){t.elem.css("display","none");var o=document.elementFromPoint(e.clientX,e.clientY);t.elem.css("display","block");var i=r(o),s=i.css("cursor");"auto"===s&&"A"===o.tagName&&(s="pointer"),t.elem.css("cursor","auto"!==s?s:"default"),a&&a.get(0)==o||(a&&(l.call(a.get(0),"mouseleave",e.originalEvent),l.call(a.get(0),"mouseout",e.originalEvent)),l.call(o,"mouseenter",e.originalEvent),l.call(o,"mouseover",e.originalEvent)),l.call(o,n,e.originalEvent),a=i};t.prototype.options.nonblock={nonblock:!1,nonblock_opacity:.2},t.prototype.modules.nonblock={myOptions:null,init:function(e,t){var n=this;this.myOptions=t,e.elem.on({mouseenter:function(t){n.myOptions.nonblock&&t.stopPropagation(),n.myOptions.nonblock&&e.elem.stop().animate({opacity:n.myOptions.nonblock_opacity},"fast")},mouseleave:function(t){n.myOptions.nonblock&&t.stopPropagation(),a=null,e.elem.css("cursor","auto"),n.myOptions.nonblock&&"out"!==e.animating&&e.elem.stop().animate({opacity:e.options.opacity},"fast")},mouseover:function(t){n.myOptions.nonblock&&t.stopPropagation()},mouseout:function(t){n.myOptions.nonblock&&t.stopPropagation()},mousemove:function(t){n.myOptions.nonblock&&(t.stopPropagation(),p(e,t,"onmousemove"))},mousedown:function(t){n.myOptions.nonblock&&(t.stopPropagation(),t.preventDefault(),p(e,t,"onmousedown"))},mouseup:function(t){n.myOptions.nonblock&&(t.stopPropagation(),t.preventDefault(),p(e,t,"onmouseup"))},click:function(t){n.myOptions.nonblock&&(t.stopPropagation(),p(e,t,"onclick"))},dblclick:function(t){n.myOptions.nonblock&&(t.stopPropagation(),p(e,t,"ondblclick"))}})},update:function(t,e){this.myOptions=e}}}),function(e,n){var t=n.jQuery;"object"==typeof exports?module.exports=t?e(n,t):function(t){if(t&&!t.fn)throw"Provide jQuery or null";return e(n,t)}:"function"==typeof define&&define.amd?define(function(){return e(n)}):e(n,!1)}(function(s,y){"use strict";function n(n,o){return function(){var t,e=this.base;return this.base=n,t=o.apply(this,arguments),this.base=e,t}}function c(t,e){return C(e)&&((e=n(t?t._d?t:n(o,t):o,e))._d=1),e}function j(t,e){for(var n in e.props)pt.test(n)&&(t[n]=c(t[n],e.props[n]))}function t(t){return t}function o(){return""}function e(t){this.name=(y.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function k(t,e){for(var n in e)t[n]=e[n];return t}function f(){var t=this.get("item");return t?t.index:void 0}function i(){return this.index}function _(t,e,n,o,i,s,r,a){var c,l,p,u=this,d="array"===e;u.content=a,u.views=d?[]:{},u.parent=n,u.type=e||"top",u.data=o,u.tmpl=i,p=u._={key:0,useKey:d?0:1,id:""+dt++,onRender:r,bnds:{}},u.linked=!!r,n?(c=n.views,(l=n._).useKey?((c[p.key="_"+l.useKey++]=u).index=gt,u.getIndex=f):c.length===(p.key=u.index=s)?c.push(u):c.splice(s,0,u),u.ctx=t||n.ctx):u.ctx=t}function w(t){var e,n=[],o=t.length;for(e=0;e<o;e++)n.push(t[e].unmap());return n}function L(t,e){var n,o=z._wm||{},i=k({tmpls:[],links:{},bnds:[],_is:"template",render:A},e);return i.markup=t,e.htmlTag||(n=ct.exec(t),i.htmlTag=n?n[1].toLowerCase():""),(n=o[i.htmlTag])&&n!==o.div&&(i.markup=y.trim(i.markup)),i}function r(c,l){var p=c+"s";g[p]=function t(e,n,o){var i,s,r,a;if(e&&typeof e===mt&&!e.nodeType&&!e.markup&&!e.getTgt&&!("viewModel"===c&&e.getters||e.extend)){for(r in e)t(r,e[r],n);return n||g}return void 0===n&&(n=e,e=void 0),e&&""+e!==e&&(o=n,n=e,e=void 0),a=o?"viewModel"===c?o:o[p]=o[p]||{}:t,s=l.compile,null===n?e&&delete a[e]:(n=s?s.call(a,e,n,o,0):n,e&&(a[e]=n)),s&&n&&(n._is=c),n&&(i=P.onStore[c])&&i(e,n,s),n}}function a(e){V[e]=function(t){return arguments.length?(Q[e]=t,V):Q[e]}}function l(n){return C(n)&&(n={getTgt:n}),n.baseMap&&(n=k(k({},n.baseMap),n)),n.map=function(t,e){return new function(t,e){this.tgt=n.getTgt(t,e)}(t,e)},n}function A(t,e,n,o,i,s){var r,a,c,l,p,u,d,f=o,h="";if(!0===e?(n=e,e=void 0):typeof e!==mt&&(e=void 0),(c=this.tag)?(this,l=(f=f||this.view).getTmpl(c.template||this.tmpl),arguments.length||(t=f)):l=this,l){if(!f&&t&&"view"===t._is&&(f=t),f&&t===f&&(t=f.data),p=!f,G=G||p,f||((e=e||{}).root=t),!G||z.useViews||l.useViews||f&&f!==R)h=function(t,e,n,o,i,s,r,a){function c(t){(y=k({},n))[g]=t}var l,p,u,d,f,h,m,b,v,g,y,w,x="";if(a&&(v=a.tagName,w=a.tagCtx,n=n?T(n,a.ctx):a.ctx,t===i.content?m=t!==i.ctx._wrp?i.ctx._wrp:void 0:t!==w.content?t===a.template?(m=w.tmpl,n._wrp=w.content):m=w.content||i.content:m=i.content,!1===w.props.link&&((n=n||{}).link=!1),(g=w.props.itemVar)&&("~"!==g.charAt(0)&&S("Use itemVar='~myItem'"),g=g.slice(1))),i&&(r=r||i._.onRender,n=T(n,i.ctx)),!0===s&&(h=!0,s=0),r&&(n&&!1===n.link||a&&a._.noVws)&&(r=void 0),!0===(b=r)&&(b=void 0,r=i._.onRender),n=t.helpers?T(t.helpers,n):n,y=n,$(e)&&!o)for(u=h?i:void 0!==s&&i||new _(n,"array",i,e,t,s,r),i&&i._.useKey&&(u._.bnd=!a||a._.bnd&&a),g&&(u.it=g),g=u.it,l=0,p=e.length;l<p;l++)g&&c(e[l]),d=new _(y,"item",u,e[l],t,(s||0)+l,r,m),f=t.fn(e[l],d,P),x+=u._.onRender?u._.onRender(f,d):f;else g&&c(e),u=h?i:new _(y,v||"data",i,e,t,s,r,m),a&&!a.flow&&(u.tag=a),x+=t.fn(e,u,P);return b?b(x,u):x}(l,t,e,n,f,i,s,c);else{if(f?(u=f.data,d=f.index,f.index=gt):((f=R).data=t,f.ctx=e),$(t)&&!n)for(r=0,a=t.length;r<a;r++)f.index=r,f.data=t[r],h+=l.fn(t[r],f,P);else f.data=t,h+=l.fn(t,f,P);f.data=u,f.index=d}p&&(G=void 0)}return h}function E(t){throw new P.Err(t)}function S(t){E("Syntax error\n"+t)}function B(k,_,C,$,N){function O(t){(t-=R)&&P.push(k.substr(R,t).replace(ot,"\\n"))}function j(t,e){t&&(t+="}}",S((e?"{{"+e+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+k))}var t,e,A,E,n,T=Q.allowCode||_&&_.allowCode||!0===V.allowCode,o=[],R=0,K=[],P=o,M=[,,o];if(T&&(_.allowCode=T),C&&(void 0!==$&&(k=k.slice(0,-$.length-2)+Z),k=J+k+Z),j(K[0]&&K[0][2].pop()[0]),k.replace(b,function(t,e,n,o,i,s,r,a,c,l,p,u){(r&&e||c&&!n||a&&":"===a.slice(-1)||l)&&S(t),s&&(i=":",o=ht);var d=(e||C)&&[[]],f="",h="",m="",b="",v="",g="",y="",w="",x=!(c=c||C&&!N)&&!i;n=n||(a=a||"#data",i),O(u),R=u+t.length,r?T&&P.push(["*","\n"+a.replace(/^:/,"ret+= ").replace(it,"$1")+";\n"]):n?("else"===n&&(at.test(a)&&S('for "{{else if expr}}" use "{{else expr}}"'),d=M[7]&&[[]],M[8]=k.substring(M[8],u),M=K.pop(),P=M[2],x=!0),a&&H(a.replace(ot," "),d,_).replace(rt,function(t,e,n,o,i,s,r,a){return o="'"+i+"':",r?(h+=s+",",b+="'"+a+"',"):n?(m+=o+s+",",g+=o+"'"+a+"',"):e?y+=s:("trigger"===i&&(w+=s),f+=o+s+",",v+=o+"'"+a+"',",E=E||pt.test(i)),""}).slice(0,-1),d&&d[0]&&d.pop(),A=[n,o||!!$||E||"",x&&[],I(b||(":"===n?"'#data',":""),v,g),I(h||(":"===n?"data,":""),f,m),y,w,d||0],P.push(A),x&&(K.push(M),(M=A)[8]=R)):p&&(j(p!==M[0]&&"else"!==M[0]&&p,M[0]),M[8]=k.substring(M[8],u),M=K.pop()),j(!M&&p),P=M[2]}),O(k.length),(R=o[o.length-1])&&j(""+R!==R&&+R[8]===R[8]&&R[0]),C){for(e=U(o,k,C),n=[],t=o.length;t--;)n.unshift(o[t][7]);q(e,n)}else e=U(o,_);return e}function q(t,e){var n,o,i=0,s=e.length;for(t.deps=[];i<s;i++)for(n in o=e[i])"_jsvto"!==n&&o[n].length&&(t.deps=t.deps.concat(o[n]));t.paths=o}function I(t,e,n){return[t.slice(0,-1),e.slice(0,-1),n.slice(0,-1)]}function F(t,e){return"\n\t"+(e?e+":{":"")+"args:["+t[0]+"]"+(t[1]||!e?",\n\tprops:{"+t[1]+"}":"")+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function H(N,O,j){var A,E,T,R,K,P=O&&O[0],M={bd:P},I={0:M},L=0,q=j?j.links:P&&(P.links=P.links||{}),F=0,H={},U={},t=(N+(j?" ":"")).replace(nt,function(t,e,n,o,l,i,s,r,a,c,p,u,d,f,h,m,b,v,g,y){(o=P&&o)&&!r&&(l=o+l),i=i||"",n=n||e||u,l=l||a;var w,x,k,_,C,$=")";if("["===(c=c||b||"")&&(c="[j._sq(",$=")]"),!s||K||R){if(P&&m&&!K&&!R&&(!A||T||E)&&(w=U[F-1],y.length-1>g-(w||0))){if(w=y.slice(w,g+t.length),!0!==x)if(k=E||I[F-1].bd,(_=k[k.length-1])&&_.prm){for(;_.sb&&_.sb.prm;)_=_.sb;C=_.sb={path:_.sb,bnd:_.bnd}}else k.push(C={path:k.pop()});(x=q[m=W+":"+w+" onerror=''"+X])||(q[m]=!0,q[m]=x=B(m,j,!0)),!0!==x&&C&&(C._jsv=x,C.prm=M.bd,C.bnd=C.bnd||C.path&&0<=C.path.indexOf("^"))}return K?(K=!d)?t:u+'"':R?(R=!f)?t:u+'"':(n?(U[F]=g++,M=I[++F]={bd:[]},n):"")+(v?F?"":(L=y.slice(L,g),(A?(A=T=E=!1,"\b"):"\b,")+L+(L=g+t.length,P&&O.push(M.bd=[]),"\b")):r?(F&&S(N),P&&O.pop(),A=l,T=o,L=g+t.length,o&&(P=M.bd=O[A]=[]),l+":"):l?l.split("^").join(".").replace(et,function(t,e,n,o,i,s,r,a){var c="."===n;if(n&&(l=l.slice(e.length),/^\.?constructor$/.test(a||l)&&S(t),c||(t=(o?'view.hlp("'+o+'")':i?"view":"data")+(a?(s?"."+s:o?"":i?"":"."+n)+(r||""):(a=o?"":i?s||"":n,"")),t=e+("view.data"===(t+=a?"."+a:"").slice(0,9)?t.slice(5):t)),P)){if(k="linkTo"===A?E=O._jsvto=O._jsvto||[]:M.bd,_=c&&k[k.length-1]){if(_._jsv){for(;_.sb;)_=_.sb;_.bnd&&(l="^"+l.slice(1)),_.sb=l,_.bnd=_.bnd||"^"===l.charAt(0)}}else k.push(l);U[F]=g+(c?1:0)}return t})+(c?(M=I[++F]={bd:[]},H[F]=$,c):i):i||(h?(h=H[F]||h,H[F]=!1,M=I[--F],h+(c?(M=I[++F],H[F]=$,c):"")):p?(H[F]||S(N),","):e?"":(K=d,R=f,'"')))}S(N)});return!F&&t||S(N)}function U(t,e,n){var o,i,s,r,a,c,l,p,u,d,f,h,m,b,v,g,y,w,x,k,_,C,$,N,O,j,A,E,T,R=0,K=z.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,P="",M={},I=t.length;for(""+e===e?(y=n?'data-link="'+e.replace(ot," ").slice(1,-1)+'"':e,e=0):(y=e.tmplName||"unnamed",e.allowCode&&(M.allowCode=!0),e.debug&&(M.debug=!0),d=e.bnds,g=e.tmpls),o=0;o<I;o++)if(""+(i=t[o])===i)P+='\n+"'+i+'"';else if("*"===(s=i[0]))P+=";\n"+i[1]+"\nret=ret";else{if(r=i[1],k=!n&&i[2],a=F(i[3],"params")+"},"+F(h=i[4]),A=i[5],T=i[6],_=i[8]&&i[8].replace(it,"$1"),(N="else"===s)?f&&f.push(i[7]):(R=0,d&&(f=i[7])&&(f=[f],R=d.push(1))),K=K||h[1]||h[2]||f||/view.(?!index)/.test(h[0]),(O=":"===s)?r&&(s=r===ht?">":r+s):(k&&((w=L(_,M)).tmplName=y+"/"+s,w.useViews=w.useViews||K,U(k,w),K=w.useViews,g.push(w)),N||(x=s,K=K||s&&(!D[s]||!D[s].flow),$=P,P=""),C=(C=t[o+1])&&"else"===C[0]),E=A?";\ntry{\nret+=":"\n+",b=m="",O&&(f||T||r&&r!==ht)){if((j=new Function("data,view,j,u"," // "+y+" "+R+" "+s+"\nreturn {"+a+"};"))._er=A,j._tag=s,n)return j;q(j,f),u=!0,m=(v='c("'+r+'",view,')+R+",",b=")"}if(P+=O?(n?(A?"try{\n":"")+"return ":E)+(u?(K=p=!(u=void 0),v+(f?(d[R-1]=j,R):"{"+a+"}")+")"):">"===s?(l=!0,"h("+h[0]+")"):(!0,"((v="+h[0]+")!=null?v:"+(n?"null)":'"")'))):(c=!0,"\n{view:view,tmpl:"+(k?g.length:"0")+","+a+"},"),x&&!C){if(P="["+P.slice(0,-1)+"]",v='t("'+x+'",view,this,',n||f){if((P=new Function("data,view,j,u"," // "+y+" "+R+" "+x+"\nreturn "+P+";"))._er=A,P._tag=x,f&&q(d[R-1]=P,f),n)return P;m=v+R+",undefined,",b=")"}P=$+E+v+(R||P)+")",x=f=0}A&&(K=!0,P+=";\n}catch(e){ret"+(n?"urn ":"+=")+m+"j._err(e,view,"+A+")"+b+";}"+(n?"":"ret=ret"))}P="// "+y+"\nvar v"+(c?",t=j._tag":"")+(p?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?";\n":',ret=""\n')+(M.debug?"debugger;":"")+P+(n?"\n":";\nreturn ret;"),!1!==Q.debugMode&&(P="try {\n"+P+"\n}catch(e){\nreturn j._err(e, view);\n}");try{P=new Function("data,view,j,u",P)}catch(t){S("Compiled template code:\n\n"+P+'\n: "'+t.message+'"')}return e&&(e.fn=P,e.useViews=!!K),P}function T(t,e){return t&&t!==e?e?k(k({},e),t):t:e&&k({},e)}function p(t){return ft[t]||(ft[t]="&#"+t.charCodeAt(0)+";")}function u(t,e,n){var o=this.jquery&&(this[0]||E('Unknown template: "'+this.selector+'"')),i=o.getAttribute(bt);return A.call(i?y.data(o)[vt]:N(o),t,e,n)}function d(t){return null!=t?lt.test(t)&&(""+t).replace(ut,p)||t:""}var h=!1===y;y=y&&y.fn?y:s.jQuery;var m,b,v,R,g,x,C,$,N,K,O,D,P,Q,z,V,J,W,X,Z,M,Y,G,tt="v0.9.78",et=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,nt=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,ot=/[ \t]*(\r\n|\n|\r)/g,it=/\\(['"])/g,st=/['"\\]/g,rt=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,at=/^if\s/,ct=/<(\w+)[>\s]/,lt=/[\x00`><\"'&=]/,pt=/^on[A-Z]|^convert(Back)?$/,ut=/[\x00`><"'&=]/g,dt=0,ft={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},ht="html",mt="object",bt="data-jsv-tmpl",vt="jsvTmpl",gt="For #index in nested block use #getIndex().",yt={},wt=s.jsrender,xt=wt&&y&&!y.render,kt={template:{compile:function o(i,t,s,r){function e(t){var e,n;if(""+t===t||0<t.nodeType&&(a=t)){if(!a)if(/^\.\/[^\\:*?"<>]*$/.test(t))(n=N[i=i||t])?t=n:a=document.getElementById(t);else if(y.fn&&!v.test(t))try{a=y(document).find(t)[0]}catch(t){}a&&(r?t=a.innerHTML:((e=a.getAttribute(bt))?e!==vt?(t=N[e],delete N[e]):y.fn&&(t=y.data(a)[vt]):t=o(i=i||(y.fn?vt:t),a.innerHTML,s,r),t.tmplName=i=i||e,i!==vt&&(N[i]=t),a.setAttribute(bt,i),y.fn&&y.data(a,vt,t))),a=void 0}else t.fn||(t=void 0);return t}var a,n,c=t=t||"";return 0===r&&(r=void 0,c=e(c)),(r=r||(t.markup?t:{})).tmplName=i,s&&(r._parentTmpl=s),!c&&t.markup&&(c=e(t.markup))&&c.fn&&(c=c.markup),void 0!==c?(c.fn||t.fn?c.fn&&(n=c):(t=L(c,r),B(c.replace(st,"\\$&"),t)),n||(function(t){var e,n,o,i,s,r;for(e in kt)if((s=kt[e].compile)&&(n=t[e+"s"]))for(o in n)(i=n[o]=s(o,n[o],t,0))._is=e,i&&(r=P.onStore[e])&&r(o,i,s)}(r),n=k(function(){return t.render.apply(t,arguments)},t)),i&&!s&&i!==vt&&(yt[i]=n),n):void 0}},tag:{compile:function(t,e,n){function o(){this._={inline:!0,unlinked:!0},this.tagName=t}var i,s,r,a=new P._tg;if(C(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),s=e.baseTag)for(r in e.flow=!!e.flow,e.baseTag=s=""+s===s?n&&n.tags[s]||D[s]:s,a=k(a,s),e)a[r]=c(s[r],e[r]);else a=k(a,e);return void 0!==(i=a.template)&&(a.template=""+i===i?N[i]||N(i):i),!1!==a.init&&((o.prototype=a).constructor=a._ctr=o),n&&(a._parentTmpl=n),a}},viewModel:{compile:function(r,t){function e(t){n.apply(this,t)}function d(){return new e(arguments)}function f(t,e){var n,o,i,s,r,a,c,l=u.length;for(n=0;n<l;n++)o=void 0,(s=u[n])+""!==s&&(s=(o=s).getter),void 0===(r=t[s])&&o&&void 0!==(i=o.defaultVal)&&(a=i,c=t,r=y.isFunction(a)?a.call(c):a),e(r,o&&p[o.type],s)}function a(t){t=t+""===t?JSON.parse(t):t;var e,n,o,i,s,r,a,c,l,p,u=this;if(y.isArray(u)){for(c={},p=[],o=t.length,i=u.length,e=0;e<o;e++){for(l=t[e],a=!1,n=0;n<i&&!a;n++)c[n]||(r=u[n],h&&(c[n]=a=h+""===h?l[h]&&(g[h]?r[h]():r[h])===l[h]:h(r,l)));a?(r.merge(l),p.push(r)):p.push(d.map(l))}v?v(u).refresh(p,!0):u.splice.apply(u,[0,u.length].concat(p))}else for(s in f(t,function(t,e,n){e?u[n]().merge(t):u[n](t)}),t)s===x||g[s]||(u[s]=t[s])}function c(){var t,e,n,o,i,s,r=this;if(y.isArray(r))return w(r);for(t={},o=u.length,n=0;n<o;n++)i=void 0,(e=u[n])+""!==e&&(e=(i=e).getter),s=r[e](),t[e]=i&&s&&p[i.type]?y.isArray(s)?w(s):s.unmap():s;for(e in r)"_is"===e||g[e]||e===x||"_"===e.charAt(0)&&g[e.slice(1)]||y.isFunction(r[e])||(t[e]=r[e]);return t}var o,n,p=this,u=t.getters,i=t.extend,h=t.id,s=y.extend({_is:r||"unnamed",unmap:c,merge:a},i),l="",m="",b=u?u.length:0,v=y.observable,g={};for(e.prototype=s,o=0;o<b;o++)!function(e){e=e.getter||e,g[e]=o+1;var n="_"+e;l+=(l?",":"")+e,m+="this."+n+" = "+e+";\n",s[e]=s[e]||function(t){return arguments.length?void(v?v(this).setProperty(e,t):this[n]=t):this[n]},v&&(s[e].set=s[e].set||function(t){this[n]=t})}(u[o]);return((n=new Function(l,m.slice(0,-1))).prototype=s).constructor=n,d.map=function(t){var e,n,o,i=t=t+""===t?JSON.parse(t):t,s=[];if(y.isArray(t)){for(n=(t=t||[]).length,e=0;e<n;e++)s.push(this.map(t[e]));return s._is=r,s.unmap=c,s.merge=a,s}if(t)for(o in f(t,function(t,e){e&&(t=e.map(t)),s.push(t)}),i=this.apply(this,s),t)o===x||g[o]||(i[o]=t[o]);return i},d.getters=u,d.extend=i,d.id=h,d}},helper:{},converter:{}};if(g={jsviews:tt,sub:{View:_,Err:e,tmplFn:B,parse:H,extend:k,extendCtx:T,syntaxErr:S,onStore:{},addSetting:a,settings:{allowCode:!1},advSet:o,_ths:j,_tg:function(){},_cnvt:function(t,e,n,o){var i,s,r="number"==typeof n&&e.tmpl.bnds[n-1],a=e.linkCtx;return void 0!==o?n=o={props:{},args:[o]}:r&&(n=r(e.data,e,P)),s=n.args[0],(t||r)&&((i=a&&a.tag)||(i=k(new P._tg,{_:{inline:!a,bnd:r,unlinked:!0},tagName:":",cvt:t,flow:!0,tagCtx:n}),a&&((a.tag=i).linkCtx=a),n.ctx=T(n.ctx,(a?a.view:e).ctx)),i._er=o&&s,j(i,n),n.view=e,i.ctx=n.ctx||i.ctx||{},n.ctx=void 0,s=i.cvtArgs("true"!==t&&t)[0],s=r&&e._.onRender?e._.onRender(s,e,i):s),null!=s?s:""},_tag:function(t,e,n,o,i,s){var r,a,c,l,p,u,d,f,h,m,b,v,g,y,w,x,k,_="",C=(e=e||R).linkCtx||0,$=e.ctx,N=n||e.tmpl,O="number"==typeof o&&e.tmpl.bnds[o-1];for("tag"===t._is?(t=(r=t).tagName,o=r.tagCtxs,r.template):(a=e.getRsc("tags",t)||E("Unknown tag: {{"+t+"}} ")).template,void 0!==s?(_+=s,o=s=[{props:{},args:[]}]):O&&(o=O(e.data,e,P)),d=o.length,u=0;u<d;u++)h=o[u],(!C||!C.tag||u&&!C.tag._.inline||r._er)&&((b=N.tmpls&&h.tmpl)&&(b=h.content=N.tmpls[b-1]),h.index=u,h.tmpl=b,h.render=A,h.view=e,h.ctx=T(h.ctx,$)),(n=h.props.tmpl)&&(h.tmpl=e.getTmpl(n)),r||(v=!!(r=new a._ctr).init,r.parent=p=$&&$.tag,r.tagCtxs=o,k=r.dataMap,C&&(r._.inline=!1,(C.tag=r).linkCtx=C),(r._.bnd=O||C.fn)?r._.arrVws={}:r.dataBoundOnly&&E("{^{"+t+"}} tag must be data-bound")),o=r.tagCtxs,k=r.dataMap,h.tag=r,k&&o&&(h.map=o[u].map),r.flow||(m=h.ctx=h.ctx||{},c=r.parents=m.parentTags=$&&T(m.parentTags,$.parentTags)||{},p&&(c[p.tagName]=p),c[r.tagName]=m.tag=r);if(!(r._er=s)){for(j(r,o[0]),r.rendering={},u=0;u<d;u++)x=(h=r.tagCtx=o[u]).props,w=r.cvtArgs(),(g=x.dataMap||k)&&(w.length||x.dataMap)&&((y=h.map)&&y.src===w[0]&&!i||(y&&y.src&&y.unmap(),y=h.map=g.map(w[0],x,void 0,!r._.bnd)),w=[y.tgt]),r.ctx=h.ctx,u||(v&&(r.template,r.init(h,C,r.ctx),v=void 0),C&&(C.attr=r.attr=C.attr||r.attr),l=r.attr,r._.noVws=l&&l!==ht),f=void 0,r.render&&(f=r.render.apply(r,w)),w.length||(w=[e]),void 0===f&&(f=h.render(w[0],!0)||(i?void 0:"")),_=_?_+(f||""):f;r.rendering=void 0}return r.tagCtx=o[0],r.ctx=r.tagCtx.ctx,r._.noVws&&r._.inline&&(_="text"===l?K.html(_):""),O&&e._.onRender?e._.onRender(_,e,r):_},_er:E,_err:function(t,e,n){var o=void 0!==n?C(n)?n.call(e.data,t,e):n||"":"{Error: "+t.message+"}";return Q.onError&&void 0!==(n=Q.onError.call(e.data,t,n&&o,e))&&(o=n),e&&!e.linkCtx?K.html(o):o},_html:d,_sq:function(t){return"constructor"===t&&S(""),t}},settings:{delimiters:function(t,e,n){return t?(Q.delimiters=[t,e,M=n?n.charAt(0):M],J=t.charAt(0),W=t.charAt(1),X=e.charAt(0),Z=e.charAt(1),t="\\"+J+"(\\"+M+")?\\"+W,e="\\"+X+"\\"+Z,b="(?:(\\w+(?=[\\/\\s\\"+X+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+X+"]|\\"+X+"(?!\\"+Z+"))*?)",P.rTag="(?:"+b+")",b=new RegExp("(?:"+t+b+"(\\/)?|\\"+J+"(\\"+M+")?\\"+W+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),v=new RegExp("<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),V):Q.delimiters},advanced:function(t){return t?(k(z,t),P.advSet(),V):z}},map:l},(e.prototype=new Error).constructor=e,f.depends=function(){return[this.get("item"),"index"]},i.depends="index",_.prototype={get:function(t,e){e||!0===t||(e=t,t=void 0);var n,o,i,s,r=this,a=!e||"root"===e;if(t){if(!(s=e&&r.type===e&&r))if(n=r.views,r._.useKey){for(o in n)if(s=e?n[o].get(t,e):n[o])break}else for(o=0,i=n.length;!s&&o<i;o++)s=e?n[o].get(t,e):n[o]}else if(a)for(;r.parent;)r=(s=r).parent;else for(;r&&!s;)s=r.type===e?r:void 0,r=r.parent;return s},getIndex:i,getRsc:function(t,e){for(var n,o,i=this;void 0===n&&i;)n=(o=i.tmpl&&i.tmpl[t])&&o[e],i=i.parent;return n||g[t][e]},getTmpl:function(t){return t&&(t.fn?t:this.getRsc("templates",t)||N(t))},hlp:function(t){var e,n=this,o=n.linkCtx,i=(n.ctx||{})[t];return void 0===i&&o&&o.ctx&&(i=o.ctx[t]),void 0===i&&(i=O[t]),i&&C(i)&&!i._wrp&&((e=function(){return i.apply(this&&this!==s?this:n,arguments)})._wrp=n,k(e,i)),e||i},_is:"view"},P=g.sub,V=g.settings,!(wt||y&&y.render)){for(m in kt)r(m,kt[m]);for(Y in K=g.converters,O=g.helpers,D=g.tags,P._tg.prototype={baseApply:function(t){return this.base.apply(this,t)},cvtArgs:function(t){var e=this,n=e.tagCtx,o=n.view,i=n.args;return t=(t=t||e.convert)&&(""+t===t?o.getRsc("converters",t)||E("Unknown converter: '"+t+"'"):t),i=i.length||n.index?t?i.slice():i:[o.data],t&&(t.depends&&(e.depends=P.getDeps(e.depends,e,t.depends,t)),i[0]=t.apply(e,i)),i}},R=P.topView=new _,y?(y.fn.render=u,x=y.expando,y.observable&&(k(P,y.views.sub),g.map=y.views.map)):(y={},h&&(s.jsrender=y),y.renderFile=y.__express=y.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},y.isFunction=function(t){return"function"==typeof t},y.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},P._jq=function(t){t!==y&&(k(t,y),(y=t).fn.render=u,delete y.jsrender,x=y.expando)},y.jsrender=tt),(Q=P.settings).allowCode=!1,C=y.isFunction,$=y.isArray,y.render=yt,y.views=g,y.templates=N=g.templates,Q)a(Y);(V.debugMode=function(t){return void 0===t?Q.debugMode:(Q.debugMode=t,Q.onError=t+""===t?new Function("","return '"+t+"';"):C(t)?t:void 0,V)})(!1),z=Q.advanced={useViews:!1,_jsv:!1},D({if:{render:function(t){var e=this.tagCtx;return this.rendering.done||!t&&(arguments.length||!e.index)?"":(this.rendering.done=!0,this.selected=e.index,e.render(e.view,!0))},flow:!0},for:{render:function(t){var e,n=!arguments.length,o=this.tagCtx,i="",s=0;return this.rendering.done||(void 0!==(e=n?o.view.data:t)&&(i+=o.render(e,n),s+=$(e)?e.length:1),(this.rendering.done=s)&&(this.selected=o.index)),i},flow:!0},props:{baseTag:"for",dataMap:l(function(t){var e,n,o=[];if(typeof t===mt)for(e in t)n=t[e],e===x||C(n)||o.push({key:e,prop:n});return o}),flow:!0},include:{flow:!0},"*":{render:t,flow:!0},":*":{render:t,flow:!0},dbg:O.dbg=K.dbg=function(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(t){}return this.base?this.baseApply(arguments):t}}),K({html:d,attr:d,url:function(t){return null!=t?encodeURI(""+t):null===t?t:""}})}return Q=P.settings,V.delimiters("{{","}}","^"),xt&&wt.views.sub._jq(y),y||wt},window);var cuHandler={ismobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),currentResponse:!1,checkEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},loadRemoteDialog:function(launcher){var url=null!=$(launcher).attr("href")&&"#"!=$(launcher).attr("href")?$(launcher).attr("href"):$(launcher).data("url"),handler=$(launcher).data("handler"),window_id=$(launcher).data("window-id"),params={CUTOKEN_REQUEST:$("#cu-token").val()};return 0==params||(cuHandler.showLoader(),$.get(url,params,function(response){return cuHandler.retrieveAjax(response)&&(null==handler&&""!=handler?(cuHandler.closeLoader(),cuHandler.modal.dialog({message:response.content,title:response.message,icon:null!=response.icon?response.icon:"",width:null!=response.width?response.width:"",id:null!=response.id?response.id:window_id,animate:!1,color:null!=response.color?response.color:"",closeButton:null==response.closeButton||response.closeButton,helpButton:null!=response.helpButton&&response.helpButton,helpUrl:null!=response.helpUrl?response.helpUrl:"#",solid:null!=response.solid})):(cuHandler.closeLoader(),eval(handler+"(response, launcher);")),$(".cu-data-table").each(function(){cuHandler.createDataTable($(this))}),cuHandler.checkAjaxAction(response)),!1},"json")),!1},submitAjaxForm:function(t){if(!$(t).valid())return!1;cuHandler.showLoader();var e=t.serialize();e+="&CUTOKEN_REQUEST="+$("#cu-token").val();var n=t.attr("action");return"post"==t.attr("method")?$.post(n,e,cuHandler.retrieveAjax,"json"):$.get(n,e,cuHandler.retrieveAjax,"json"),!1},requestAjax:function(t,e){return $(t).cuSpinner({icon:"svg-rmcommon-spinner-14"}),null!=e&&(null!=e.url&&(null==e.parameters&&(e.parameters={}),e.parameters.CUTOKEN_REQUEST=$("#cu-token").val(),void(null==e.method||"post"==e.method?$.post(e.url,e.parameters,cuHandler.retrieveAjax,"json"):$.get(e.url,e.parameters,cuHandler.retrieveAjax,"json"))))},isDisabled:function(t){return!(!$(t).hasClass("disabled")&&null==$(t).attr("disabled"))},retrieveAjax:function(t,e){return e=null==e||e,"error"==(this.currentResponse=t).type&&(null!=t.modal_message?bootbox.alert({message:t.message}):null!=t.notify&&null!=t.message?(cuHandler.notify({title:null==t.notify.title?"":t.notify.title,type:null==t.notify.type?"alert-info":t.notify.type,icon:null==t.notify.icon?"svg-rmcommon-info-solid":t.notify.icon,text:null==t.notify.text?t.message:t.notify.text}),t.notify=void 0):e&&alert(t.message)),null!=t.token&&""!=t.token&&$("#cu-token").val(t.token),cuHandler.closeLoader(),cuHandler.checkAjaxAction(t),"error"!=t.type},checkAjaxAction:function(data){null!=data.showMessage&&alert(data.message),null!=data.notify&&null!=data.message&&this.notify({title:null==data.notify.title?null:data.notify.title,type:null==data.notify.type?"alert-info":data.notify.type,icon:null==data.notify.icon?"svg-rmcommon-info-solid":data.notify.icon,text:null==data.notify.text?data.message:data.notify.text}),null!=data.closeWindow&&$(data.closeWindow).modal("hide"),null!=data.runHandler&&eval(data.runHandler+"(data)"),null!=data.goto&&(window.location.href=data.goto),null!=data.function&&eval(data.function),null!=data.openDialog&&cuHandler.modal.dialog({message:data.content,title:data.message,icon:null!=data.icon?data.icon:"",width:null!=data.width?data.width:"",owner:null!=data.owner?data.owner:"",id:null!=data.windowId?data.windowId:"",animate:!1,closeButton:null==data.closeButton||data.closeButton,helpButton:null!=data.helpButton&&data.helpButton,helpUrl:null!=data.helpUrl?data.helpUrl:"#",color:null!=data.color?data.color:"",solid:null!=data.solid}),null!=data.dynamicTable&&$(data.dynamicTable.table).dynamicTable(data.dynamicTable.action,{}),null==data.reload||window.location.reload(!0)},showLoader:function(){$(".cu-window-loader").remove(),$(".cu-window-blocker").remove();var t='<div class="cu-window-blocker"></div>';t+='<div class="cu-window-loader"><div class="loader-container text-center"><button class="close" type="button">&times;</button><span><span class="cu-icon cu-spinner" style="animation: cu-spin 1s infinite steps(10)"><svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">\n    <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">\n      <animateTransform \n         attributeName="transform" \n         attributeType="XML" \n         type="rotate"\n         dur="1s" \n         from="0 50 50"\n         to="360 50 50" \n         repeatCount="indefinite" />\n  </path>\n</svg></span> '+cuLanguage.inProgress+"</span></div></div>",$("body").append(t),$("div.cu-window-blocker").show(),$("div.cu-window-loader").addClass("active")},closeLoader:function(t){$(".cu-window-loader").fadeOut(1,function(){$(".cu-window-blocker").fadeOut(0,function(){$(".cu-window-loader").remove(),$(".cu-window-blocker").remove()})})},getURI:function(t,e,n,o,i){return this.getControllerURI(t,e,n,o,i)},getControllerURI:function(module,controller,action,zone,params){var url=xoUrl;if(null!=cu_modules[module]&&null!=controller&&""!=controller)url+="backend"==zone?"/admin":"",url+=cu_modules[module]+"/"+controller+"/"+action+"/";else{if(url+="/modules/"+module,url+="backend"==zone?"/admin":"",""==controller||null==controller)return url;url+="/index.php/"+controller+"/"+action+"/"}if(null==params)return url;var query="";for(key in params)query+=(""==query?"?":"&")+key+"="+eval("params."+key);return url+query},url:function(t,e){var n=window.location.protocol+"//"+window.location.host;""!=window.location.port&&(n+=":"+window.location.port);var o=xoUrl.replace(n,"");return null==t?xoUrl:1==arguments.length||1!=e?xoUrl+t:o+t},createDataTable:function(t){if(!t.hasClass("dataTable")){var e=$(t).data("exclude");null!=e&&e.toString().split(",");$(t).dataTable({bProcessing:!0,bServerSide:!0,sAjaxSource:$(t).data("source"),bPaginate:!0})}},runAction:function(e){var action=$(e).data("action");switch(action){case"load-remote-dialog":case"load-module-dialog":cuHandler.loadRemoteDialog(e);break;case"goto":var url=$(e).data("url");null==url&&(url=$(e).attr("href"));var retriever=$(e).data("retriever");null!=retriever&&(url+=eval(retriever+"(e)")),null!=url&&""!=url&&(window.location.href=url);break;case"ajax":var url=""!=$(e).attr("href")?$(e).attr("href"):$(e).data("url");cuHandler.requestAjax(e,{url:url});case"register":this.registerForm({item:$(e).data("item"),type:$(e).data("type")});break;default:if(""==action)return;var parts=action.split(".");if(parts.length<1)return;if(1==parts.length){if(null==window[parts[0]])return;return void window[parts[0]]()}if(2==parts.length){if(null==window[parts[0]][parts[1]])return;window[parts[0]][parts[1]]()}if(3==parts.length){if(null==window[parts[0]][parts[1]][parts[2]])return;window[parts[0]][parts[1]][parts[2]]()}}},enableCommands:function(id_activator,type){var commands=$("*[data-activator='"+id_activator+"']"),total=$("#"+id_activator+" :"+type+":checked").length;$(commands).each(function(index){var required=null!=$(this).data("oncount")?$(this).data("oncount"):" >= 1";eval("total "+required)?$(this).enable():$(this).disable()})},registerForm:function(t){if(null==t)return this.notify({type:"alert-danger",icon:"svg-rmcommon-error",text:cuLanguage.dataInvalid}),!1;if(null==t.item)return this.notify({type:"alert-danger",icon:"svg-rmcommon-error",text:cuLanguage.noItemRegister}),!1;if(null==t.type)return this.notify({type:"alert-danger",icon:"svg-rmcommon-error",text:cuLanguage.noTypeRegister}),!1;t={CUTOKEN_REQUEST:$("#cu-token").val(),action:"form",dir:t.item,type:t.type};$.post(xoUrl+"/modules/rmcommon/ajax/register.php",t,function(t){return 0!=cuHandler.retrieveAjax(t)&&(null!=t.form&&($("body").addClass("registering").append(t.form),void $("#rmc-register-overlay").fadeIn(300,function(){$("#rmc-register-form").fadeIn(250)})))},"json")},sendRegistration:function(){var t=$("#rmc-register-form"),e=t.find("#register-email").val(),n=t.find("#register-api").val(),o=t.find("#register-key").val(),i=t.find("#register-type").val(),s=t.find("#register-item").val(),r=!1;if(null!=e&&""!=e&&0!=this.checkEmail(e)||(t.find("#register-email").parent().addClass("error"),r=!0),null!=n&&""!=n||(t.find("#register-api").parent().addClass("error"),r=!0),null!=o&&""!=o||(t.find("#register-key").parent().addClass("error"),r=!0),r)cuHandler.notify({text:cuLanguage.thereAreErrors,icon:"svg-rmcommon-error",type:"alert-danger"});else{var a={CUTOKEN_REQUEST:$("#cu-token").val(),action:"register",api:n,email:e,key:o,dir:s,type:i};$.post(xoUrl+"/modules/rmcommon/ajax/register.php",a,function(t){if(0==cuHandler.retrieveAjax(t))return null!=t.code&&"reactivate"==t.code&&cuHandler.showReactivation(t),!1;$("#rmc-register-form .form-group").fadeOut(250,function(){$(this).remove()}),setTimeout(function(){$("#rmc-register-form").append(t.activation)},300)},"json")}},showReactivation:function(t){if($("#rmc-register-form").fadeOut(250,function(){$(this).remove()}),null==t.form||""==t.form)return cuHandler.notify({text:cuLanguage.invalidResponse,type:"alert-warning",icon:"svg-rmcommon-alert"}),!1;$("body").append(t.form),$("#rmc-reactivate-form").fadeIn(300)},sendReactivation:function(){var t=$("#rmc-reactivate-form"),e=t.find("#reactivate-email").val(),n=t.find("#reactivate-api").val(),o=t.find("#reactivate-key").val(),i=t.find("#reactivate-type").val(),s=t.find("#reactivate-item").val(),r=t.find("#reactivate-license").val(),a=!1;if(null!=o&&""!=o||(t.find("#reactivate-key").parent().addClass("error"),a=!0),a)cuHandler.notify({text:cuLanguage.thereAreErrors,icon:"svg-rmcommon-error",type:"alert-danger"});else{var c={CUTOKEN_REQUEST:$("#cu-token").val(),action:"reactivate",api:n,email:e,key:o,license:r,dir:s,type:i};$.post(xoUrl+"/modules/rmcommon/ajax/register.php",c,function(t){if(0==cuHandler.retrieveAjax(t))return!1;$("#rmc-reactivate-form .form-group, #rmc-reactivate-form .help-block").fadeOut(250,function(){$(this).remove()}),setTimeout(function(){$("#rmc-reactivate-form").append(t.activation)},300)},"json")}},getIcon:function(t){var e,n="svg-"==t.slice(0,4),o=!1;if(n||(n=".svg"==t.slice(-4))&&(o=!0),e=null!=t.match(/^(http:\/\/|ftp:\/\/|https:\/\/\|\/\/)/i),n&&!o){var i=t.split("-");if(i.length<3)return this.url("modules/rmcommon/icons/noicon.svg");var s=t.slice(5+i[1].length),r=this.url("modules/rmcommon/icons/"+s+".svg");return null==iconsProviders?r:iconsProviders.hasOwnProperty(i[1])?iconsProviders[i[1]]+"/"+s+".svg":r}if(o&&!e)return this.url(t);var a=t.slice(-4);return[".jpg",".gif",".png","jpeg"].indexOf(a)||e?t:'<span class="'+t+'"></span>'},loadIcon:function(t,e,n){if(arguments.length<1)return!1;n=2==arguments.length||1!=arguments.length&&n;var o=this.getIcon(t),i=".svg"==o.slice(-4),s="<span"==o.slice(0,5);if(n)var r=e.find(".cu-icon");else r=$("<span />",{class:"cu-icon"});if((null==r||r.length<=0)&&(n=!1,r=$("<span />",{class:"cu-icon"})),i)r.html("").load(o);else if(s)r.html("").append(o);else{var a=$("<img>").attr("src",o);r.html("").append(a)}return!n&&1<arguments.length&&$(e).append(r),r},modal:bootbox,notify:function(t){return new PNotify(t)},imagesManager:function(t){var e='<div id="blocker-'+t.idContainer+'" class="mgr_blocker"></div><div id="window-'+t.idContainer+'" class="imgmgr_container">';e+='<div class="window-title cu-titlebar"><button type="button" class="close">&times;</button>'+t.title+"</div>",e+='<iframe src="'+xoUrl+"/modules/rmcommon/include/tiny-images.php?type="+t.type+"&amp;idcontainer="+t.idContainer+"&amp;editor="+t.idContainer+"&amp;target="+t.target+"&amp;&amp;multi="+t.multiple+'" name="image"></iframe>',e+="</div>",$("body").append(e),$("#blocker-"+t.idContainer).fadeIn("fast",function(){$("body").css("overflow","hidden"),$("#window-"+t.idContainer).fadeIn("fast",function(){})}),$("#blocker-"+t.idContainer+", #window-"+t.idContainer+" .window-title .close").click(function(){$("#window-"+t.idContainer).fadeOut("fast",function(){$("#blocker-"+t.idContainer).fadeOut("fast",function(){$("body").css("overflow","auto"),$("#window-"+t.idContainer).remove(),$("#blocker-"+t.idContainer).remove()})})})},template:function(t,e){return $.templates(t).render(e)}};Number.prototype.formatMoney=function(t,e,n){var o=this,i=(t=isNaN(t=Math.abs(t))?2:t,e=null==e?".":e,n=null==n?",":n,o<0?"-":""),s=parseInt(o=Math.abs(+o||0).toFixed(t))+"",r=3<(r=s.length)?r%3:0;return i+(r?s.substr(0,r)+n:"")+s.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?e+Math.abs(o-s).toFixed(t).slice(2):"")},jQuery.fn.enable=function(){this.each(function(){jQuery(this).removeAttr("disabled"),jQuery(this).removeClass("disabled")})},jQuery.fn.disable=function(){this.each(function(){jQuery(this).prop("disabled",!0),jQuery(this).addClass("disabled")})},$(document).ready(function(){var t="";if($("body").on("click","#rmc-register-form > .close, #rmc-reactivate-form > .close",function(){$("#rmc-register-form, #rmc-reactivate-form").fadeOut(250,function(){$("#rmc-register-overlay").fadeOut(300,function(){$("#rmc-register-form, #rmc-reactivate-form").remove(),$("#rmc-register-overlay").remove()})})}),$("body").on("click","#rmc-register-form button.btn",function(){cuHandler.sendRegistration()}),$("body").on("click","#rmc-reactivate-form button.btn",function(){cuHandler.sendReactivation()}),$("body").on("keyup","#rmc-register-form .form-group.error .form-control",function(t){if(13!=t.which){if("email"==$(this).attr("name"))return void(cuHandler.checkEmail($(this).val())&&$(this).parent().removeClass("error"));if(""!=$(this).val())return void $(this).parent().removeClass("error")}}),$("body").on("click","*[data-action]",function(t){return $(this).is(":disabled")||$(this).attr("disabled")||$(this).hasClass("disabled")?$(t).stopPropagation():cuHandler.runAction($(this)),!1}),$("body").on("submit",'form[data-type="ajax"]',function(){return cuHandler.submitAjaxForm($(this)),!1}),$("body").on("submit",'form[data-type="no-submit"]',function(){return!1}),$("body").on("click",".cu-window-loader .close",function(){cuHandler.closeLoader()}),$(".cu-data-table").each(function(){cuHandler.createDataTable($(this))}),$("*[data-rel='tooltip']").tooltip(),$("body").on("change",".activator-container :checkbox[data-switch], .activator-container :radio[data-switch]",function(){event.stopPropagation();var t=$(this).parents(".activator-container").attr("id");cuHandler.enableCommands(t,$(this).attr("type")),"radio"==$(this).attr("type")&&$(this).parents(".activator-container").find(".tr-checked").removeClass("tr-checked"),$(this).is(":checked")?$(this).parents("tr").addClass("tr-checked"):$(this).parents("tr").removeClass("tr-checked")}),$("body").on("change",":checkbox[data-checkbox]",function(){var t=$(this).data("checkbox");if(null!=t){$(":checkbox[data-oncheck='"+t+"']").prop("checked",$(this).prop("checked")).change();var e=$(this).parents(".activator-container");0<e.length&&cuHandler.enableCommands(e.attr("id"),"checkbox")}}),$("body").on("change",":checkbox[data-oncheck]",function(){var t=$(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']").length,e=$(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']:checked"),n=$(":checkbox[data-checkbox='"+$(this).data("oncheck")+"']");e.length<t&&null==$(n).attr("data-oncheck")?$(n).prop("checked",!1):e.length>=t&&$(n).prop("checked",!0)}),1==$("*[data-news='load']").length||0<$("*[data-boxes='load']").length){var e=$("*[data-news='load']");if(e.length<=0&&(e=$("*[data-boxes='load']")),e.length<=0)return!1;var n=e.data("module"),r=$(e.data("target"));null!=r&&r.html('<div class="text-success"><span class="fa fa-spinner fa-pulse"></span> '+cuLanguage.downloadNews+"</div>");var a=$("*[data-boxes='load']"),o=$("html").attr("lang");o=null==o?"en":o;var s={module:n,CU_TOKEN:$("#cu-token").val(),lang:o};$.get(xoUrl+"/modules/rmcommon/ajax/module-info.php",s,function(e){if("error"!=e.type){if(null!=e.news&&null!=r){for(news=$("<ul>").addClass("cu-ajax-news list-unstyled"),i=0;i<e.news.length;i++){var t="<li><small>"+e.news[i].date+'</small><h5><a href="'+e.news[i].link+'" target="_blank">'+e.news[i].title+"</a></h5>";t+='<p class="help-block">'+e.news[i].content+"</p></li>",news.append(t)}r.html("").append(news),news.fadeIn("fast",function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")})}if(null!=e.boxes&&null!=a)for(i=0;i<e.boxes.length;i++){if(null==e.boxes[i].size||e.boxes[i].size<=0)var n=1;else n=e.boxes[i].size;var o=$('<div data-dashboard="item">').addClass("size-"+n).css("display","none");if(o.append('<div class="cu-box '+e.boxes[i].class+'"><div class="box-header"><span class="fa fa-caret-up box-handler"></span><h3 class="box-title">'+e.boxes[i].title+'</h3></div><div class="box-content">'+e.boxes[i].content+"</div></div>"),null!=e.boxes[i].container){var s=$(e.boxes[i].container);0<s.length&&$(s).each(function(){var t=o.clone();"top"==e.boxes[i].position?$(this).prepend(t):$(this).append(t),t.fadeIn("fast",function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")})})}}}else r.html('<div class="text-danger"><span class="fa fa-exclamation-triangle"></span> '+cuLanguage.downloadNewsError+"</div>")},"json")}$("body").on("click",".ed-container .full-screen",function(){$(this).parents(".ed-container").addClass("full-screen-edit"),$(this).removeClass("full-screen").addClass("normal-screen"),t=$(this).parents(".ed-container").find(".txtarea-container").attr("style"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",""),$("body").css("overflow","hidden")}),$("body").on("click",".ed-container .normal-screen",function(){$(this).parents(".ed-container").removeClass("full-screen-edit"),$(this).addClass("full-screen").removeClass("normal-screen"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",t),t="",$("body").css("overflow","visible")}),$(".cu-notifications form .notification-item").change(function(){var t=$(this).data("event"),e=$(this).is(":checked")?1:0,n=$(this),o={event:t,status:e,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",o,function(t){"error"!=t.type?$(n).parent().parent().animate({backgroundColor:"#ffff99"},500,"linear",function(){$(this).animate({backgroundColor:"transparent"},500,"linear")}):alert(t.message)},"json")}),$(" #cu-notifications .cancel-subscription").click(function(){var t=$(this).data("info"),e=$(this),n={event:t,status:0,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",n,function(t){"error"!=t.type?$(e).parent().parent().slideUp(250,function(){$(this).remove()}):alert(t.message)},"json")})});