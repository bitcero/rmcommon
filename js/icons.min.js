!function(n){this.CUIcons=function(){};CUIcons.prototype.loadFromProvider=function(e){if(null==e||""==e)return!1;cuHandler.showLoader();var o={CUTOKEN_REQUEST:n("#cu-token").val(),provider:e,action:"load-icons",size:n("#icons-sizes :radio:checked").val()};n.get("icons.php",o,(function(e){if(cuHandler.closeLoader(),!cuHandler.retrieveAjax(e))return n(".icons-container .panel-body").append('<span class="label label-warning">'+e.message+"</span>"),!1;n(".icons-container .box-title").html(e.message),n(".icons-container .box-content").html(e.content)}),"json")},CUIcons.prototype.changeSize=function(e){if(null==e||e<=0)return!1;n(".icons-container .icons-grid").attr("data-size",e)},CUIcons.prototype.showData=function(e){if(null==e||e.length<=0)return!1;var o={icon:'<span class="icon-load"></span>',iconCode:n(e).data("icon"),provider:n(e).parents(".icons-grid").data("provider"),file:n(e).attr("title")},i=n.templates("#details-tpl"),t=n("<div/>").attr("id","icon-details").append(i.render(o));n(t).find(".icon-load").append(cuHandler.loadIcon(n(e).data("icon"))),n("body").append(t),n(t).find(".copy-text").on("click",(async function(e){let o=e.target.innerText;await(n=>{if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(n);{let e=document.createElement("input");return e.value=n,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select(),new Promise(((n,o)=>{document.execCommand("copy")?n():o(),e.remove()}))}})(o),n(".f-copied").fadeIn("fast",(function(){setTimeout((function(){n(".f-copied").fadeOut("fast")}),1e3)}))}))},CUIcons.prototype.filter=function(e){var o=n(e).val().trim();if(o.length<1)return n(".icons-grid > li").fadeIn(),null;n(".icons-grid > li").each((function(){n(this).data("icon").search(new RegExp(o,"i"))<0?n(this).fadeOut():(n(this).fadeIn())}))};var e=new CUIcons;n("#provider").change((function(){e.loadFromProvider(n(this).val())})),n("#icons-sizes :radio").change((function(){e.changeSize(n(this).val())})),n("body").on("click",".icons-grid a",(function(){return e.showData(n(this)),!1})),n("body").on("click","#icon-details .close",(function(){n("#icon-details").fadeOut(500,(function(){n(this).remove()}))})),n("#icons-search").keyup((function(){e.filter(n(this))}))}(jQuery);