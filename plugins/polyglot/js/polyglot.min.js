!function(a){var n=new PolyglotLang;this.Polyglot=function(){},this.Polyglot.prototype.init=function(){var t=a("form[data-translate='true']");if(t.length<=0)return null;var o=a("<div/>").addClass("polyglot-tools");o.append('<span class="tool-caption">'+n.editionLang+"</span>");for(var l in polyglotLangs){var r=a("<img>").attr("src",cuHandler.url("/modules/rmcommon/plugins/polyglot/flags/"+polyglotLangs[l].country+".png")),e=window.location.href.replace(/lang=[a-z]{2}?/i,"lang="+l);-1==e.indexOf("lang=")&&(e+=-1==e.indexOf("?")?"?":"&",e+="lang="+l);var s=a("<a/>").addClass("btn btn-polyglot").attr("href",e).append(r).append(polyglotLangs[l].name);n.current==l&&(s.addClass("current"),s.attr("href","#"),s.attr("onclick","return false;")),a(o).append(s)}var s=a("<a/>").addClass("btn btn-info").attr("href","#").attr("data-help","polyglot:edit-content.md:plugin").attr("data-action","help");if(cuHandler.loadIcon("svg-rmcommon-question",s,!0),a(o).append(s),n.current!=n.base){var i=a("<div/>").addClass("alert alert-red alert-polyglot").append('<span class="close" data-dismiss="alert">&times;</span><span class="cu-icon"></span> '+n.noBaseEdition.replace("%s",n.current));cuHandler.loadIcon("svg-rmcommon-language",i,!0)}t.each(function(){o.attr("data-polyglot-form",a(this).attr("id")),a(this).before(o),void 0!=i&&a(this).before(i)})},a(document).ready(function(){var a=new Polyglot;a.init()})}(jQuery);
