!function(a,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof exports?module.exports=o(require("jquery")):a.bootbox=o(a.jQuery)}(this,function a(o,i){"use strict";function e(a){var o=m[u.locale];return o?o[a]:m.en[a]}function n(a,i,e){a.stopPropagation(),a.preventDefault();var n=o.isFunction(e)&&e.call(i,a)===!1;n||i.modal("hide")}function t(a){var o,i=0;for(o in a)i++;return i}function c(a,i){var e=0;o.each(a,function(a,o){i(a,o,e++)})}function r(a){var i,e;if("object"!=typeof a)throw new Error("Please supply an object of options");if(!a.message)throw new Error("Please specify a message");return a=o.extend({},u,a),a.buttons||(a.buttons={}),i=a.buttons,e=t(i),c(i,function(a,n,t){if(o.isFunction(n)&&(n=i[a]={callback:n}),"object"!==o.type(n))throw new Error("button with key "+a+" must be an object");n.label||(n.label=a),n.className||(2>=e&&t===e-1?n.className="btn-primary":n.className="btn-default")}),a}function l(a,o){var i=a.length,e={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof a[0]?(e[o[0]]=a[0],e[o[1]]=a[1]):e=a[0],e}function s(a,i,e){return o.extend(!0,{},a,l(i,e))}function f(a,o,i,e){var n={className:"bootbox-"+a,buttons:p.apply(null,o)};return d(s(n,e,i),o)}function p(){for(var a={},o=0,i=arguments.length;i>o;o++){var n=arguments[o],t=n.toLowerCase(),c=n.toUpperCase();a[t]={label:e(c)}}return a}function d(a,o){var e={};return c(o,function(a,o){e[o]=!0}),c(a.buttons,function(a){if(e[a]===i)throw new Error("button key "+a+" is not allowed (options are "+o.join("\n")+")")}),a}var h={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},u={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",id:""},g={};g.alert=function(){var a;if(a=f("alert",["ok"],["message","callback"],arguments),a.callback&&!o.isFunction(a.callback))throw new Error("alert requires callback property to be a function when provided");return a.buttons.ok.callback=a.onEscape=function(){return o.isFunction(a.callback)?a.callback.call(this):!0},g.dialog(a)},g.confirm=function(){var a;if(a=f("confirm",["cancel","confirm"],["message","callback"],arguments),a.buttons.cancel.callback=a.onEscape=function(){return a.callback.call(this,!1)},a.buttons.confirm.callback=function(){return a.callback.call(this,!0)},!o.isFunction(a.callback))throw new Error("confirm requires a callback");return g.dialog(a)},g.prompt=function(){var a,e,n,t,r,l,f;if(t=o(h.form),e={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},a=d(s(e,arguments,["title","callback"]),["cancel","confirm"]),l=a.show===i?!0:a.show,a.message=t,a.buttons.cancel.callback=a.onEscape=function(){return a.callback.call(this,null)},a.buttons.confirm.callback=function(){var i;switch(a.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=r.val();break;case"checkbox":var e=r.find("input:checked");i=[],c(e,function(a,e){i.push(o(e).val())})}return a.callback.call(this,i)},a.show=!1,!a.title)throw new Error("prompt requires a title");if(!o.isFunction(a.callback))throw new Error("prompt requires a callback");if(!h.inputs[a.inputType])throw new Error("invalid prompt type");switch(r=o(h.inputs[a.inputType]),a.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":r.val(a.value);break;case"select":var u={};if(f=a.inputOptions||[],!o.isArray(f))throw new Error("Please pass an array of input options");if(!f.length)throw new Error("prompt with select requires options");c(f,function(a,e){var n=r;if(e.value===i||e.text===i)throw new Error("given options in wrong format");e.group&&(u[e.group]||(u[e.group]=o("<optgroup/>").attr("label",e.group)),n=u[e.group]),n.append("<option value='"+e.value+"'>"+e.text+"</option>")}),c(u,function(a,o){r.append(o)}),r.val(a.value);break;case"checkbox":var m=o.isArray(a.value)?a.value:[a.value];if(f=a.inputOptions||[],!f.length)throw new Error("prompt with checkbox requires options");if(!f[0].value||!f[0].text)throw new Error("given options in wrong format");r=o("<div/>"),c(f,function(i,e){var n=o(h.inputs[a.inputType]);n.find("input").attr("value",e.value),n.find("label").append(e.text),c(m,function(a,o){o===e.value&&n.find("input").prop("checked",!0)}),r.append(n)})}return a.placeholder&&r.attr("placeholder",a.placeholder),a.pattern&&r.attr("pattern",a.pattern),a.maxlength&&r.attr("maxlength",a.maxlength),t.append(r),t.on("submit",function(a){a.preventDefault(),a.stopPropagation(),n.find(".btn-primary").click()}),n=g.dialog(a),n.off("shown.bs.modal"),n.on("shown.bs.modal",function(){r.focus()}),l===!0&&n.modal("show"),n},g.dialog=function(a){a=r(a);var e=o(h.dialog),t=e.find(".modal-dialog"),l=e.find(".modal-body"),s=a.buttons,f="",p={onEscape:a.onEscape};if(o.fn.modal===i)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(c(s,function(a,o){f+="<button data-bb-handler='"+a+"' type='button' class='btn "+o.className+"'>"+o.label+"</button>",p[a]=o.callback}),l.find(".bootbox-body").html(a.message),a.id&&e.attr("id",a.id),a.animate===!0&&e.addClass("fade"),a.owner&&e.attr("data-owner",a.owner),a.className&&e.addClass(a.className),a.width&&(a.size=a.width),a.size&&t.addClass(a.size),a.color!=i&&""!=a.color&&t.addClass("modal-"+a.color),a.title&&l.before(h.header),a.closeButton){var d=o(h.closeButton);a.title?e.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(l)}return a.title&&e.find(".modal-title").html(a.icon?'<i class="'+a.icon+'"></i> '+a.title:a.title),f.length&&(l.after(h.footer),e.find(".modal-footer").html(f)),e.on("hidden.bs.modal",function(a){a.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),"static"!==a.backdrop&&e.on("click.dismiss.bs.modal",function(a){e.children(".modal-backdrop").length&&(a.currentTarget=e.children(".modal-backdrop").get(0)),a.target===a.currentTarget&&e.trigger("escape.close.bb")}),""!=a.id&&e.attr("id",a.id),e.on("escape.close.bb",function(a){p.onEscape&&n(a,e,p.onEscape)}),e.on("click",".modal-footer button",function(a){var i=o(this).data("bb-handler");n(a,e,p[i])}),e.on("click",".bootbox-close-button",function(a){n(a,e,p.onEscape)}),e.on("keyup",function(a){27===a.which&&e.trigger("escape.close.bb")}),o(a.container).append(e),e.modal({backdrop:a.backdrop?"static":!1,keyboard:!1,show:!1}),a.show&&e.modal("show"),e},g.setDefaults=function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0],o.extend(u,a)},g.hideAll=function(){return o(".bootbox").modal("hide"),g};var m={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return g.addLocale=function(a,i){return o.each(["OK","CANCEL","CONFIRM"],function(a,o){if(!i[o])throw new Error("Please supply a translation for '"+o+"'")}),m[a]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},g},g.removeLocale=function(a){return delete m[a],g},g.setLocale=function(a){return g.setDefaults("locale",a)},g.init=function(i){return a(i||o)},g});
!function(a){a.fn.cuSpinner=function(o){var i=a.extend({icon:"svg-rmcommon-spinner-06",type:"spin",hide:"cu-icon",steps:12,speed:3},o);i.type="spin"!=i.type&&"pulse"!=i.type?"spin":i.type;"pulse"==i.type?"animation: cu-spin 1s infinite steps("+i.steps+")":"animation: cu-spin "+2/6*i.speed+"s infinite linear;";return this.each(function(){var o=a(this),e=cuHandler.getIcon(i.icon);e||(e=cuHandler.getIcon("svg-rmcommon-spinner-06"));var n=a(this).find(".cu-spinner");if(n.length>0)return a(n).remove(),a(this).find(".cu-spinner-hide").removeClass("cu-spinner-hide").show(),!0;var t=a("<span />",{"class":"cu-icon cu-spinner"});return t.load(e,function(){var e=a(o).find("."+i.hide);e.length>0?(e.addClass("cu-spinner-hide").hide(),a(e[0]).after(t)):a(o).prepend(t)}),!0})}}(jQuery);
!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery")):"function"==typeof define&&define.amd?define("pnotify",["jquery"],a):a(jQuery)}(function(a){var o,i,e={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:a("body")},n=a(window),t=function(){i=a("body"),PNotify.prototype.options.stack.context=i,n=a(window),n.bind("resize",function(){o&&clearTimeout(o),o=setTimeout(function(){PNotify.positionAll(!0)},10)})};return PNotify=function(a){this.parseOptions(a),this.init()},a.extend(PNotify.prototype,{version:"2.1.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:e},modules:{},runModules:function(a,o){var i;for(var e in this.modules)i="object"==typeof o&&e in o?o[e]:o,"function"==typeof this.modules[e][a]&&this.modules[e][a](this,"object"==typeof this.options[e]?this.options[e]:{},i)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var o=this;if(this.modules={},a.extend(!0,this.modules,PNotify.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=PNotify.styling[this.options.styling],this.elem=a("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive",mouseenter:function(a){if(o.options.mouse_reset&&"out"===o.animating){if(!o.timerHide)return;o.cancelRemove()}o.options.hide&&o.options.mouse_reset&&o.cancelRemove()},mouseleave:function(a){o.options.hide&&o.options.mouse_reset&&"out"!==o.animating&&o.queueRemove(),PNotify.positionAll()}}),this.container=a("<div />",{"class":"alert "+this.options.type,role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),this.options.icon!==!1)if("string"==typeof this.options.icon){var i=a("<div />",{"class":"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,i),i.prependTo(this.container)}else a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.title_container=a("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),this.options.title===!1?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=a("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container),this.options.text===!1?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?PNotify.notices=a.merge([this],PNotify.notices):PNotify.notices=a.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(o){var i=this.options;if(this.parseOptions(i,o),this.options.cornerclass!==i.cornerclass&&this.container.removeClass("ui-corner-all "+i.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==i.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),this.options.addclass===!1?this.elem.removeClass(i.addclass):this.options.addclass!==i.addclass&&this.elem.removeClass(i.addclass).addClass(this.options.addclass),this.options.title===!1?this.title_container.slideUp("fast"):this.options.title!==i.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),i.title===!1&&this.title_container.slideDown(200)),this.options.text===!1?this.text_container.slideUp("fast"):this.options.text!==i.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),i.text===!1&&this.text_container.slideDown(200)),this.options.type!==i.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type),(this.options.icon!==i.icon||this.options.icon===!0&&this.options.type!==i.type)&&(this.container.find("div.ui-pnotify-icon").remove(),this.options.icon!==!1))if("string"==typeof this.options.icon){var e=a("<div />",{"class":"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,e),e.prependTo(this.container)}else a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.options.min_height!==i.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==i.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?i.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",i),this},open:function(){this.state="opening",this.runModules("beforeOpen");var a=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:i),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn(function(){a.queuePosition(!0),a.options.hide&&a.queueRemove(),a.state="open",a.runModules("afterOpen")}),this},remove:function(o){this.state="closing",this.timerHide=!!o,this.runModules("beforeClose");var i=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(i.state="closed",i.runModules("afterClose"),i.queuePosition(!0),i.options.remove&&i.elem.detach(),i.runModules("beforeDestroy"),i.options.destroy&&null!==PNotify.notices){var o=a.inArray(i,PNotify.notices);-1!==o&&PNotify.notices.splice(o,1)}i.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(o,i){this.options=a.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;for(var e,n=[o,i],t=0;t<n.length&&(e=n[t],"undefined"!=typeof e);t++)if("object"!=typeof e)this.options.text=e;else for(var c in e)this.modules[c]?a.extend(!0,this.options[c],e[c]):this.options[c]=e[c]},animateIn:function(a){this.animating="in";var o;o="undefined"!=typeof this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation,"none"===o?(this.elem.show(),a()):"show"===o?this.elem.show(this.options.animate_speed,a):"fade"===o?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,a):"slide"===o?this.elem.slideDown(this.options.animate_speed,a):"function"==typeof o?o("in",a,this.elem):this.elem.show(o,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,a),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==o&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(a){this.animating="out";var o;o="undefined"!=typeof this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation,"none"===o?(this.elem.hide(),a()):"show"===o?this.elem.hide(this.options.animate_speed,a):"fade"===o?this.elem.fadeOut(this.options.animate_speed,a):"slide"===o?this.elem.slideUp(this.options.animate_speed,a):"function"==typeof o?o("out",a,this.elem):this.elem.hide(o,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,a),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==o&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(a){var o=this.options.stack,e=this.elem;if(e.parent().hasClass("ui-effects-wrapper")&&(e=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),"undefined"==typeof o.context&&(o.context=i),o){"number"!=typeof o.nextpos1&&(o.nextpos1=o.firstpos1),"number"!=typeof o.nextpos2&&(o.nextpos2=o.firstpos2),"number"!=typeof o.addpos2&&(o.addpos2=0);var t="none"===e.css("display");if(!t||a){var c,r,l,s={};switch(o.dir1){case"down":l="top";break;case"up":l="bottom";break;case"left":l="right";break;case"right":l="left"}c=parseInt(e.css(l).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(c)&&(c=0),"undefined"!=typeof o.firstpos1||t||(o.firstpos1=c,o.nextpos1=o.firstpos1);var f;switch(o.dir2){case"down":f="top";break;case"up":f="bottom";break;case"left":f="right";break;case"right":f="left"}if(r=parseInt(e.css(f).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(r)&&(r=0),"undefined"!=typeof o.firstpos2||t||(o.firstpos2=r,o.nextpos2=o.firstpos2),("down"===o.dir1&&o.nextpos1+e.height()>(o.context.is(i)?n.height():o.context.prop("scrollHeight"))||"up"===o.dir1&&o.nextpos1+e.height()>(o.context.is(i)?n.height():o.context.prop("scrollHeight"))||"left"===o.dir1&&o.nextpos1+e.width()>(o.context.is(i)?n.width():o.context.prop("scrollWidth"))||"right"===o.dir1&&o.nextpos1+e.width()>(o.context.is(i)?n.width():o.context.prop("scrollWidth")))&&(o.nextpos1=o.firstpos1,o.nextpos2+=o.addpos2+("undefined"==typeof o.spacing2?25:o.spacing2),o.addpos2=0),o.animation&&o.nextpos2<r)switch(o.dir2){case"down":s.top=o.nextpos2+"px";break;case"up":s.bottom=o.nextpos2+"px";break;case"left":s.right=o.nextpos2+"px";break;case"right":s.left=o.nextpos2+"px"}else"number"==typeof o.nextpos2&&e.css(f,o.nextpos2+"px");switch(o.dir2){case"down":case"up":e.outerHeight(!0)>o.addpos2&&(o.addpos2=e.height());break;case"left":case"right":e.outerWidth(!0)>o.addpos2&&(o.addpos2=e.width())}if("number"==typeof o.nextpos1)if(o.animation&&(c>o.nextpos1||s.top||s.bottom||s.right||s.left))switch(o.dir1){case"down":s.top=o.nextpos1+"px";break;case"up":s.bottom=o.nextpos1+"px";break;case"left":s.right=o.nextpos1+"px";break;case"right":s.left=o.nextpos1+"px"}else e.css(l,o.nextpos1+"px");switch((s.top||s.bottom||s.right||s.left)&&e.animate(s,{duration:this.options.position_animate_speed,queue:!1}),o.dir1){case"down":case"up":o.nextpos1+=e.height()+("undefined"==typeof o.spacing1?25:o.spacing1);break;case"left":case"right":o.nextpos1+=e.width()+("undefined"==typeof o.spacing1?25:o.spacing1)}}return this}},queuePosition:function(a,i){return o&&clearTimeout(o),i||(i=10),o=setTimeout(function(){PNotify.positionAll(a)},i),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var a=this;return this.cancelRemove(),this.timer=window.setTimeout(function(){a.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),a.extend(PNotify,{notices:[],removeAll:function(){a.each(PNotify.notices,function(){this.remove&&this.remove(!1)})},positionAll:function(i){if(o&&clearTimeout(o),o=null,PNotify.notices&&PNotify.notices.length)a.each(PNotify.notices,function(){var a=this.options.stack;a&&(a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=i)}),a.each(PNotify.notices,function(){this.position()});else{var e=PNotify.prototype.options.stack;e&&(delete e.nextpos1,delete e.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=a.extend({},PNotify.styling.bootstrap3),a.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?t():a(t),PNotify}),function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],a):a(jQuery,PNotify)}(function(a,o){o.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick"}},o.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(o,i){var e=this;this.myOptions=i,o.elem.on({mouseenter:function(a){!e.myOptions.sticker||o.options.nonblock&&o.options.nonblock.nonblock&&!e.myOptions.show_on_nonblock||e.sticker.trigger("pnotify_icon").css("visibility","visible"),!e.myOptions.closer||o.options.nonblock&&o.options.nonblock.nonblock&&!e.myOptions.show_on_nonblock||e.closer.css("visibility","visible")},mouseleave:function(a){e.myOptions.sticker_hover&&e.sticker.css("visibility","hidden"),e.myOptions.closer_hover&&e.closer.css("visibility","hidden")}}),this.sticker=a("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:i.sticker_hover?"hidden":"visible"},click:function(){o.options.hide=!o.options.hide,o.options.hide?o.queueRemove():o.cancelRemove(),a(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){a(this).children().removeClass(o.styles.pin_up+" "+o.styles.pin_down).addClass(o.options.hide?o.styles.pin_up:o.styles.pin_down),a(this).children().load(cuHandler.url("/modules/rmcommon/icons/"+(o.options.hide?"pause.svg":"play.svg")))}).append(a("<span />",{"class":o.styles.pin_up,title:i.labels.stick}).load(cuHandler.url("/modules/rmcommon/icons/pause.svg"))).prependTo(o.container),(!i.sticker||o.options.nonblock&&o.options.nonblock.nonblock&&!i.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=a("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:i.closer_hover?"hidden":"visible"},click:function(){o.remove(!1),e.sticker.css("visibility","hidden"),e.closer.css("visibility","hidden")}}).append(a("<span />",{"class":o.styles.closer,title:i.labels.close}).load(cuHandler.url("/modules/rmcommon/icons/close.svg"))).prependTo(o.container),(!i.closer||o.options.nonblock&&o.options.nonblock.nonblock&&!i.show_on_nonblock)&&this.closer.css("display","none")},update:function(a,o){this.myOptions=o,!o.closer||a.options.nonblock&&a.options.nonblock.nonblock&&!o.show_on_nonblock?this.closer.css("display","none"):o.closer&&this.closer.css("display","block"),!o.sticker||a.options.nonblock&&a.options.nonblock.nonblock&&!o.show_on_nonblock?this.sticker.css("display","none"):o.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify_icon"),o.sticker_hover?this.sticker.css("visibility","hidden"):a.options.nonblock&&a.options.nonblock.nonblock&&!o.show_on_nonblock||this.sticker.css("visibility","visible"),o.closer_hover?this.closer.css("visibility","hidden"):a.options.nonblock&&a.options.nonblock.nonblock&&!o.show_on_nonblock||this.closer.css("visibility","visible")}},a.extend(o.styling.brighttheme,{closer:"cu-icon",pin_up:"cu-icon",pin_down:"cu-icon"}),a.extend(o.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),a.extend(o.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),a.extend(o.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),a.extend(o.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})}),function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],a):a(jQuery,PNotify)}(function(a,o){var i=o.prototype.init,e=o.prototype.open,n=o.prototype.remove;o.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),i.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},o.prototype.open=function(){var a;this.options.before_open&&(a=this.options.before_open(this)),a!==!1&&(e.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},o.prototype.remove=function(a){var o;this.options.before_close&&(o=this.options.before_close(this,a)),o!==!1&&(n.apply(this,arguments),this.options.after_close&&this.options.after_close(this,a))}}),function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],a):a(jQuery,PNotify)}(function(a,o){o.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(a,o){a.remove(),a.get().trigger("pnotify.confirm",[a,o])}},{text:"Cancel",addClass:"",click:function(a){a.remove(),a.get().trigger("pnotify.cancel",a)}}]},o.prototype.modules.confirm={container:null,prompt:null,init:function(o,i){this.container=a('<div style="margin-top:5px;clear:both;" />').css("text-align",i.align).appendTo(o.container),i.confirm||i.prompt?this.makeDialog(o,i):this.container.hide()},update:function(a,o){o.confirm?(this.makeDialog(a,o),this.container.show()):this.container.hide().empty()},afterOpen:function(a,o){o.prompt&&this.prompt.focus()},makeDialog:function(o,i){var e,n,t=!1,c=this;this.container.empty(),i.prompt&&(this.prompt=a("<"+(i.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass(o.styles.input+" "+i.prompt_class).val(i.prompt_default).appendTo(this.container));for(var r in i.buttons)e=i.buttons[r],t?this.container.append(" "):t=!0,n=a('<button type="button" />').addClass(o.styles.btn+" "+e.addClass).text(e.text).appendTo(this.container).on("click",function(a){return function(){"function"==typeof a.click&&a.click(o,i.prompt?c.prompt.val():null)}}(e)),i.prompt&&!i.prompt_multi_line&&e.promptTrigger&&this.prompt.keypress(function(a){return function(o){13==o.keyCode&&a.click()}}(n)),o.styles.text&&n.wrapInner('<span class="'+o.styles.text+'"></span>'),o.styles.btnhover&&n.hover(function(a){return function(){a.addClass(o.styles.btnhover)}}(n),function(a){return function(){a.removeClass(o.styles.btnhover)}}(n)),o.styles.btnactive&&n.on("mousedown",function(a){return function(){a.addClass(o.styles.btnactive)}}(n)).on("mouseup",function(a){return function(){a.removeClass(o.styles.btnactive)}}(n)),o.styles.btnfocus&&n.on("focus",function(a){return function(){a.addClass(o.styles.btnfocus)}}(n)).on("blur",function(a){return function(){a.removeClass(o.styles.btnfocus)}}(n))}},a.extend(o.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"}),a.extend(o.styling.bootstrap2,{btn:"btn",input:""}),a.extend(o.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),a.extend(o.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})}),function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],a):a(jQuery,PNotify)}(function(a,o){var i,e=function(a,o){return(e="Notification"in window?function(a,o){return new Notification(a,o)}:"mozNotification"in navigator?function(a,o){return navigator.mozNotification.createNotification(a,o.body,o.icon).show()}:"webkitNotifications"in window?function(a,o){return window.webkitNotifications.createNotification(o.icon,a,o.body)}:function(a,o){return null})(a,o)};o.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null},o.prototype.modules.desktop={tag:null,icon:null,genNotice:function(a,o){null===o.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+a.options.type+".png":o.icon===!1?this.icon=null:this.icon=o.icon,(null===this.tag||null!==o.tag)&&(this.tag=null===o.tag?"PNotify-"+Math.round(1e6*Math.random()):o.tag),a.desktop=e(a.options.title,{icon:this.icon,body:a.options.text,tag:this.tag}),!("close"in a.desktop)&&"cancel"in a.desktop&&(a.desktop.close=function(){a.desktop.cancel()}),a.desktop.onclick=function(){a.elem.trigger("click")},a.desktop.onclose=function(){"closing"!==a.state&&"closed"!==a.state&&a.remove()}},init:function(a,e){return e.desktop?(i=o.desktop.checkPermission(),0!==i?void(e.fallback||(a.options.auto_display=!1)):void this.genNotice(a,e)):void 0},update:function(a,o,e){0!==i&&o.fallback||!o.desktop||this.genNotice(a,o)},beforeOpen:function(a,o){0!==i&&o.fallback||!o.desktop||a.elem.css({left:"-10000px",display:"none"})},afterOpen:function(a,o){0!==i&&o.fallback||!o.desktop||(a.elem.css({left:"-10000px",display:"none"}),"show"in a.desktop&&a.desktop.show())},beforeClose:function(a,o){0!==i&&o.fallback||!o.desktop||a.elem.css({left:"-10000px",display:"none"})},afterClose:function(a,o){0!==i&&o.fallback||!o.desktop||(a.elem.css({left:"-10000px",display:"none"}),"close"in a.desktop&&a.desktop.close())}},o.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},i=o.desktop.checkPermission()}),function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],a):a(jQuery,PNotify)}(function(a,o){var i,e=/^on/,n=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,t=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,c=/^(scroll|resize|(un)?load|abort|error)$/,r=function(o,i){var r;if(o=o.toLowerCase(),document.createEvent&&this.dispatchEvent){if(o=o.replace(e,""),o.match(n)?(a(this).offset(),r=document.createEvent("MouseEvents"),r.initMouseEvent(o,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)):o.match(t)?(r=document.createEvent("UIEvents"),r.initUIEvent(o,i.bubbles,i.cancelable,i.view,i.detail)):o.match(c)&&(r=document.createEvent("HTMLEvents"),r.initEvent(o,i.bubbles,i.cancelable)),!r)return;this.dispatchEvent(r)}else o.match(e)||(o="on"+o),r=document.createEventObject(i),this.fireEvent(o,r)},l=function(o,e,n){o.elem.css("display","none");var t=document.elementFromPoint(e.clientX,e.clientY);o.elem.css("display","block");var c=a(t),l=c.css("cursor");"auto"===l&&"A"===t.tagName&&(l="pointer"),o.elem.css("cursor","auto"!==l?l:"default"),i&&i.get(0)==t||(i&&(r.call(i.get(0),"mouseleave",e.originalEvent),r.call(i.get(0),"mouseout",e.originalEvent)),r.call(t,"mouseenter",e.originalEvent),r.call(t,"mouseover",e.originalEvent)),r.call(t,n,e.originalEvent),i=c};o.prototype.options.nonblock={nonblock:!1,nonblock_opacity:.2},o.prototype.modules.nonblock={myOptions:null,init:function(a,o){var e=this;this.myOptions=o,a.elem.on({mouseenter:function(o){e.myOptions.nonblock&&o.stopPropagation(),e.myOptions.nonblock&&a.elem.stop().animate({opacity:e.myOptions.nonblock_opacity},"fast")},mouseleave:function(o){e.myOptions.nonblock&&o.stopPropagation(),i=null,a.elem.css("cursor","auto"),e.myOptions.nonblock&&"out"!==a.animating&&a.elem.stop().animate({opacity:a.options.opacity},"fast")},mouseover:function(a){e.myOptions.nonblock&&a.stopPropagation()},mouseout:function(a){e.myOptions.nonblock&&a.stopPropagation()},mousemove:function(o){e.myOptions.nonblock&&(o.stopPropagation(),l(a,o,"onmousemove"))},mousedown:function(o){e.myOptions.nonblock&&(o.stopPropagation(),o.preventDefault(),l(a,o,"onmousedown"))},mouseup:function(o){e.myOptions.nonblock&&(o.stopPropagation(),o.preventDefault(),l(a,o,"onmouseup"))},click:function(o){e.myOptions.nonblock&&(o.stopPropagation(),l(a,o,"onclick"))},dblclick:function(o){e.myOptions.nonblock&&(o.stopPropagation(),l(a,o,"ondblclick"))}})},update:function(a,o){this.myOptions=o}}});
var cuHandler={ismobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),currentResponse:!1,loadRemoteDialog:function(launcher){var url=void 0!=$(launcher).attr("href")&&"#"!=$(launcher).attr("href")?$(launcher).attr("href"):$(launcher).data("url"),handler=$(launcher).data("handler"),window_id=$(launcher).data("window-id"),params={CUTOKEN_REQUEST:$("#cu-token").val()};return 0==params?!1:(cuHandler.showLoader(),$.get(url,params,function(response){return cuHandler.retrieveAjax(response)?(void 0==handler&&""!=handler?(cuHandler.closeLoader(),cuHandler.modal.dialog({message:response.content,title:response.message,icon:void 0!=response.icon?response.icon:"",width:void 0!=response.width?response.width:"",id:void 0!=response.id?response.id:window_id,animate:!1,color:void 0!=response.color?response.color:"",closeButton:void 0!=response.closeButton?response.closeButton:!0})):(cuHandler.closeLoader(),eval(handler+"(response, launcher);")),$(".cu-data-table").each(function(){cuHandler.createDataTable($(this))}),cuHandler.checkAjaxAction(response),!1):!1},"json"),!1)},submitAjaxForm:function(a){if(!$(a).valid())return!1;cuHandler.showLoader();var o=a.serialize();o+="&CUTOKEN_REQUEST="+$("#cu-token").val();var i=a.attr("action"),e=a.attr("method");return"post"==e?$.post(i,o,cuHandler.retrieveAjax,"json"):$.get(i,o,cuHandler.retrieveAjax,"json"),!1},requestAjax:function(a,o){return $(a).cuSpinner({icon:"svg-rmcommon-spinner-14"}),void 0==o?!1:void 0==o.url?!1:(void 0==o.parameters&&(o.parameters={}),o.parameters.CUTOKEN_REQUEST=$("#cu-token").val(),void(void 0==o.method||"post"==o.method?$.post(o.url,o.parameters,cuHandler.retrieveAjax,"json"):$.get(o.url,o.parameters,cuHandler.retrieveAjax,"json")))},isDisabled:function(a){return $(a).hasClass("disabled")||void 0!=$(a).attr("disabled")?!0:!1},retrieveAjax:function(a,o){return o=void 0==o?!0:o,this.currentResponse=a,"error"==a.type&&(void 0!=a.modal_message?bootbox.alert({message:a.message}):void 0!=a.notify&&void 0!=a.message?(cuHandler.notify({title:void 0==a.notify.title?"":a.notify.title,type:void 0==a.notify.type?"alert-info":a.notify.type,icon:void 0==a.notify.icon?"svg-rmcommon-info-solid":a.notify.icon,text:a.message}),a.notify=void 0):o&&alert(a.message)),void 0!=a.token&&""!=a.token&&$("#cu-token").val(a.token),cuHandler.closeLoader(),cuHandler.checkAjaxAction(a),"error"==a.type?!1:!0},checkAjaxAction:function(data){return void 0!=data.showMessage&&alert(data.message),void 0!=data.notify&&void 0!=data.message&&this.notify({title:void 0==data.notify.title?null:data.notify.title,type:void 0==data.notify.type?"alert-info":data.notify.type,icon:void 0==data.notify.icon?"svg-rmcommon-info-solid":data.notify.icon,text:data.message}),void 0!=data.closeWindow&&$(data.closeWindow).modal("hide"),void 0!=data.runHandler&&eval(data.runHandler+"(data)"),void 0!=data["goto"]&&(window.location.href=data["goto"]),void 0!=data["function"]&&eval(data["function"]),void 0!=data.openDialog&&cuHandler.modal.dialog({message:data.content,title:data.message,icon:void 0!=data.icon?data.icon:"",width:void 0!=data.width?data.width:"",owner:void 0!=data.owner?data.owner:"",id:void 0!=data.windowId?data.windowId:"",animate:!1,closeButton:void 0!=data.closeButton?data.closeButton:!0,color:void 0!=data.color?data.color:""}),void 0!=data.reload?void window.location.reload(!0):void 0},showLoader:function(){$(".cu-window-loader").hide(),$(".cu-window-blocker").hide();var a='<div class="cu-window-blocker"></div>';a+='<div class="cu-window-loader"><div class="loader-container text-center"><button class="close" type="button">&times;</button><span><span class="cu-icon cu-spinner" style="animation: cu-spin 1s infinite steps(10)"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><path d="M5.233 2.056C5.23 1.063 6.033.253 7.027.25c.994-.003 1.803.8 1.806 1.794.004.994-.8 1.802-1.794 1.806-1 .003-1.81-.8-1.81-1.794zm3.824 1.568c-.003-.993.8-1.802 1.792-1.806.99-.003 1.8.8 1.8 1.793 0 1-.8 1.81-1.8 1.81-1 .01-1.8-.8-1.81-1.79zm2.495 3.81c-.002-.497.398-.9.896-.903.497 0 .902.4.904.9 0 .5-.402.9-.897.91-.498.01-.902-.39-.903-.89zm-1.57 3.824c-.003-.496.4-.9.895-.903.498 0 .903.4.904.897.01.498-.4.9-.89.904-.49.002-.9-.4-.9-.898zM6.17 12.853c-.002-.496.4-.9.897-.902.497 0 .9.4.903.9.002.5-.4.9-.897.91-.498.01-.902-.4-.903-.89zm-3.824-1.57c-.002-.495.4-.9.897-.902.496 0 .9.4.902.9.002.5-.4.9-.896.91-.5 0-.91-.4-.91-.9zM1.87 3.65c-.003-.746.6-1.352 1.345-1.354.746-.002 1.352.6 1.354 1.345 0 .75-.6 1.36-1.35 1.36-.75.01-1.35-.6-1.36-1.34zM.637 7.472c-.002-.56.45-1.014 1.01-1.016.56-.002 1.013.45 1.015 1.01 0 .56-.45 1.014-1.008 1.016S.64 8.03.638 7.472z"/></svg></span> '+cuLanguage.inProgress+"</span></div></div>",$("body").append(a),$(".cu-window-blocker").fadeIn(0,function(){$(".cu-window-loader").fadeIn(1)})},closeLoader:function(a){$(".cu-window-loader").fadeOut(1,function(){$(".cu-window-blocker").fadeOut(0,function(){$(".cu-window-loader").remove(),$(".cu-window-blocker").remove()})})},getURI:function(a,o,i,e,n){return this.getControllerURI(a,o,i,e,n)},getControllerURI:function(module,controller,action,zone,params){var url=xoUrl;if(void 0!=cu_modules[module]&&void 0!=controller&&""!=controller)url+="backend"==zone?"/admin":"",url+=cu_modules[module]+"/"+controller+"/"+action+"/";else{if(url+="/modules/"+module,url+="backend"==zone?"/admin":"",""==controller||void 0==controller)return url;url+="/index.php/"+controller+"/"+action+"/"}if(void 0==params)return url;var query="";for(key in params)query+=(""==query?"?":"&")+key+"="+eval("params."+key);return url+query},url:function(a,o){var i=window.location.protocol+"//"+window.location.host;""!=window.location.port&&(i+=":"+window.location.port);var e=xoUrl.replace(i,"");return void 0==a?xoUrl:1==arguments.length||1!=o?xoUrl+a:e+a},createDataTable:function(a){if(!a.hasClass("dataTable")){var o=$(a).data("exclude");void 0!=o?o.toString().split(","):"";$(a).dataTable({bProcessing:!0,bServerSide:!0,sAjaxSource:$(a).data("source"),bPaginate:!0})}},runAction:function(e){var action=$(e).data("action");switch(action){case"load-remote-dialog":case"load-module-dialog":cuHandler.loadRemoteDialog(e);break;case"goto":var url=$(e).data("url");void 0==url&&(url=$(e).attr("href"));var retriever=$(e).data("retriever");void 0!=retriever&&(url+=eval(retriever+"(e)")),void 0!=url&&""!=url&&(window.location.href=url);break;case"ajax":var url=""!=$(e).attr("href")?$(e).attr("href"):$(e).data("url");cuHandler.requestAjax(e,{url:url})}},enableCommands:function(id_activator,type){var commands=$("*[data-activator='"+id_activator+"']"),total=$("#"+id_activator+" :"+type+"[data-switch]:checked").length;$(commands).each(function(index){var required=void 0!=$(this).data("oncount")?$(this).data("oncount"):" >= 1";eval("total "+required)?$(this).enable():$(this).disable()})},getIcon:function(a){var o="svg-"==a.slice(0,4),i=!1,e=!1;if(o||(o=".svg"==a.slice(-4),o&&(e=!0)),i=null!=a.match(/^(http:\/\/|ftp:\/\/|https:\/\/\|\/\/)/i),o&&!e){var n=a.split("-");if(n.length<3)return this.url("modules/rmcommon/icons/noicon.svg");var t=a.slice(5+n[1].length),c=this.url("modules/rmcommon/icons/"+t+".svg");if(void 0==iconsProviders)return c;if(iconsProviders.hasOwnProperty(n[1])){var r=iconsProviders[n[1]]+"/"+t+".svg";return r}return c}if(e&&!i)return this.url(a);var l=[".jpg",".gif",".png","jpeg"],s=a.slice(-4);return l.indexOf(s)||i?a:'<span class="'+a+'"></span>'},loadIcon:function(a,o,i){if(arguments.length<1)return!1;i=2==arguments.length?!0:1==arguments.length?!1:i;var e=this.getIcon(a),n=".svg"==e.slice(-4),t="<span"==e.slice(0,5);if(i)var c=o.find(".cu-icon");else var c=$("<span />",{"class":"cu-icon"});if((void 0==c||c.length<=0)&&(i=!1,c=$("<span />",{"class":"cu-icon"})),n)c.html("").load(e);else if(t)c.html("").append(e);else{var r=$("<img>").attr("src",e);c.html("").append(r)}return!i&&arguments.length>1&&$(o).append(c),c},modal:bootbox,notify:function(a){return new PNotify(a)}};Number.prototype.formatMoney=function(a,o,i){var e=this,a=isNaN(a=Math.abs(a))?2:a,o=void 0==o?".":o,i=void 0==i?",":i,n=0>e?"-":"",t=parseInt(e=Math.abs(+e||0).toFixed(a))+"",c=(c=t.length)>3?c%3:0;return n+(c?t.substr(0,c)+i:"")+t.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+i)+(a?o+Math.abs(e-t).toFixed(a).slice(2):"")},jQuery.fn.enable=function(){this.each(function(){jQuery(this).removeAttr("disabled"),jQuery(this).removeClass("disabled")})},jQuery.fn.disable=function(){this.each(function(){jQuery(this).attr("disabled",!0),jQuery(this).addClass("disabled")})},$(document).ready(function(){var a="";if($("body").on("click","*[data-action]",function(a){return $(this).is(":disabled")||$(this).attr("disabled")||$(this).hasClass("disabled")?($(a).stopPropagation(),!1):(cuHandler.runAction($(this)),!1)}),$("body").on("submit",'form[data-type="ajax"]',function(){return cuHandler.submitAjaxForm($(this)),!1}),$("body").on("submit",'form[data-type="no-submit"]',function(){return!1}),$("body").on("click",".cu-window-loader .close",function(){cuHandler.closeLoader()}),$(".cu-data-table").each(function(){cuHandler.createDataTable($(this))}),$("*[data-rel='tooltip']").tooltip(),$("body").on("change",".activator-container :checkbox[data-switch], .activator-container :radio[data-switch]",function(){event.stopPropagation();var a=$(this).parents(".activator-container").attr("id");cuHandler.enableCommands(a,$(this).attr("type")),"radio"==$(this).attr("type")&&$(this).parents(".activator-container").find(".tr-checked").removeClass("tr-checked"),$(this).is(":checked")?$(this).parents("tr").addClass("tr-checked"):$(this).parents("tr").removeClass("tr-checked")}),$("body").on("click",".activator-container > tbody > tr",function(a){if("DIV"==a.target.tagName||"TD"==a.target.tagName){var o=$(this).find("input[data-switch]");"radio"==$(o).attr("type")&&$(this).parents(".activator-container").find(".tr-checked").removeClass("tr-checked"),o.is(":checked")?o.removeAttr("checked"):o.prop("checked","checked"),cuHandler.enableCommands($(this).parents(".activator-container").attr("id"),o.attr("type")),$(o).is(":checked")?$(this).addClass("tr-checked"):$(this).removeClass("tr-checked"),event.stopPropagation()}}),$("body").on("change",":checkbox[data-checkbox]",function(){var a=$(this).data("checkbox");if(void 0!=a){$(":checkbox[data-oncheck='"+a+"']").prop("checked",$(this).prop("checked")).change();var o=$(this).parents(".activator-container");o.length>0&&cuHandler.enableCommands(o.attr("id"),"checkbox")}}),$("body").on("change",":checkbox",function(){if(!this.hasAttribute("data-checkbox")&&this.hasAttribute("data-oncheck")){var a=$(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']"),o=$(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']:checked"),i=$(":checkbox[data-checkbox='"+$(this).data("oncheck")+"']");o.length<a.length?$(i).removeAttr("checked"):o.length==a.length&&$(i).prop("checked","checked")}}),1==$("*[data-news='load']").length||$("*[data-boxes='load']").length>0){var o=$("*[data-news='load']");if(o.length<=0&&(o=$("*[data-boxes='load']")),o.length<=0)return!1;var e=o.data("module"),n=$(o.data("target"));void 0!=n&&n.html('<div class="text-success"><span class="fa fa-spinner fa-pulse"></span> '+cuLanguage.downloadNews+"</div>");var t=$("*[data-boxes='load']"),c={module:e,CU_TOKEN:$("#cu-token").val()};$.get(xoUrl+"/modules/rmcommon/ajax/module-info.php",c,function(a){if("error"==a.type)return void n.html('<div class="text-danger"><span class="fa fa-exclamation-triangle"></span> '+cuLanguage.downloadNewsError+"</div>");if(void 0!=a.news&&void 0!=n){for(news=$("<ul>").addClass("cu-ajax-news list-unstyled"),i=0;i<a.news.length;i++){var o="<li><small>"+a.news[i].date+'</small><h5><a href="'+a.news[i].link+'" target="_blank">'+a.news[i].title+"</a></h5>";o+='<p class="help-block">'+a.news[i].content+"</p></li>",news.append(o)}n.html("").append(news),news.fadeIn("fast",function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")})}if(void 0!=a.boxes&&void 0!=t)for(i=0;i<a.boxes.length;i++){if(void 0==a.boxes[i].size||a.boxes[i].size<=0)var e=1;else e=a.boxes[i].size;var c=$('<div data-dashboard="item">').addClass("size-"+e).css("display","none");if(c.append('<div class="cu-box '+a.boxes[i]["class"]+'"><div class="box-header"><span class="fa fa-caret-up box-handler"></span><h3 class="box-title">'+a.boxes[i].title+'</h3></div><div class="box-content">'+a.boxes[i].content+"</div></div>"),void 0!=a.boxes[i].container){var r=$(a.boxes[i].container);r.length>0&&$(r).each(function(){var o=c.clone();"top"==a.boxes[i].position?$(this).prepend(o):$(this).append(o),o.fadeIn("fast",function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")})})}}},"json")}$("body").on("click",".ed-container .full-screen",function(){$(this).parents(".ed-container").addClass("full-screen-edit"),$(this).removeClass("full-screen").addClass("normal-screen"),a=$(this).parents(".ed-container").find(".txtarea-container").attr("style"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",""),$("body").css("overflow","hidden")}),$("body").on("click",".ed-container .normal-screen",function(){$(this).parents(".ed-container").removeClass("full-screen-edit"),$(this).addClass("full-screen").removeClass("normal-screen"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",a),a="",$("body").css("overflow","visible")}),$(".cu-notifications form .notification-item").change(function(){var a=$(this).data("event"),o=$(this).is(":checked")?1:0,i=$(this),e={event:a,status:o,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",e,function(a){return"error"==a.type?void alert(a.message):void $(i).parent().parent().animate({backgroundColor:"#ffff99"},500,"linear",function(){$(this).animate({backgroundColor:"transparent"},500,"linear")})},"json")}),$(" #cu-notifications .cancel-subscription").click(function(){var a=$(this).data("info"),o=0,i=$(this),e={event:a,status:o,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",e,function(a){return"error"==a.type?void alert(a.message):void $(i).parent().parent().slideUp(250,function(){$(this).remove()})},"json")})});
