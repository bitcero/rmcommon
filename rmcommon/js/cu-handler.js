!function(e,p){"use strict";"function"==typeof define&&define.amd?define(["jquery"],p):"object"==typeof exports?module.exports=p(require("jquery")):e.bootbox=p(e.jQuery)}(this,function e(p,o){"use strict";function t(e){var p=m[l.locale];return p?p[e]:m.en[e]}function r(e,o,t){e.stopPropagation(),e.preventDefault();var r=p.isFunction(t)&&t.call(o,e)===!1;r||o.modal("hide")}function n(e){var p,o=0;for(p in e)o++;return o}function a(e,o){var t=0;p.each(e,function(e,p){o(e,p,t++)})}function s(e){var o,t;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=p.extend({},l,e),e.buttons||(e.buttons={}),o=e.buttons,t=n(o),a(o,function(e,r,n){if(p.isFunction(r)&&(r=o[e]={callback:r}),"object"!==p.type(r))throw new Error("button with key "+e+" must be an object");r.label||(r.label=e),r.className||(2>=t&&n===t-1?r.className="btn-primary":r.className="btn-default")}),e}function i(e,p){var o=e.length,t={};if(1>o||o>2)throw new Error("Invalid argument length");return 2===o||"string"==typeof e[0]?(t[p[0]]=e[0],t[p[1]]=e[1]):t=e[0],t}function u(e,o,t){return p.extend(!0,{},e,i(o,t))}function c(e,p,o,t){var r={className:"bootbox-"+e,buttons:h.apply(null,p)};return d(u(r,t,o),p)}function h(){for(var e={},p=0,o=arguments.length;o>p;p++){var r=arguments[p],n=r.toLowerCase(),a=r.toUpperCase();e[n]={label:t(a)}}return e}function d(e,p){var t={};return a(p,function(e,p){t[p]=!0}),a(e.buttons,function(e){if(t[e]===o)throw new Error("button key "+e+" is not allowed (options are "+p.join("\n")+")")}),e}var f={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},l={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body",id:""},v={};v.alert=function(){var e;if(e=c("alert",["ok"],["message","callback"],arguments),e.callback&&!p.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return p.isFunction(e.callback)?e.callback.call(this):!0},v.dialog(e)},v.confirm=function(){var e;if(e=c("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},!p.isFunction(e.callback))throw new Error("confirm requires a callback");return v.dialog(e)},v.prompt=function(){var e,t,r,n,s,i,c;if(n=p(f.form),t={className:"bootbox-prompt",buttons:h("cancel","confirm"),value:"",inputType:"text"},e=d(u(t,arguments,["title","callback"]),["cancel","confirm"]),i=e.show===o?!0:e.show,e.message=n,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var o;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":o=s.val();break;case"checkbox":var t=s.find("input:checked");o=[],a(t,function(e,t){o.push(p(t).val())})}return e.callback.call(this,o)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!p.isFunction(e.callback))throw new Error("prompt requires a callback");if(!f.inputs[e.inputType])throw new Error("invalid prompt type");switch(s=p(f.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":s.val(e.value);break;case"select":var l={};if(c=e.inputOptions||[],!p.isArray(c))throw new Error("Please pass an array of input options");if(!c.length)throw new Error("prompt with select requires options");a(c,function(e,t){var r=s;if(t.value===o||t.text===o)throw new Error("given options in wrong format");t.group&&(l[t.group]||(l[t.group]=p("<optgroup/>").attr("label",t.group)),r=l[t.group]),r.append("<option value='"+t.value+"'>"+t.text+"</option>")}),a(l,function(e,p){s.append(p)}),s.val(e.value);break;case"checkbox":var m=p.isArray(e.value)?e.value:[e.value];if(c=e.inputOptions||[],!c.length)throw new Error("prompt with checkbox requires options");if(!c[0].value||!c[0].text)throw new Error("given options in wrong format");s=p("<div/>"),a(c,function(o,t){var r=p(f.inputs[e.inputType]);r.find("input").attr("value",t.value),r.find("label").append(t.text),a(m,function(e,p){p===t.value&&r.find("input").prop("checked",!0)}),s.append(r)})}return e.placeholder&&s.attr("placeholder",e.placeholder),e.pattern&&s.attr("pattern",e.pattern),e.maxlength&&s.attr("maxlength",e.maxlength),n.append(s),n.on("submit",function(e){e.preventDefault(),e.stopPropagation(),r.find(".btn-primary").click()}),r=v.dialog(e),r.off("shown.bs.modal"),r.on("shown.bs.modal",function(){s.focus()}),i===!0&&r.modal("show"),r},v.dialog=function(e){e=s(e);var t=p(f.dialog),n=t.find(".modal-dialog"),i=t.find(".modal-body"),u=e.buttons,c="",h={onEscape:e.onEscape};if(p.fn.modal===o)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(a(u,function(e,p){c+="<button data-bb-handler='"+e+"' type='button' class='btn "+p.className+"'>"+p.label+"</button>",h[e]=p.callback}),i.find(".bootbox-body").html(e.message),e.id&&t.attr("id",e.id),e.animate===!0&&t.addClass("fade"),e.owner&&t.attr("data-owner",e.owner),e.className&&t.addClass(e.className),e.width&&(e.size=e.width),e.size&&n.addClass(e.size),e.color!=o&&""!=e.color&&n.addClass("modal-"+e.color),e.title&&i.before(f.header),e.solid&&t.addClass("modal-solid"),e.closeButton){var d=p(f.closeButton);e.title?t.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(i)}return e.title&&(e.icon?t.find(".modal-title").html('<i class="'+e.icon+'"></i> '+e.title):t.find(".modal-title").html(e.title)),c.length&&(i.after(f.footer),t.find(".modal-footer").html(c)),t.on("hidden.bs.modal",function(e){e.target===this&&t.remove()}),t.on("shown.bs.modal",function(){t.find(".btn-primary:first").focus()}),"static"!==e.backdrop&&t.on("click.dismiss.bs.modal",function(e){t.children(".modal-backdrop").length&&(e.currentTarget=t.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&t.trigger("escape.close.bb")}),""!=e.id&&t.attr("id",e.id),t.on("escape.close.bb",function(e){h.onEscape&&r(e,t,h.onEscape)}),t.on("click",".modal-footer button",function(e){var o=p(this).data("bb-handler");r(e,t,h[o])}),t.on("click",".bootbox-close-button",function(e){r(e,t,h.onEscape)}),t.on("keyup",function(e){27===e.which&&t.trigger("escape.close.bb")}),p(e.container).append(t),t.modal({backdrop:e.backdrop?"static":!1,keyboard:!1,show:!1}),e.show&&t.modal("show"),t},v.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],p.extend(l,e)},v.hideAll=function(){return p(".bootbox").modal("hide"),v};var m={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return v.addLocale=function(e,o){return p.each(["OK","CANCEL","CONFIRM"],function(e,p){if(!o[p])throw new Error("Please supply a translation for '"+p+"'")}),m[e]={OK:o.OK,CANCEL:o.CANCEL,CONFIRM:o.CONFIRM},v},v.removeLocale=function(e){return delete m[e],v},v.setLocale=function(e){return v.setDefaults("locale",e)},v.init=function(o){return e(o||p)},v});
!function(e){e.fn.cuSpinner=function(p){var o=e.extend({icon:"svg-rmcommon-spinner-06",type:"spin",hide:"cu-icon",steps:12,speed:3},p);o.type="spin"!=o.type&&"pulse"!=o.type?"spin":o.type;"pulse"==o.type?"animation: cu-spin 1s infinite steps("+o.steps+")":"animation: cu-spin "+2/6*o.speed+"s infinite linear;";return this.each(function(){var p=e(this),t=cuHandler.getIcon(o.icon);t||(t=cuHandler.getIcon("svg-rmcommon-spinner-06"));var r=e(this).find(".cu-spinner");if(r.length>0)return e(r).remove(),e(this).find(".cu-spinner-hide").removeClass("cu-spinner-hide").show(),!0;var n=e("<span />",{"class":"cu-icon cu-spinner"});return n.load(t,function(){var t=e(p).find("."+o.hide);t.length>0?(t.addClass("cu-spinner-hide").hide(),e(t[0]).after(n)):e(p).prepend(n)}),!0})}}(jQuery);
!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("pnotify",["jquery"],e):e(jQuery)}(function(e){var o,t,n={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:e("body")},p=e(window),i=function(){t=e("body"),PNotify.prototype.options.stack.context=t,p=e(window),p.bind("resize",function(){o&&clearTimeout(o),o=setTimeout(function(){PNotify.positionAll(!0)},10)})};return PNotify=function(e){this.parseOptions(e),this.init()},e.extend(PNotify.prototype,{version:"2.1.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:n},modules:{},runModules:function(e,o){var t;for(var n in this.modules)t="object"==typeof o&&n in o?o[n]:o,"function"==typeof this.modules[n][e]&&this.modules[n][e](this,"object"==typeof this.options[n]?this.options[n]:{},t)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var o=this;if(this.modules={},e.extend(!0,this.modules,PNotify.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=PNotify.styling[this.options.styling],this.elem=e("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive",mouseenter:function(){if(o.options.mouse_reset&&"out"===o.animating){if(!o.timerHide)return;o.cancelRemove()}o.options.hide&&o.options.mouse_reset&&o.cancelRemove()},mouseleave:function(){o.options.hide&&o.options.mouse_reset&&"out"!==o.animating&&o.queueRemove(),PNotify.positionAll()}}),this.container=e("<div />",{"class":"alert "+this.options.type,role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),this.options.icon!==!1)if("string"==typeof this.options.icon){var t=e("<div />",{"class":"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,t),t.prependTo(this.container)}else e("<div />",{"class":"ui-pnotify-icon"}).append(e("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.title_container=e("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container),this.options.title===!1?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=e("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container),this.options.text===!1?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?PNotify.notices=e.merge([this],PNotify.notices):PNotify.notices=e.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(o){var t=this.options;if(this.parseOptions(t,o),this.options.cornerclass!==t.cornerclass&&this.container.removeClass("ui-corner-all "+t.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==t.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),this.options.addclass===!1?this.elem.removeClass(t.addclass):this.options.addclass!==t.addclass&&this.elem.removeClass(t.addclass).addClass(this.options.addclass),this.options.title===!1?this.title_container.slideUp("fast"):this.options.title!==t.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),t.title===!1&&this.title_container.slideDown(200)),this.options.text===!1?this.text_container.slideUp("fast"):this.options.text!==t.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),t.text===!1&&this.text_container.slideDown(200)),this.options.type!==t.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type),(this.options.icon!==t.icon||this.options.icon===!0&&this.options.type!==t.type)&&(this.container.find("div.ui-pnotify-icon").remove(),this.options.icon!==!1))if("string"==typeof this.options.icon){var n=e("<div />",{"class":"ui-pnotify-icon"});cuHandler.loadIcon(this.options.icon,n),n.prependTo(this.container)}else e("<div />",{"class":"ui-pnotify-icon"}).append(e("<span />",{"class":this.options.icon===!0?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container);return this.options.min_height!==t.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==t.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?t.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",t),this},open:function(){this.state="opening",this.runModules("beforeOpen");var e=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:t),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn(function(){e.queuePosition(!0),e.options.hide&&e.queueRemove(),e.state="open",e.runModules("afterOpen")}),this},remove:function(o){this.state="closing",this.timerHide=!!o,this.runModules("beforeClose");var t=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(t.state="closed",t.runModules("afterClose"),t.queuePosition(!0),t.options.remove&&t.elem.detach(),t.runModules("beforeDestroy"),t.options.destroy&&null!==PNotify.notices){var o=e.inArray(t,PNotify.notices);-1!==o&&PNotify.notices.splice(o,1)}t.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(o,t){this.options=e.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;for(var n,p=[o,t],i=0;i<p.length&&(n=p[i],"undefined"!=typeof n);i++)if("object"!=typeof n)this.options.text=n;else for(var s in n)this.modules[s]?e.extend(!0,this.options[s],n[s]):this.options[s]=n[s]},animateIn:function(e){this.animating="in";var o;o="undefined"!=typeof this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation,"none"===o?(this.elem.show(),e()):"show"===o?this.elem.show(this.options.animate_speed,e):"fade"===o?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,e):"slide"===o?this.elem.slideDown(this.options.animate_speed,e):"function"==typeof o?o("in",e,this.elem):this.elem.show(o,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,e),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==o&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(e){this.animating="out";var o;o="undefined"!=typeof this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation,"none"===o?(this.elem.hide(),e()):"show"===o?this.elem.hide(this.options.animate_speed,e):"fade"===o?this.elem.fadeOut(this.options.animate_speed,e):"slide"===o?this.elem.slideUp(this.options.animate_speed,e):"function"==typeof o?o("out",e,this.elem):this.elem.hide(o,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,e),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==o&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(e){var o=this.options.stack,n=this.elem;if(n.parent().hasClass("ui-effects-wrapper")&&(n=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),"undefined"==typeof o.context&&(o.context=t),o){"number"!=typeof o.nextpos1&&(o.nextpos1=o.firstpos1),"number"!=typeof o.nextpos2&&(o.nextpos2=o.firstpos2),"number"!=typeof o.addpos2&&(o.addpos2=0);var i="none"===n.css("display");if(!i||e){var s,r,a,u={};switch(o.dir1){case"down":a="top";break;case"up":a="bottom";break;case"left":a="right";break;case"right":a="left"}s=parseInt(n.css(a).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(s)&&(s=0),"undefined"!=typeof o.firstpos1||i||(o.firstpos1=s,o.nextpos1=o.firstpos1);var c;switch(o.dir2){case"down":c="top";break;case"up":c="bottom";break;case"left":c="right";break;case"right":c="left"}if(r=parseInt(n.css(c).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(r)&&(r=0),"undefined"!=typeof o.firstpos2||i||(o.firstpos2=r,o.nextpos2=o.firstpos2),("down"===o.dir1&&o.nextpos1+n.height()>(o.context.is(t)?p.height():o.context.prop("scrollHeight"))||"up"===o.dir1&&o.nextpos1+n.height()>(o.context.is(t)?p.height():o.context.prop("scrollHeight"))||"left"===o.dir1&&o.nextpos1+n.width()>(o.context.is(t)?p.width():o.context.prop("scrollWidth"))||"right"===o.dir1&&o.nextpos1+n.width()>(o.context.is(t)?p.width():o.context.prop("scrollWidth")))&&(o.nextpos1=o.firstpos1,o.nextpos2+=o.addpos2+("undefined"==typeof o.spacing2?25:o.spacing2),o.addpos2=0),o.animation&&o.nextpos2<r)switch(o.dir2){case"down":u.top=o.nextpos2+"px";break;case"up":u.bottom=o.nextpos2+"px";break;case"left":u.right=o.nextpos2+"px";break;case"right":u.left=o.nextpos2+"px"}else"number"==typeof o.nextpos2&&n.css(c,o.nextpos2+"px");switch(o.dir2){case"down":case"up":n.outerHeight(!0)>o.addpos2&&(o.addpos2=n.height());break;case"left":case"right":n.outerWidth(!0)>o.addpos2&&(o.addpos2=n.width())}if("number"==typeof o.nextpos1)if(o.animation&&(s>o.nextpos1||u.top||u.bottom||u.right||u.left))switch(o.dir1){case"down":u.top=o.nextpos1+"px";break;case"up":u.bottom=o.nextpos1+"px";break;case"left":u.right=o.nextpos1+"px";break;case"right":u.left=o.nextpos1+"px"}else n.css(a,o.nextpos1+"px");switch((u.top||u.bottom||u.right||u.left)&&n.animate(u,{duration:this.options.position_animate_speed,queue:!1}),o.dir1){case"down":case"up":o.nextpos1+=n.height()+("undefined"==typeof o.spacing1?25:o.spacing1);break;case"left":case"right":o.nextpos1+=n.width()+("undefined"==typeof o.spacing1?25:o.spacing1)}}return this}},queuePosition:function(e,t){return o&&clearTimeout(o),t||(t=10),o=setTimeout(function(){PNotify.positionAll(e)},t),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var e=this;return this.cancelRemove(),this.timer=window.setTimeout(function(){e.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),e.extend(PNotify,{notices:[],removeAll:function(){e.each(PNotify.notices,function(){this.remove&&this.remove(!1)})},positionAll:function(t){if(o&&clearTimeout(o),o=null,PNotify.notices&&PNotify.notices.length)e.each(PNotify.notices,function(){var e=this.options.stack;e&&(e.nextpos1=e.firstpos1,e.nextpos2=e.firstpos2,e.addpos2=0,e.animation=t)}),e.each(PNotify.notices,function(){this.position()});else{var n=PNotify.prototype.options.stack;n&&(delete n.nextpos1,delete n.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=e.extend({},PNotify.styling.bootstrap3),e.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?i():e(i),PNotify}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,o){o.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick"}},o.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(o,t){var n=this;this.myOptions=t,o.elem.on({mouseenter:function(){!n.myOptions.sticker||o.options.nonblock&&o.options.nonblock.nonblock&&!n.myOptions.show_on_nonblock||n.sticker.trigger("pnotify_icon").css("visibility","visible"),!n.myOptions.closer||o.options.nonblock&&o.options.nonblock.nonblock&&!n.myOptions.show_on_nonblock||n.closer.css("visibility","visible")},mouseleave:function(){n.myOptions.sticker_hover&&n.sticker.css("visibility","hidden"),n.myOptions.closer_hover&&n.closer.css("visibility","hidden")}}),this.sticker=e("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:t.sticker_hover?"hidden":"visible"},click:function(){o.options.hide=!o.options.hide,o.options.hide?o.queueRemove():o.cancelRemove(),e(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){e(this).children().removeClass(o.styles.pin_up+" "+o.styles.pin_down).addClass(o.options.hide?o.styles.pin_up:o.styles.pin_down),e(this).children().load(cuHandler.url("/modules/rmcommon/icons/"+(o.options.hide?"pause.svg":"play.svg")))}).append(e("<span />",{"class":o.styles.pin_up,title:t.labels.stick}).load(cuHandler.url("/modules/rmcommon/icons/pause.svg"))).prependTo(o.container),(!t.sticker||o.options.nonblock&&o.options.nonblock.nonblock&&!t.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=e("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:t.closer_hover?"hidden":"visible"},click:function(){o.remove(!1),n.sticker.css("visibility","hidden"),n.closer.css("visibility","hidden")}}).append(e("<span />",{"class":o.styles.closer,title:t.labels.close}).load(cuHandler.url("/modules/rmcommon/icons/close.svg"))).prependTo(o.container),(!t.closer||o.options.nonblock&&o.options.nonblock.nonblock&&!t.show_on_nonblock)&&this.closer.css("display","none")},update:function(e,o){this.myOptions=o,!o.closer||e.options.nonblock&&e.options.nonblock.nonblock&&!o.show_on_nonblock?this.closer.css("display","none"):o.closer&&this.closer.css("display","block"),!o.sticker||e.options.nonblock&&e.options.nonblock.nonblock&&!o.show_on_nonblock?this.sticker.css("display","none"):o.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify_icon"),o.sticker_hover?this.sticker.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!o.show_on_nonblock||this.sticker.css("visibility","visible"),o.closer_hover?this.closer.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock&&!o.show_on_nonblock||this.closer.css("visibility","visible")}},e.extend(o.styling.brighttheme,{closer:"cu-icon",pin_up:"cu-icon",pin_down:"cu-icon"}),e.extend(o.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),e.extend(o.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),e.extend(o.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),e.extend(o.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,o){var t=o.prototype.init,n=o.prototype.open,p=o.prototype.remove;o.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),t.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},o.prototype.open=function(){var e;this.options.before_open&&(e=this.options.before_open(this)),e!==!1&&(n.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},o.prototype.remove=function(e){var o;this.options.before_close&&(o=this.options.before_close(this,e)),o!==!1&&(p.apply(this,arguments),this.options.after_close&&this.options.after_close(this,e))}}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,o){o.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(e,o){e.remove(),e.get().trigger("pnotify.confirm",[e,o])}},{text:"Cancel",addClass:"",click:function(e){e.remove(),e.get().trigger("pnotify.cancel",e)}}]},o.prototype.modules.confirm={container:null,prompt:null,init:function(o,t){this.container=e('<div style="margin-top:5px;clear:both;" />').css("text-align",t.align).appendTo(o.container),t.confirm||t.prompt?this.makeDialog(o,t):this.container.hide()},update:function(e,o){o.confirm?(this.makeDialog(e,o),this.container.show()):this.container.hide().empty()},afterOpen:function(e,o){o.prompt&&this.prompt.focus()},makeDialog:function(o,t){var n,p,i=!1,s=this;this.container.empty(),t.prompt&&(this.prompt=e("<"+(t.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass(o.styles.input+" "+t.prompt_class).val(t.prompt_default).appendTo(this.container));for(var r in t.buttons)n=t.buttons[r],i?this.container.append(" "):i=!0,p=e('<button type="button" />').addClass(o.styles.btn+" "+n.addClass).text(n.text).appendTo(this.container).on("click",function(e){return function(){"function"==typeof e.click&&e.click(o,t.prompt?s.prompt.val():null)}}(n)),t.prompt&&!t.prompt_multi_line&&n.promptTrigger&&this.prompt.keypress(function(e){return function(o){13==o.keyCode&&e.click()}}(p)),o.styles.text&&p.wrapInner('<span class="'+o.styles.text+'"></span>'),o.styles.btnhover&&p.hover(function(e){return function(){e.addClass(o.styles.btnhover)}}(p),function(e){return function(){e.removeClass(o.styles.btnhover)}}(p)),o.styles.btnactive&&p.on("mousedown",function(e){return function(){e.addClass(o.styles.btnactive)}}(p)).on("mouseup",function(e){return function(){e.removeClass(o.styles.btnactive)}}(p)),o.styles.btnfocus&&p.on("focus",function(e){return function(){e.addClass(o.styles.btnfocus)}}(p)).on("blur",function(e){return function(){e.removeClass(o.styles.btnfocus)}}(p))}},e.extend(o.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"}),e.extend(o.styling.bootstrap2,{btn:"btn",input:""}),e.extend(o.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),e.extend(o.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,o){var t,n=function(e,o){return(n="Notification"in window?function(e,o){return new Notification(e,o)}:"mozNotification"in navigator?function(e,o){return navigator.mozNotification.createNotification(e,o.body,o.icon).show()}:"webkitNotifications"in window?function(e,o){return window.webkitNotifications.createNotification(o.icon,e,o.body)}:function(){return null})(e,o)};o.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null},o.prototype.modules.desktop={tag:null,icon:null,genNotice:function(e,o){null===o.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+e.options.type+".png":o.icon===!1?this.icon=null:this.icon=o.icon,(null===this.tag||null!==o.tag)&&(this.tag=null===o.tag?"PNotify-"+Math.round(1e6*Math.random()):o.tag),e.desktop=n(e.options.title,{icon:this.icon,body:e.options.text,tag:this.tag}),!("close"in e.desktop)&&"cancel"in e.desktop&&(e.desktop.close=function(){e.desktop.cancel()}),e.desktop.onclick=function(){e.elem.trigger("click")},e.desktop.onclose=function(){"closing"!==e.state&&"closed"!==e.state&&e.remove()}},init:function(e,n){return n.desktop?(t=o.desktop.checkPermission(),0!==t?void(n.fallback||(e.options.auto_display=!1)):void this.genNotice(e,n)):void 0},update:function(e,o){0!==t&&o.fallback||!o.desktop||this.genNotice(e,o)},beforeOpen:function(e,o){0!==t&&o.fallback||!o.desktop||e.elem.css({left:"-10000px",display:"none"})},afterOpen:function(e,o){0!==t&&o.fallback||!o.desktop||(e.elem.css({left:"-10000px",display:"none"}),"show"in e.desktop&&e.desktop.show())},beforeClose:function(e,o){0!==t&&o.fallback||!o.desktop||e.elem.css({left:"-10000px",display:"none"})},afterClose:function(e,o){0!==t&&o.fallback||!o.desktop||(e.elem.css({left:"-10000px",display:"none"}),"close"in e.desktop&&e.desktop.close())}},o.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},t=o.desktop.checkPermission()}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("pnotify")):"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,o){var t,n=/^on/,p=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,i=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,s=/^(scroll|resize|(un)?load|abort|error)$/,r=function(o,t){var r;if(o=o.toLowerCase(),document.createEvent&&this.dispatchEvent){if(o=o.replace(n,""),o.match(p)?(e(this).offset(),r=document.createEvent("MouseEvents"),r.initMouseEvent(o,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)):o.match(i)?(r=document.createEvent("UIEvents"),r.initUIEvent(o,t.bubbles,t.cancelable,t.view,t.detail)):o.match(s)&&(r=document.createEvent("HTMLEvents"),r.initEvent(o,t.bubbles,t.cancelable)),!r)return;this.dispatchEvent(r)}else o.match(n)||(o="on"+o),r=document.createEventObject(t),this.fireEvent(o,r)},a=function(o,n,p){o.elem.css("display","none");var i=document.elementFromPoint(n.clientX,n.clientY);o.elem.css("display","block");var s=e(i),a=s.css("cursor");"auto"===a&&"A"===i.tagName&&(a="pointer"),o.elem.css("cursor","auto"!==a?a:"default"),t&&t.get(0)==i||(t&&(r.call(t.get(0),"mouseleave",n.originalEvent),r.call(t.get(0),"mouseout",n.originalEvent)),r.call(i,"mouseenter",n.originalEvent),r.call(i,"mouseover",n.originalEvent)),r.call(i,p,n.originalEvent),t=s};o.prototype.options.nonblock={nonblock:!1,nonblock_opacity:.2},o.prototype.modules.nonblock={myOptions:null,init:function(e,o){var n=this;this.myOptions=o,e.elem.on({mouseenter:function(o){n.myOptions.nonblock&&o.stopPropagation(),n.myOptions.nonblock&&e.elem.stop().animate({opacity:n.myOptions.nonblock_opacity},"fast")},mouseleave:function(o){n.myOptions.nonblock&&o.stopPropagation(),t=null,e.elem.css("cursor","auto"),n.myOptions.nonblock&&"out"!==e.animating&&e.elem.stop().animate({opacity:e.options.opacity},"fast")},mouseover:function(e){n.myOptions.nonblock&&e.stopPropagation()},mouseout:function(e){n.myOptions.nonblock&&e.stopPropagation()},mousemove:function(o){n.myOptions.nonblock&&(o.stopPropagation(),a(e,o,"onmousemove"))},mousedown:function(o){n.myOptions.nonblock&&(o.stopPropagation(),o.preventDefault(),a(e,o,"onmousedown"))},mouseup:function(o){n.myOptions.nonblock&&(o.stopPropagation(),o.preventDefault(),a(e,o,"onmouseup"))},click:function(o){n.myOptions.nonblock&&(o.stopPropagation(),a(e,o,"onclick"))},dblclick:function(o){n.myOptions.nonblock&&(o.stopPropagation(),a(e,o,"ondblclick"))}})},update:function(e,o){this.myOptions=o}}});
var cuHandler={ismobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),currentResponse:!1,loadRemoteDialog:function(launcher){var url=void 0!=$(launcher).attr("href")&&"#"!=$(launcher).attr("href")?$(launcher).attr("href"):$(launcher).data("url"),handler=$(launcher).data("handler"),window_id=$(launcher).data("window-id"),params={CUTOKEN_REQUEST:$("#cu-token").val()};return 0==params?!1:(cuHandler.showLoader(),$.get(url,params,function(response){return cuHandler.retrieveAjax(response)?(void 0==handler&&""!=handler?(cuHandler.closeLoader(),cuHandler.modal.dialog({message:response.content,title:response.message,icon:void 0!=response.icon?response.icon:"",width:void 0!=response.width?response.width:"",id:void 0!=response.id?response.id:window_id,animate:!1,color:void 0!=response.color?response.color:"",closeButton:void 0!=response.closeButton?response.closeButton:!0,solid:void 0!=response.solid?!0:!1})):(cuHandler.closeLoader(),eval(handler+"(response, launcher);")),$(".cu-data-table").each(function(){cuHandler.createDataTable($(this))}),cuHandler.checkAjaxAction(response),!1):!1},"json"),!1)},submitAjaxForm:function(e){if(!$(e).valid())return!1;cuHandler.showLoader();var o=e.serialize();o+="&CUTOKEN_REQUEST="+$("#cu-token").val();var t=e.attr("action"),n=e.attr("method");return"post"==n?$.post(t,o,cuHandler.retrieveAjax,"json"):$.get(t,o,cuHandler.retrieveAjax,"json"),!1},requestAjax:function(e,o){return $(e).cuSpinner({icon:"svg-rmcommon-spinner-14"}),void 0==o?!1:void 0==o.url?!1:(void 0==o.parameters&&(o.parameters={}),o.parameters.CUTOKEN_REQUEST=$("#cu-token").val(),void(void 0==o.method||"post"==o.method?$.post(o.url,o.parameters,cuHandler.retrieveAjax,"json"):$.get(o.url,o.parameters,cuHandler.retrieveAjax,"json")))},isDisabled:function(e){return $(e).hasClass("disabled")||void 0!=$(e).attr("disabled")?!0:!1},retrieveAjax:function(e,o){return o=void 0==o?!0:o,this.currentResponse=e,"error"==e.type&&(void 0!=e.modal_message?bootbox.alert({message:e.message}):void 0!=e.notify&&void 0!=e.message?(cuHandler.notify({title:void 0==e.notify.title?"":e.notify.title,type:void 0==e.notify.type?"alert-info":e.notify.type,icon:void 0==e.notify.icon?"svg-rmcommon-info-solid":e.notify.icon,text:e.message}),e.notify=void 0):o&&alert(e.message)),void 0!=e.token&&""!=e.token&&$("#cu-token").val(e.token),cuHandler.closeLoader(),cuHandler.checkAjaxAction(e),"error"==e.type?!1:!0},checkAjaxAction:function(data){return void 0!=data.showMessage&&alert(data.message),void 0!=data.notify&&void 0!=data.message&&this.notify({title:void 0==data.notify.title?null:data.notify.title,type:void 0==data.notify.type?"alert-info":data.notify.type,icon:void 0==data.notify.icon?"svg-rmcommon-info-solid":data.notify.icon,text:data.message}),void 0!=data.closeWindow&&$(data.closeWindow).modal("hide"),void 0!=data.runHandler&&eval(data.runHandler+"(data)"),void 0!=data["goto"]&&(window.location.href=data["goto"]),void 0!=data["function"]&&eval(data["function"]),void 0!=data.openDialog&&cuHandler.modal.dialog({message:data.content,title:data.message,icon:void 0!=data.icon?data.icon:"",width:void 0!=data.width?data.width:"",owner:void 0!=data.owner?data.owner:"",id:void 0!=data.windowId?data.windowId:"",animate:!1,closeButton:void 0!=data.closeButton?data.closeButton:!0,color:void 0!=data.color?data.color:"",solid:void 0!=data.solid?!0:!1}),void 0!=data.dynamicTable&&$(data.dynamicTable.table).dynamicTable(data.dynamicTable.action,{}),void 0!=data.reload?void window.location.reload(!0):void 0},showLoader:function(){$(".cu-window-loader").hide(),$(".cu-window-blocker").hide();var e='<div class="cu-window-blocker"></div>';e+='<div class="cu-window-loader"><div class="loader-container text-center"><button class="close" type="button">&times;</button><span><span class="cu-icon cu-spinner" style="animation: cu-spin 1s infinite steps(10)"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><path d="M5.233 2.056C5.23 1.063 6.033.253 7.027.25c.994-.003 1.803.8 1.806 1.794.004.994-.8 1.802-1.794 1.806-1 .003-1.81-.8-1.81-1.794zm3.824 1.568c-.003-.993.8-1.802 1.792-1.806.99-.003 1.8.8 1.8 1.793 0 1-.8 1.81-1.8 1.81-1 .01-1.8-.8-1.81-1.79zm2.495 3.81c-.002-.497.398-.9.896-.903.497 0 .902.4.904.9 0 .5-.402.9-.897.91-.498.01-.902-.39-.903-.89zm-1.57 3.824c-.003-.496.4-.9.895-.903.498 0 .903.4.904.897.01.498-.4.9-.89.904-.49.002-.9-.4-.9-.898zM6.17 12.853c-.002-.496.4-.9.897-.902.497 0 .9.4.903.9.002.5-.4.9-.897.91-.498.01-.902-.4-.903-.89zm-3.824-1.57c-.002-.495.4-.9.897-.902.496 0 .9.4.902.9.002.5-.4.9-.896.91-.5 0-.91-.4-.91-.9zM1.87 3.65c-.003-.746.6-1.352 1.345-1.354.746-.002 1.352.6 1.354 1.345 0 .75-.6 1.36-1.35 1.36-.75.01-1.35-.6-1.36-1.34zM.637 7.472c-.002-.56.45-1.014 1.01-1.016.56-.002 1.013.45 1.015 1.01 0 .56-.45 1.014-1.008 1.016S.64 8.03.638 7.472z"/></svg></span> '+cuLanguage.inProgress+"</span></div></div>",$("body").append(e),$(".cu-window-blocker").fadeIn(0,function(){$(".cu-window-loader").fadeIn(1)})},closeLoader:function(e){$(".cu-window-loader").fadeOut(1,function(){$(".cu-window-blocker").fadeOut(0,function(){$(".cu-window-loader").remove(),$(".cu-window-blocker").remove()})})},getURI:function(e,o,t,n,p){return this.getControllerURI(e,o,t,n,p)},getControllerURI:function(module,controller,action,zone,params){var url=xoUrl;if(void 0!=cu_modules[module]&&void 0!=controller&&""!=controller)url+="backend"==zone?"/admin":"",url+=cu_modules[module]+"/"+controller+"/"+action+"/";else{if(url+="/modules/"+module,url+="backend"==zone?"/admin":"",""==controller||void 0==controller)return url;url+="/index.php/"+controller+"/"+action+"/"}if(void 0==params)return url;var query="";for(key in params)query+=(""==query?"?":"&")+key+"="+eval("params."+key);return url+query},url:function(e,o){var t=window.location.protocol+"//"+window.location.host;""!=window.location.port&&(t+=":"+window.location.port);var n=xoUrl.replace(t,"");return void 0==e?xoUrl:1==arguments.length||1!=o?xoUrl+e:n+e},createDataTable:function(e){if(!e.hasClass("dataTable")){var o=$(e).data("exclude");void 0!=o?o.toString().split(","):"";$(e).dataTable({bProcessing:!0,bServerSide:!0,sAjaxSource:$(e).data("source"),bPaginate:!0})}},runAction:function(e){var action=$(e).data("action");switch(action){case"load-remote-dialog":case"load-module-dialog":cuHandler.loadRemoteDialog(e);break;case"goto":var url=$(e).data("url");void 0==url&&(url=$(e).attr("href"));var retriever=$(e).data("retriever");void 0!=retriever&&(url+=eval(retriever+"(e)")),void 0!=url&&""!=url&&(window.location.href=url);break;case"ajax":var url=""!=$(e).attr("href")?$(e).attr("href"):$(e).data("url");cuHandler.requestAjax(e,{url:url});default:if(""==action)return;var parts=action.split(".");if(parts.length<1)return;if(1==parts.length){if(void 0==window[parts[0]])return;return void window[parts[0]]()}if(2==parts.length){if(void 0==window[parts[0]][parts[1]])return;window[parts[0]][parts[1]]()}if(3==parts.length){if(void 0==window[parts[0]][parts[1]][parts[2]])return;window[parts[0]][parts[1]][parts[2]]()}}},enableCommands:function(id_activator,type){var commands=$("*[data-activator='"+id_activator+"']"),total=$("#"+id_activator+" :"+type+"[data-switch]:checked").length;$(commands).each(function(index){var required=void 0!=$(this).data("oncount")?$(this).data("oncount"):" >= 1";eval("total "+required)?$(this).enable():$(this).disable()})},getIcon:function(e){var o="svg-"==e.slice(0,4),t=!1,n=!1;if(o||(o=".svg"==e.slice(-4),o&&(n=!0)),t=null!=e.match(/^(http:\/\/|ftp:\/\/|https:\/\/\|\/\/)/i),o&&!n){var p=e.split("-");if(p.length<3)return this.url("modules/rmcommon/icons/noicon.svg");var i=e.slice(5+p[1].length),r=this.url("modules/rmcommon/icons/"+i+".svg");if(void 0==iconsProviders)return r;if(iconsProviders.hasOwnProperty(p[1])){var s=iconsProviders[p[1]]+"/"+i+".svg";return s}return r}if(n&&!t)return this.url(e);var a=[".jpg",".gif",".png","jpeg"],c=e.slice(-4);return a.indexOf(c)||t?e:'<span class="'+e+'"></span>'},loadIcon:function(e,o,t){if(arguments.length<1)return!1;t=2==arguments.length?!0:1==arguments.length?!1:t;var n=this.getIcon(e),p=".svg"==n.slice(-4),i="<span"==n.slice(0,5);if(t)var r=o.find(".cu-icon");else var r=$("<span />",{"class":"cu-icon"});if((void 0==r||r.length<=0)&&(t=!1,r=$("<span />",{"class":"cu-icon"})),p)r.html("").load(n);else if(i)r.html("").append(n);else{var s=$("<img>").attr("src",n);r.html("").append(s)}return!t&&arguments.length>1&&$(o).append(r),r},modal:bootbox,notify:function(e){return new PNotify(e)}};Number.prototype.formatMoney=function(e,o,t){var n=this,e=isNaN(e=Math.abs(e))?2:e,o=void 0==o?".":o,t=void 0==t?",":t,p=0>n?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(e))+"",r=(r=i.length)>3?r%3:0;return p+(r?i.substr(0,r)+t:"")+i.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+t)+(e?o+Math.abs(n-i).toFixed(e).slice(2):"")},jQuery.fn.enable=function(){this.each(function(){jQuery(this).removeAttr("disabled"),jQuery(this).removeClass("disabled")})},jQuery.fn.disable=function(){this.each(function(){jQuery(this).prop("disabled",!0),jQuery(this).addClass("disabled")})},$(document).ready(function(){var e="";if($("body").on("click","*[data-action]",function(e){return $(this).is(":disabled")||$(this).attr("disabled")||$(this).hasClass("disabled")?($(e).stopPropagation(),!1):(cuHandler.runAction($(this)),!1)}),$("body").on("submit",'form[data-type="ajax"]',function(){return cuHandler.submitAjaxForm($(this)),!1}),$("body").on("submit",'form[data-type="no-submit"]',function(){return!1}),$("body").on("click",".cu-window-loader .close",function(){cuHandler.closeLoader()}),$(".cu-data-table").each(function(){cuHandler.createDataTable($(this))}),$("*[data-rel='tooltip']").tooltip(),$("body").on("change",".activator-container :checkbox[data-switch], .activator-container :radio[data-switch]",function(){event.stopPropagation();var e=$(this).parents(".activator-container").attr("id");cuHandler.enableCommands(e,$(this).attr("type")),"radio"==$(this).attr("type")&&$(this).parents(".activator-container").find(".tr-checked").removeClass("tr-checked"),$(this).is(":checked")?$(this).parents("tr").addClass("tr-checked"):$(this).parents("tr").removeClass("tr-checked")}),$("body").on("click",".activator-container > tbody > tr",function(e){if("DIV"==e.target.tagName||"TD"==e.target.tagName){var o=$(this).find("input[data-switch]");"radio"==$(o).attr("type")&&$(this).parents(".activator-container").find(".tr-checked").removeClass("tr-checked"),o.is(":checked")?o.removeAttr("checked"):o.prop("checked","checked"),cuHandler.enableCommands($(this).parents(".activator-container").attr("id"),o.attr("type")),$(o).is(":checked")?$(this).addClass("tr-checked"):$(this).removeClass("tr-checked"),event.stopPropagation()}}),$("body").on("change",":checkbox[data-checkbox]",function(){var e=$(this).data("checkbox");if(void 0!=e){$(":checkbox[data-oncheck='"+e+"']").prop("checked",$(this).prop("checked")).change();var o=$(this).parents(".activator-container");o.length>0&&cuHandler.enableCommands(o.attr("id"),"checkbox")}}),$("body").on("change",":checkbox",function(){if(!this.hasAttribute("data-checkbox")&&this.hasAttribute("data-oncheck")){var e=($(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']"),$(":checkbox[data-oncheck='"+$(this).data("oncheck")+"']:checked")),o=$(":checkbox[data-checkbox='"+$(this).data("oncheck")+"']");e.length<=0?$(o).removeAttr("checked"):e.length>0&&$(o).prop("checked","checked")}}),1==$("*[data-news='load']").length||$("*[data-boxes='load']").length>0){var o=$("*[data-news='load']");if(o.length<=0&&(o=$("*[data-boxes='load']")),o.length<=0)return!1;var t=o.data("module"),n=$(o.data("target"));void 0!=n&&n.html('<div class="text-success"><span class="fa fa-spinner fa-pulse"></span> '+cuLanguage.downloadNews+"</div>");var p=$("*[data-boxes='load']"),r=$("html").attr("lang");r=void 0==r?"en":r;var s={module:t,CU_TOKEN:$("#cu-token").val(),lang:r};$.get(xoUrl+"/modules/rmcommon/ajax/module-info.php",s,function(e){if("error"==e.type)return void n.html('<div class="text-danger"><span class="fa fa-exclamation-triangle"></span> '+cuLanguage.downloadNewsError+"</div>");if(void 0!=e.news&&void 0!=n){for(news=$("<ul>").addClass("cu-ajax-news list-unstyled"),i=0;i<e.news.length;i++){var o="<li><small>"+e.news[i].date+'</small><h5><a href="'+e.news[i].link+'" target="_blank">'+e.news[i].title+"</a></h5>";o+='<p class="help-block">'+e.news[i].content+"</p></li>",news.append(o)}n.html("").append(news),news.fadeIn("fast",function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")})}if(void 0!=e.boxes&&void 0!=p)for(i=0;i<e.boxes.length;i++){if(void 0==e.boxes[i].size||e.boxes[i].size<=0)var t=1;else t=e.boxes[i].size;var r=$('<div data-dashboard="item">').addClass("size-"+t).css("display","none");if(r.append('<div class="cu-box '+e.boxes[i]["class"]+'"><div class="box-header"><span class="fa fa-caret-up box-handler"></span><h3 class="box-title">'+e.boxes[i].title+'</h3></div><div class="box-content">'+e.boxes[i].content+"</div></div>"),void 0!=e.boxes[i].container){var s=$(e.boxes[i].container);s.length>0&&$(s).each(function(){var o=r.clone();"top"==e.boxes[i].position?$(this).prepend(o):$(this).append(o),o.fadeIn("fast",function(){$('html.dashboard [data-container="dashboard"]').trigger("containerUpdated")})})}}},"json")}$("body").on("click",".ed-container .full-screen",function(){$(this).parents(".ed-container").addClass("full-screen-edit"),$(this).removeClass("full-screen").addClass("normal-screen"),e=$(this).parents(".ed-container").find(".txtarea-container").attr("style"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",""),$("body").css("overflow","hidden")}),$("body").on("click",".ed-container .normal-screen",function(){$(this).parents(".ed-container").removeClass("full-screen-edit"),$(this).addClass("full-screen").removeClass("normal-screen"),$(this).parents(".ed-container").find(".txtarea-container").attr("style",e),e="",$("body").css("overflow","visible")}),$(".cu-notifications form .notification-item").change(function(){var e=$(this).data("event"),o=$(this).is(":checked")?1:0,t=$(this),n={event:e,status:o,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",n,function(e){return"error"==e.type?void alert(e.message):void $(t).parent().parent().animate({backgroundColor:"#ffff99"},500,"linear",function(){$(this).animate({backgroundColor:"transparent"},500,"linear")})},"json")}),$(" #cu-notifications .cancel-subscription").click(function(){var e=$(this).data("info"),o=0,t=$(this),n={event:e,status:o,page:"cu-notification-subscribe"};$.post(xoUrl+"/notifications.php",n,function(e){return"error"==e.type?void alert(e.message):void $(t).parent().parent().slideUp(250,function(){$(this).remove()})},"json")})});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(t,o){this.defaults={url:"",secure:!0,page:1},this.settings=o,this.table=e(t),this.columns=e(t).find("thead > tr >  th").length;var n=this;void 0!=e(n.table).data("url")&&(n.settings.url=e(n.table).data("url"))}function o(t,o){for(var n in o)o.hasOwnProperty(n)&&e(t).attr(n,o[n])}function n(o,n){return this.each(function(){var p=e(this),i=p.data("dyn.table"),r=e.extend({},t.defaults,p.data(),"object"==typeof o&&o);i||p.data("dyn.table",i=new t(p,r)),"string"==typeof o?i[o](n):i.init()})}return t.prototype={init:function(){this.table.addClass("dynamic-table");var t=e(this.table).find("thead th[data-sort]");e(t).each(function(){var t=e(this).html();e(this).html('<button type="button">'+t+"</button>")});var o=this,t=e(t).find("> button");t.bind("click",function(){o.resortColumn(o,e(this))});({CUTOKEN_REQUEST:e("#cu-token").val(),page:this.settings.page});this.render({})},resortColumn:function(t,o){if(void 0==o)return!1;if(void 0==e(o).parent().data("sort"))return!1;var n=e(o).data("direction");n=void 0==n?"ASC":n.toUpperCase(),n=void 0==n||"DESC"==n?"ASC":"DESC";var p={orderBy:e(o).parent().data("sort"),sort:n};t.render(p)},render:function(t){t.CUTOKEN_REQUEST=e("#cu-token").val(),cuHandler.showLoader();var o=this;e.get(this.settings.url,t,function(e){if(!cuHandler.retrieveAjax(e))return!1;if(void 0==e.tableData)return!1;o.clear();var t=0;for(t=0;t<e.tableData.length;t++)o.addRow(e.tableData[t],void 0==e.cellSettings?"":e.cellSettings);o.table.data("order",e.pagination.order),o.table.data("sort",e.pagination.sort),o.setOrderedColumn(o,e.pagination.order,e.pagination.sort)},"json")},setOrderedColumn:function(t,o,n){return void 0==o?!1:(e(t.table).find("thead th[data-sort] > button").removeClass("dtable-sorted"),void e(t.table).find('thead th[data-sort="'+o+'"] > button').addClass("dtable-sorted").attr("data-direction",n.toLowerCase()).data("direction",n.toLowerCase()))},addRow:function(t,n){var p=[];for(var i in t)t.hasOwnProperty(i)&&p.push(i);for(var r=e("<tr/>"),s=0;s<this.columns;s++){var a=e("<td/>").append(t[p[s]]);o(a,n[s]),e(r).append(a)}e(this.table).append(r)},clear:function(){e(this.table).find("tbody > tr").remove()}},e.fn.dynamicTable=n,e.fn.dynamicTable.Constructor=t,e.fn.dynamicTable}),function(e){e("table[data-dtable='dynamic']").dynamicTable()}(jQuery);
/*! JsRender v0.9.78 (Beta): http://jsviews.com/#jsrender */
/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */
!function(e,t){var n=t.jQuery;"object"==typeof exports?module.exports=n?e(t,n):function(n){if(n&&!n.fn)throw"Provide jQuery or null";return e(t,n)}:"function"==typeof define&&define.amd?define(function(){return e(t)}):e(t,!1)}(function(e,t){"use strict";function n(e,t){return function(){var n,r=this,i=r.base;return r.base=e,n=t.apply(r,arguments),r.base=i,n}}function r(e,t){return te(t)&&(t=n(e?e._d?e:n(s,e):s,t),t._d=1),t}function i(e,t){for(var n in t.props)Re.test(n)&&(e[n]=r(e[n],t.props[n]))}function o(e){return e}function s(){return""}function a(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(t){}return this.base?this.baseApply(arguments):e}function d(e){this.name=(t.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function u(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t,n){return e?(de.delimiters=[e,t,ve=n?n.charAt(0):ve],pe=e.charAt(0),ce=e.charAt(1),fe=t.charAt(0),ge=t.charAt(1),e="\\"+pe+"(\\"+ve+")?\\"+ce,t="\\"+fe+"\\"+ge,G="(?:(\\w+(?=[\\/\\s\\"+fe+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+fe+"]|\\"+fe+"(?!\\"+ge+"))*?)",ae.rTag="(?:"+G+")",G=new RegExp("(?:"+e+G+"(\\/)?|\\"+pe+"(\\"+ve+")?\\"+ce+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),W=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t),le):de.delimiters}function p(e,t){t||e===!0||(t=e,e=void 0);var n,r,i,o,s=this,a=!t||"root"===t;if(e){if(o=t&&s.type===t&&s,!o)if(n=s.views,s._.useKey){for(r in n)if(o=t?n[r].get(e,t):n[r])break}else for(r=0,i=n.length;!o&&i>r;r++)o=t?n[r].get(e,t):n[r]}else if(a)for(;s.parent;)o=s,s=s.parent;else for(;s&&!o;)o=s.type===t?s:void 0,s=s.parent;return o}function c(){var e=this.get("item");return e?e.index:void 0}function f(){return this.index}function g(t){var n,r=this,i=r.linkCtx,o=(r.ctx||{})[t];return void 0===o&&i&&i.ctx&&(o=i.ctx[t]),void 0===o&&(o=oe[t]),o&&te(o)&&!o._wrp&&(n=function(){return o.apply(this&&this!==e?this:r,arguments)},n._wrp=r,u(n,o)),n||o}function v(e){return e&&(e.fn?e:this.getRsc("templates",e)||re(e))}function h(e,t,n,r){var o,s,a="number"==typeof n&&t.tmpl.bnds[n-1],d=t.linkCtx;return void 0!==r?n=r={props:{},args:[r]}:a&&(n=a(t.data,t,ae)),s=n.args[0],(e||a)&&(o=d&&d.tag,o||(o=u(new ae._tg,{_:{inline:!d,bnd:a,unlinked:!0},tagName:":",cvt:e,flow:!0,tagCtx:n}),d&&(d.tag=o,o.linkCtx=d),n.ctx=L(n.ctx,(d?d.view:t).ctx)),o._er=r&&s,i(o,n),n.view=t,o.ctx=n.ctx||o.ctx||{},n.ctx=void 0,s=o.cvtArgs("true"!==e&&e)[0],s=a&&t._.onRender?t._.onRender(s,t,o):s),void 0!=s?s:""}function m(e){var t=this,n=t.tagCtx,r=n.view,i=n.args;return e=e||t.convert,e=e&&(""+e===e?r.getRsc("converters",e)||S("Unknown converter: '"+e+"'"):e),i=i.length||n.index?e?i.slice():i:[r.data],e&&(e.depends&&(t.depends=ae.getDeps(t.depends,t,e.depends,e)),i[0]=e.apply(t,i)),i}function w(e,t){for(var n,r,i=this;void 0===n&&i;)r=i.tmpl&&i.tmpl[e],n=r&&r[t],i=i.parent;return n||Y[e][t]}function x(e,t,n,r,o,s){t=t||X;var a,d,u,l,p,c,f,g,v,h,m,w,x,b,_,y,k,j,C,A="",T=t.linkCtx||0,V=t.ctx,R=n||t.tmpl,M="number"==typeof r&&t.tmpl.bnds[r-1];for("tag"===e._is?(a=e,e=a.tagName,r=a.tagCtxs,u=a.template):(d=t.getRsc("tags",e)||S("Unknown tag: {{"+e+"}} "),u=d.template),void 0!==s?(A+=s,r=s=[{props:{},args:[]}]):M&&(r=M(t.data,t,ae)),g=r.length,f=0;g>f;f++)h=r[f],(!T||!T.tag||f&&!T.tag._.inline||a._er)&&((w=R.tmpls&&h.tmpl)&&(w=h.content=R.tmpls[w-1]),h.index=f,h.tmpl=w,h.render=N,h.view=t,h.ctx=L(h.ctx,V)),(n=h.props.tmpl)&&(h.tmpl=t.getTmpl(n)),a||(a=new d._ctr,x=!!a.init,a.parent=c=V&&V.tag,a.tagCtxs=r,C=a.dataMap,T&&(a._.inline=!1,T.tag=a,a.linkCtx=T),(a._.bnd=M||T.fn)?a._.arrVws={}:a.dataBoundOnly&&S("{^{"+e+"}} tag must be data-bound")),r=a.tagCtxs,C=a.dataMap,h.tag=a,C&&r&&(h.map=r[f].map),a.flow||(m=h.ctx=h.ctx||{},l=a.parents=m.parentTags=V&&L(m.parentTags,V.parentTags)||{},c&&(l[c.tagName]=c),l[a.tagName]=m.tag=a);if(!(a._er=s)){for(i(a,r[0]),a.rendering={},f=0;g>f;f++)h=a.tagCtx=r[f],k=h.props,y=a.cvtArgs(),(b=k.dataMap||C)&&(y.length||k.dataMap)&&(_=h.map,_&&_.src===y[0]&&!o||(_&&_.src&&_.unmap(),_=h.map=b.map(y[0],k,void 0,!a._.bnd)),y=[_.tgt]),a.ctx=h.ctx,f||(x&&(j=a.template,a.init(h,T,a.ctx),x=void 0),T&&(T.attr=a.attr=T.attr||a.attr),p=a.attr,a._.noVws=p&&p!==Ee),v=void 0,a.render&&(v=a.render.apply(a,y)),y.length||(y=[t]),void 0===v&&(v=h.render(y[0],!0)||(o?void 0:"")),A=A?A+(v||""):v;a.rendering=void 0}return a.tagCtx=r[0],a.ctx=a.tagCtx.ctx,a._.noVws&&a._.inline&&(A="text"===p?ie.html(A):""),M&&t._.onRender?t._.onRender(A,t,a):A}function b(e,t,n,r,i,o,s,a){var d,u,l,p=this,f="array"===t;p.content=a,p.views=f?[]:{},p.parent=n,p.type=t||"top",p.data=r,p.tmpl=i,l=p._={key:0,useKey:f?0:1,id:""+$e++,onRender:s,bnds:{}},p.linked=!!s,n?(d=n.views,u=n._,u.useKey?(d[l.key="_"+u.useKey++]=p,p.index=Ue,p.getIndex=c):d.length===(l.key=p.index=o)?d.push(p):d.splice(o,0,p),p.ctx=e||n.ctx):p.ctx=e}function _(e){var t,n,r,i,o,s,a;for(t in Oe)if(o=Oe[t],(s=o.compile)&&(n=e[t+"s"]))for(r in n)i=n[r]=s(r,n[r],e,0),i._is=t,i&&(a=ae.onStore[t])&&a(r,i,s)}function y(e,t,n){function i(){var t=this;t._={inline:!0,unlinked:!0},t.tagName=e}var o,s,a,d=new ae._tg;if(te(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),s=t.baseTag){t.flow=!!t.flow,t.baseTag=s=""+s===s?n&&n.tags[s]||se[s]:s,d=u(d,s);for(a in t)d[a]=r(s[a],t[a])}else d=u(d,t);return void 0!==(o=d.template)&&(d.template=""+o===o?re[o]||re(o):o),d.init!==!1&&((i.prototype=d).constructor=d._ctr=i),n&&(d._parentTmpl=n),d}function k(e){return this.base.apply(this,e)}function j(e,n,r,i){function o(n){var o,a;if(""+n===n||n.nodeType>0&&(s=n)){if(!s)if(/^\.\/[^\\:*?"<>]*$/.test(n))(a=re[e=e||n])?n=a:s=document.getElementById(n);else if(t.fn&&!W.test(n))try{s=t(document).find(n)[0]}catch(d){}s&&(i?n=s.innerHTML:(o=s.getAttribute(Se),o?o!==Ie?(n=re[o],delete re[o]):t.fn&&(n=t.data(s)[Ie]):(e=e||(t.fn?Ie:n),n=j(e,s.innerHTML,r,i)),n.tmplName=e=e||o,e!==Ie&&(re[e]=n),s.setAttribute(Se,e),t.fn&&t.data(s,Ie,n))),s=void 0}else n.fn||(n=void 0);return n}var s,a,d=n=n||"";return 0===i&&(i=void 0,d=o(d)),i=i||(n.markup?n:{}),i.tmplName=e,r&&(i._parentTmpl=r),!d&&n.markup&&(d=o(n.markup))&&d.fn&&(d=d.markup),void 0!==d?(d.fn||n.fn?d.fn&&(a=d):(n=V(d,i),U(d.replace(ke,"\\$&"),n)),a||(_(i),a=u(function(){return n.render.apply(n,arguments)},n)),e&&!r&&e!==Ie&&(qe[e]=a),a):void 0}function C(e,n){return t.isFunction(e)?e.call(n):e}function A(e){var t,n=[],r=e.length;for(t=0;r>t;t++)n.push(e[t].unmap());return n}function T(e,n){function r(e){l.apply(this,e)}function i(){return new r(arguments)}function o(e,t){var n,r,i,o,s,a=c.length;for(n=0;a>n;n++)o=c[n],r=void 0,o+""!==o&&(r=o,o=r.getter),void 0===(s=e[o])&&r&&void 0!==(i=r.defaultVal)&&(s=C(i,e)),t(s,r&&p[r.type],o)}function s(n){n=n+""===n?JSON.parse(n):n;var r,i,s,u=n,l=[];if(t.isArray(n)){for(n=n||[],i=n.length,r=0;i>r;r++)l.push(this.map(n[r]));return l._is=e,l.unmap=d,l.merge=a,l}if(n){o(n,function(e,t){t&&(e=t.map(e)),l.push(e)}),u=this.apply(this,l);for(s in n)s===ee||b[s]||(u[s]=n[s])}return u}function a(e){e=e+""===e?JSON.parse(e):e;var n,r,s,a,d,u,l,p,c,f,v=this;if(t.isArray(v)){for(p={},f=[],s=e.length,a=v.length,n=0;s>n;n++){for(c=e[n],l=!1,r=0;a>r&&!l;r++)p[r]||(u=v[r],g&&(p[r]=l=g+""===g?c[g]&&(b[g]?u[g]():u[g])===c[g]:g(u,c)));l?(u.merge(c),f.push(u)):f.push(i.map(c))}return void(x?x(v).refresh(f,!0):v.splice.apply(v,[0,v.length].concat(f)))}o(e,function(e,t,n){t?v[n]().merge(e):v[n](e)});for(d in e)d===ee||b[d]||(v[d]=e[d])}function d(){var e,n,r,i,o,s,a=this;if(t.isArray(a))return A(a);for(e={},i=c.length,r=0;i>r;r++)n=c[r],o=void 0,n+""!==n&&(o=n,n=o.getter),s=a[n](),e[n]=o&&s&&p[o.type]?t.isArray(s)?A(s):s.unmap():s;for(n in a)"_is"===n||b[n]||n===ee||"_"===n.charAt(0)&&b[n.slice(1)]||t.isFunction(a[n])||(e[n]=a[n]);return e}var u,l,p=this,c=n.getters,f=n.extend,g=n.id,v=t.extend({_is:e||"unnamed",unmap:d,merge:a},f),h="",m="",w=c?c.length:0,x=t.observable,b={};for(r.prototype=v,u=0;w>u;u++)!function(e){e=e.getter||e,b[e]=u+1;var t="_"+e;h+=(h?",":"")+e,m+="this."+t+" = "+e+";\n",v[e]=v[e]||function(n){return arguments.length?void(x?x(this).setProperty(e,n):this[t]=n):this[t]},x&&(v[e].set=v[e].set||function(e){this[t]=e})}(c[u]);return l=new Function(h,m.slice(0,-1)),l.prototype=v,v.constructor=l,i.map=s,i.getters=c,i.extend=f,i.id=g,i}function V(e,n){var r,i=ue._wm||{},o=u({tmpls:[],links:{},bnds:[],_is:"template",render:N},n);return o.markup=e,n.htmlTag||(r=Ae.exec(e),o.htmlTag=r?r[1].toLowerCase():""),r=i[o.htmlTag],r&&r!==i.div&&(o.markup=t.trim(o.markup)),o}function R(e,t){function n(i,o,s){var a,d,u,l;if(i&&typeof i===Fe&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===e&&i.getters||i.extend)){for(u in i)n(u,i[u],o);return o||Y}return void 0===o&&(o=i,i=void 0),i&&""+i!==i&&(s=o,o=i,i=void 0),l=s?"viewModel"===e?s:s[r]=s[r]||{}:n,d=t.compile,null===o?i&&delete l[i]:(o=d?d.call(l,i,o,s,0):o,i&&(l[i]=o)),d&&o&&(o._is=e),o&&(a=ae.onStore[e])&&a(i,o,d),o}var r=e+"s";Y[r]=n}function M(e){le[e]=function(t){return arguments.length?(de[e]=t,le):de[e]}}function $(e){function t(t,n){this.tgt=e.getTgt(t,n)}return te(e)&&(e={getTgt:e}),e.baseMap&&(e=u(u({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function N(e,t,n,r,i,o){var s,a,d,u,l,p,c,f,g=r,v="";if(t===!0?(n=t,t=void 0):typeof t!==Fe&&(t=void 0),(d=this.tag)?(l=this,g=g||l.view,u=g.getTmpl(d.template||l.tmpl),arguments.length||(e=g)):u=this,u){if(!g&&e&&"view"===e._is&&(g=e),g&&e===g&&(e=g.data),p=!g,me=me||p,g||((t=t||{}).root=e),!me||ue.useViews||u.useViews||g&&g!==X)v=E(u,e,t,n,g,i,o,d);else{if(g?(c=g.data,f=g.index,g.index=Ue):(g=X,g.data=e,g.ctx=t),ne(e)&&!n)for(s=0,a=e.length;a>s;s++)g.index=s,g.data=e[s],v+=u.fn(e[s],g,ae);else g.data=e,v+=u.fn(e,g,ae);g.data=c,g.index=f}p&&(me=void 0)}return v}function E(e,t,n,r,i,o,s,a){function d(e){_=u({},n),_[x]=e}var l,p,c,f,g,v,h,m,w,x,_,y,k="";if(a&&(w=a.tagName,y=a.tagCtx,n=n?L(n,a.ctx):a.ctx,e===i.content?h=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==y.content?e===a.template?(h=y.tmpl,n._wrp=y.content):h=y.content||i.content:h=i.content,y.props.link===!1&&(n=n||{},n.link=!1),(x=y.props.itemVar)&&("~"!==x.charAt(0)&&I("Use itemVar='~myItem'"),x=x.slice(1))),i&&(s=s||i._.onRender,n=L(n,i.ctx)),o===!0&&(v=!0,o=0),s&&(n&&n.link===!1||a&&a._.noVws)&&(s=void 0),m=s,s===!0&&(m=void 0,s=i._.onRender),n=e.helpers?L(e.helpers,n):n,_=n,ne(t)&&!r)for(c=v?i:void 0!==o&&i||new b(n,"array",i,t,e,o,s),i&&i._.useKey&&(c._.bnd=!a||a._.bnd&&a),x&&(c.it=x),x=c.it,l=0,p=t.length;p>l;l++)x&&d(t[l]),f=new b(_,"item",c,t[l],e,(o||0)+l,s,h),g=e.fn(t[l],f,ae),k+=c._.onRender?c._.onRender(g,f):g;else x&&d(t),c=v?i:new b(_,w||"data",i,t,e,o,s,h),a&&!a.flow&&(c.tag=a),k+=e.fn(t,c,ae);return m?m(k,c):k}function F(e,t,n){var r=void 0!==n?te(n)?n.call(t.data,e,t):n||"":"{Error: "+e.message+"}";return de.onError&&void 0!==(n=de.onError.call(t.data,e,n&&r,t))&&(r=n),t&&!t.linkCtx?ie.html(r):r}function S(e){throw new ae.Err(e)}function I(e){S("Syntax error\n"+e)}function U(e,t,n,r,i){function o(t){t-=v,t&&m.push(e.substr(v,t).replace(_e,"\\n"))}function s(t,n){t&&(t+="}}",I((n?"{{"+n+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}function a(a,d,u,c,g,x,b,_,y,k,j,C){(b&&d||y&&!u||_&&":"===_.slice(-1)||k)&&I(a),x&&(g=":",c=Ee),y=y||n&&!i;var A=(d||n)&&[[]],T="",V="",R="",M="",$="",N="",E="",F="",S=!y&&!g;u=u||(_=_||"#data",g),o(C),v=C+a.length,b?f&&m.push(["*","\n"+_.replace(/^:/,"ret+= ").replace(ye,"$1")+";\n"]):u?("else"===u&&(Ce.test(_)&&I('for "{{else if expr}}" use "{{else expr}}"'),A=w[7]&&[[]],w[8]=e.substring(w[8],C),w=h.pop(),m=w[2],S=!0),_&&O(_.replace(_e," "),A,t).replace(je,function(e,t,n,r,i,o,s,a){return r="'"+i+"':",s?(V+=o+",",M+="'"+a+"',"):n?(R+=r+o+",",N+=r+"'"+a+"',"):t?E+=o:("trigger"===i&&(F+=o),T+=r+o+",",$+=r+"'"+a+"',",p=p||Re.test(i)),""}).slice(0,-1),A&&A[0]&&A.pop(),l=[u,c||!!r||p||"",S&&[],J(M||(":"===u?"'#data',":""),$,N),J(V||(":"===u?"data,":""),T,R),E,F,A||0],m.push(l),S&&(h.push(w),w=l,w[8]=v)):j&&(s(j!==w[0]&&"else"!==w[0]&&j,w[0]),w[8]=e.substring(w[8],C),w=h.pop()),s(!w&&j),m=w[2]}var d,u,l,p,c,f=de.allowCode||t&&t.allowCode||le.allowCode===!0,g=[],v=0,h=[],m=g,w=[,,g];if(f&&(t.allowCode=f),n&&(void 0!==r&&(e=e.slice(0,-r.length-2)+ge),e=pe+e+ge),s(h[0]&&h[0][2].pop()[0]),e.replace(G,a),o(e.length),(v=g[g.length-1])&&s(""+v!==v&&+v[8]===v[8]&&v[0]),n){for(u=B(g,e,n),c=[],d=g.length;d--;)c.unshift(g[d][7]);q(u,c)}else u=B(g,t);return u}function q(e,t){var n,r,i=0,o=t.length;for(e.deps=[];o>i;i++){r=t[i];for(n in r)"_jsvto"!==n&&r[n].length&&(e.deps=e.deps.concat(r[n]))}e.paths=r}function J(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function K(e,t){return"\n	"+(t?t+":{":"")+"args:["+e[0]+"]"+(e[1]||!t?",\n	props:{"+e[1]+"}":"")+(e[2]?",\n	ctx:{"+e[2]+"}":"")}function O(e,t,n){function r(r,m,w,x,b,_,y,k,j,C,A,T,V,R,M,$,N,E,F,S){function q(e,n,r,s,a,d,p,c){var f="."===r;if(r&&(b=b.slice(n.length),/^\.?constructor$/.test(c||b)&&I(e),f||(e=(s?'view.hlp("'+s+'")':a?"view":"data")+(c?(d?"."+d:s?"":a?"":"."+r)+(p||""):(c=s?"":a?d||"":r,"")),e+=c?"."+c:"",e=n+("view.data"===e.slice(0,9)?e.slice(5):e)),u)){if(O="linkTo"===i?o=t._jsvto=t._jsvto||[]:l.bd,B=f&&O[O.length-1]){if(B._jsv){for(;B.sb;)B=B.sb;B.bnd&&(b="^"+b.slice(1)),B.sb=b,B.bnd=B.bnd||"^"===b.charAt(0)}}else O.push(b);h[g]=F+(f?1:0)}return e}x=u&&x,x&&!k&&(b=x+b),_=_||"",w=w||m||T,b=b||j,C=C||N||"";var J,K,O,B,L,Q=")";if("["===C&&(C="[j._sq(",Q=")]"),!y||d||a){if(u&&$&&!d&&!a&&(!i||s||o)&&(J=h[g-1],S.length-1>F-(J||0))){if(J=S.slice(J,F+r.length),K!==!0)if(O=o||p[g-1].bd,B=O[O.length-1],B&&B.prm){for(;B.sb&&B.sb.prm;)B=B.sb;L=B.sb={path:B.sb,bnd:B.bnd}}else O.push(L={path:O.pop()});$=ce+":"+J+" onerror=''"+fe,K=f[$],K||(f[$]=!0,f[$]=K=U($,n,!0)),K!==!0&&L&&(L._jsv=K,L.prm=l.bd,L.bnd=L.bnd||L.path&&L.path.indexOf("^")>=0)}return d?(d=!V,d?r:T+'"'):a?(a=!R,a?r:T+'"'):(w?(h[g]=F++,l=p[++g]={bd:[]},w):"")+(E?g?"":(c=S.slice(c,F),(i?(i=s=o=!1,"\b"):"\b,")+c+(c=F+r.length,u&&t.push(l.bd=[]),"\b")):k?(g&&I(e),u&&t.pop(),i=b,s=x,c=F+r.length,x&&(u=l.bd=t[i]=[]),b+":"):b?b.split("^").join(".").replace(xe,q)+(C?(l=p[++g]={bd:[]},v[g]=Q,C):_):_?_:M?(M=v[g]||M,v[g]=!1,l=p[--g],M+(C?(l=p[++g],v[g]=Q,C):"")):A?(v[g]||I(e),","):m?"":(d=V,a=R,'"'))}I(e)}var i,o,s,a,d,u=t&&t[0],l={bd:u},p={0:l},c=0,f=n?n.links:u&&(u.links=u.links||{}),g=0,v={},h={},m=(e+(n?" ":"")).replace(be,r);return!g&&m||I(e)}function B(e,t,n){var r,i,o,s,a,d,u,l,p,c,f,g,v,h,m,w,x,b,_,y,k,j,C,A,T,R,M,$,N,E,F=0,S=ue.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,U="",J={},O=e.length;for(""+t===t?(b=n?'data-link="'+t.replace(_e," ").slice(1,-1)+'"':t,t=0):(b=t.tmplName||"unnamed",t.allowCode&&(J.allowCode=!0),t.debug&&(J.debug=!0),f=t.bnds,x=t.tmpls),r=0;O>r;r++)if(i=e[r],""+i===i)U+='\n+"'+i+'"';else if(o=i[0],"*"===o)U+=";\n"+i[1]+"\nret=ret";else{if(s=i[1],k=!n&&i[2],a=K(i[3],"params")+"},"+K(v=i[4]),$=i[5],E=i[6],j=i[8]&&i[8].replace(ye,"$1"),(T="else"===o)?g&&g.push(i[7]):(F=0,f&&(g=i[7])&&(g=[g],F=f.push(1))),S=S||v[1]||v[2]||g||/view.(?!index)/.test(v[0]),(R=":"===o)?s&&(o=s===Ee?">":s+o):(k&&(_=V(j,J),_.tmplName=b+"/"+o,_.useViews=_.useViews||S,B(k,_),S=_.useViews,x.push(_)),T||(y=o,S=S||o&&(!se[o]||!se[o].flow),A=U,U=""),C=e[r+1],C=C&&"else"===C[0]),N=$?";\ntry{\nret+=":"\n+",h="",m="",R&&(g||E||s&&s!==Ee)){if(M=new Function("data,view,j,u"," // "+b+" "+F+" "+o+"\nreturn {"+a+"};"),M._er=$,M._tag=o,n)return M;q(M,g),w='c("'+s+'",view,',c=!0,h=w+F+",",m=")"}if(U+=R?(n?($?"try{\n":"")+"return ":N)+(c?(c=void 0,S=p=!0,w+(g?(f[F-1]=M,F):"{"+a+"}")+")"):">"===o?(u=!0,"h("+v[0]+")"):(l=!0,"((v="+v[0]+")!=null?v:"+(n?"null)":'"")'))):(d=!0,"\n{view:view,tmpl:"+(k?x.length:"0")+","+a+"},"),y&&!C){if(U="["+U.slice(0,-1)+"]",w='t("'+y+'",view,this,',n||g){if(U=new Function("data,view,j,u"," // "+b+" "+F+" "+y+"\nreturn "+U+";"),U._er=$,U._tag=y,g&&q(f[F-1]=U,g),n)return U;h=w+F+",undefined,",m=")"}U=A+N+w+(F||U)+")",g=0,y=0}$&&(S=!0,U+=";\n}catch(e){ret"+(n?"urn ":"+=")+h+"j._err(e,view,"+$+")"+m+";}"+(n?"":"ret=ret"))}U="// "+b+"\nvar v"+(d?",t=j._tag":"")+(p?",c=j._cnvt":"")+(u?",h=j._html":"")+(n?";\n":',ret=""\n')+(J.debug?"debugger;":"")+U+(n?"\n":";\nreturn ret;"),de.debugMode!==!1&&(U="try {\n"+U+"\n}catch(e){\nreturn j._err(e, view);\n}");try{U=new Function("data,view,j,u",U)}catch(L){I("Compiled template code:\n\n"+U+'\n: "'+L.message+'"')}return t&&(t.fn=U,t.useViews=!!S),U}function L(e,t){return e&&e!==t?t?u(u({},t),e):e:t&&u({},t)}function Q(e){return Ne[e]||(Ne[e]="&#"+e.charCodeAt(0)+";")}function H(e){var t,n,r=[];if(typeof e===Fe)for(t in e)n=e[t],t===ee||te(n)||r.push({key:t,prop:n});return r}function P(e,n,r){var i=this.jquery&&(this[0]||S('Unknown template: "'+this.selector+'"')),o=i.getAttribute(Se);return N.call(o?t.data(i)[Ie]:re(i),e,n,r)}function D(e){return void 0!=e?Ve.test(e)&&(""+e).replace(Me,Q)||e:""}var Z=t===!1;t=t&&t.fn?t:e.jQuery;var z,G,W,X,Y,ee,te,ne,re,ie,oe,se,ae,de,ue,le,pe,ce,fe,ge,ve,he,me,we="v0.9.78",xe=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,be=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,_e=/[ \t]*(\r\n|\n|\r)/g,ye=/\\(['"])/g,ke=/['"\\]/g,je=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Ce=/^if\s/,Ae=/<(\w+)[>\s]/,Te=/[\x00`><"'&=]/g,Ve=/[\x00`><\"'&=]/,Re=/^on[A-Z]|^convert(Back)?$/,Me=Te,$e=0,Ne={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Ee="html",Fe="object",Se="data-jsv-tmpl",Ie="jsvTmpl",Ue="For #index in nested block use #getIndex().",qe={},Je=e.jsrender,Ke=Je&&t&&!t.render,Oe={template:{compile:j},tag:{compile:y},viewModel:{compile:T},helper:{},converter:{}};if(Y={jsviews:we,sub:{View:b,Err:d,tmplFn:U,parse:O,extend:u,extendCtx:L,syntaxErr:I,onStore:{},addSetting:M,settings:{allowCode:!1},advSet:s,_ths:i,_tg:function(){},_cnvt:h,_tag:x,_er:S,_err:F,_html:D,_sq:function(e){return"constructor"===e&&I(""),e}},settings:{delimiters:l,advanced:function(e){return e?(u(ue,e),ae.advSet(),le):ue}},map:$},(d.prototype=new Error).constructor=d,c.depends=function(){return[this.get("item"),"index"]},f.depends="index",b.prototype={get:p,getIndex:f,getRsc:w,getTmpl:v,hlp:g,_is:"view"},ae=Y.sub,le=Y.settings,!(Je||t&&t.render)){for(z in Oe)R(z,Oe[z]);ie=Y.converters,oe=Y.helpers,se=Y.tags,ae._tg.prototype={baseApply:k,cvtArgs:m},X=ae.topView=new b,t?(t.fn.render=P,ee=t.expando,t.observable&&(u(ae,t.views.sub),Y.map=t.views.map)):(t={},Z&&(e.jsrender=t),t.renderFile=t.__express=t.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},t.isFunction=function(e){return"function"==typeof e},t.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},ae._jq=function(e){e!==t&&(u(e,t),t=e,t.fn.render=P,delete t.jsrender,ee=t.expando)},t.jsrender=we),de=ae.settings,de.allowCode=!1,te=t.isFunction,ne=t.isArray,t.render=qe,t.views=Y,t.templates=re=Y.templates;for(he in de)M(he);(le.debugMode=function(e){return void 0===e?de.debugMode:(de.debugMode=e,de.onError=e+""===e?new Function("","return '"+e+"';"):te(e)?e:void 0,le)})(!1),ue=de.advanced={useViews:!1,_jsv:!1},se({"if":{render:function(e){var t=this,n=t.tagCtx,r=t.rendering.done||!e&&(arguments.length||!n.index)?"":(t.rendering.done=!0,t.selected=n.index,n.render(n.view,!0));return r},flow:!0},"for":{render:function(e){var t,n=!arguments.length,r=this,i=r.tagCtx,o="",s=0;return r.rendering.done||(t=n?i.view.data:e,void 0!==t&&(o+=i.render(t,n),s+=ne(t)?t.length:1),(r.rendering.done=s)&&(r.selected=i.index)),o},flow:!0},props:{baseTag:"for",dataMap:$(H),flow:!0},include:{flow:!0},"*":{render:o,flow:!0},":*":{render:o,flow:!0},dbg:oe.dbg=ie.dbg=a}),ie({html:D,attr:D,url:function(e){return void 0!=e?encodeURI(""+e):null===e?e:""}})}return de=ae.settings,le.delimiters("{{","}}","^"),Ke&&Je.views.sub._jq(t),t||Je},window);


