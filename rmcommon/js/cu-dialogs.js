window.cuDialog=window.cuDialog||function n(o,t){"use strict";function a(n){var o=C[g.locale];return o?o[n]:C.en[n]}function e(n,t,a){n.preventDefault();var e=o.isFunction(a)&&a(n)===!1;e||t.modal("hide")}function c(n){var o,t=0;for(o in n)t++;return t}function l(n,t){var a=0;o.each(n,function(n,o){t(n,o,a++)})}function i(n){var t,a;if("object"!=typeof n)throw new Error("Please supply an object of options");if(!n.message)throw new Error("Please specify a message");return n=o.extend({},g,n),n.buttons||(n.buttons={}),n.backdrop=n.backdrop?"static":!1,t=n.buttons,a=c(t),l(t,function(n,e,c){if(o.isFunction(e)&&(e=t[n]={callback:e}),"object"!==o.type(e))throw new Error("button with key "+n+" must be an object");e.label||(e.label=n),e.className||(e.className=2>=a&&c===a-1?"btn-primary":"btn-default")}),n}function r(n,o){var t=n.length,a={};if(1>t||t>2)throw new Error("Invalid argument length");return 2===t||"string"==typeof n[0]?(a[o[0]]=n[0],a[o[1]]=n[1]):a=n[0],a}function u(n,t,a){return o.extend(!0,{},n,r(t,a))}function s(n,o,t){return b(u(f.apply(null,n),o,t),n)}function d(){for(var n={},o=0,t=arguments.length;t>o;o++){var e=arguments[o],c=e.toLowerCase(),l=e.toUpperCase();n[c]={label:a(l)}}return n}function f(){return{buttons:d.apply(null,arguments)}}function b(n,o){var a={};return l(o,function(n,o){a[o]=!0}),l(n.buttons,function(n){if(a[n]===t)throw new Error("button key "+n+" is not allowed (options are "+o.join("\n")+")")}),n}var p={dialog:"<div class='cudialogs cu-modal' tabindex='-1' role='dialog' id=''><div class='cu-dialog-dialog'><div class='cu-dialog-content'><div class='cu-dialog-body'><div class='cudialogs-body'></div></div></div></div></div>",header:"<div class='cu-dialog-header cu-titlebar'><h4 class='cu-dialog-title'>#icon#</h4></div>",footer:"<div class='cu-dialog-footer'></div>",closeButton:"<button type='button' class='cudialogs-close-button close'>&times;</button>",form:"<form class='cudialogs-form'></form>",inputs:{text:"<input class='cudialogs-input form-control' autocomplete=off type=text />"}},m=o("body"),g={locale:"es",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},h={};h.alert=function(){var n;if(n=s(["ok"],arguments,["message","callback"]),n.callback&&!o.isFunction(n.callback))throw new Error("alert requires callback property to be a function when provided");return n.buttons.ok.callback=n.onEscape=function(){return o.isFunction(n.callback)?n.callback():!0},h.dialog(n)},h.confirm=function(){var n;if(n=s(["cancel","confirm"],arguments,["message","callback"]),n.buttons.cancel.callback=n.onEscape=function(){return n.callback(!1)},n.buttons.confirm.callback=function(){return n.callback(!0)},!o.isFunction(n.callback))throw new Error("confirm requires a callback");return h.dialog(n)},h.prompt=function(){var n,a,e,c,l,i;if(c=o(p.form),a={buttons:d("cancel","confirm"),value:""},n=b(u(a,arguments,["title","callback"]),["cancel","confirm"]),i=n.show===t?!0:n.show,n.message=c,n.buttons.cancel.callback=n.onEscape=function(){return n.callback(null)},n.buttons.confirm.callback=function(){return n.callback(l.val())},n.show=!1,!n.title)throw new Error("prompt requires a title");if(!o.isFunction(n.callback))throw new Error("prompt requires a callback");return l=o(p.inputs.text),l.val(n.value),c.append(l),c.on("submit",function(n){n.preventDefault(),e.find(".btn-primary").click()}),e=h.dialog(n),e.off("shown.bs.modal"),e.on("shown.bs.modal",function(){l.focus()}),i===!0&&e.modal("show"),e},h.dialog=function(n){n=i(n);var t=o(p.dialog),a=t.find(".cu-dialog-body"),c=n.buttons,r="",u={onEscape:n.onEscape};if(l(c,function(n,o){r+="<button data-bb-handler='"+n+"' type='button' class='btn "+o.className+"'>"+o.label+"</button>",u[n]=o.callback}),a.find(".cudialogs-body").html(n.message),n.id&&t.attr("id",n.id),n.animate===!0&&t.addClass("fade"),n.owner&&t.attr("data-owner",n.owner),n.className&&t.addClass(n.className),n.width&&t.find(".cu-dialog-dialog").addClass(n.width),n.title&&a.before(p.header),n.closeButton){var s=o(p.closeButton);n.title?t.find(".cu-dialog-header").prepend(s):s.css("margin-top","-10px").prependTo(a)}return n.title&&t.find(".cu-dialog-title").html(n.icon?'<i class="'+n.icon+'"></i> '+n.title:n.title),r.length&&(a.after(p.footer),t.find(".cu-dialog-footer").html(r)),t.on("hidden.bs.modal",function(n){n.target===this&&t.remove()}),t.on("shown.bs.modal",function(){t.find(".btn-primary:first").focus()}),t.on("escape.close.bb",function(n){u.onEscape&&e(n,t,u.onEscape)}),t.on("click",".cu-dialog-content > .cu-dialog-footer button",function(n){var a=o(this).data("bb-handler");e(n,t,u[a])}),t.on("click",".cudialogs-close-button",function(n){e(n,t,u.onEscape)}),t.on("keyup",function(n){27===n.which&&t.trigger("escape.close.bb")}),m.append(t),t.modal({backdrop:n.backdrop,keyboard:!1,show:!1}),n.show&&t.modal("show"),t},h.setDefaults=function(n){o.extend(g,n)},h.hideAll=function(){o(".cudialogs").modal("hide")};var C={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return h.init=function(t){window.cuDialog=n(t||o)},h}(window.jQuery);
